!function(t,e){sumo.define("plugins/css",[],function(){if("undefined"==typeof window)return{load:function(t,e,i){i()}};var t=document.getElementsByTagName("head")[0],e=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)/)||0,i=!1,n=!0;e[1]||e[7]?i=parseInt(e[1])<6||parseInt(e[7])<=9:e[2]?n=!1:e[4]&&(i=parseInt(e[4])<18);var s={};s.pluginBuilder="./css-builder";var a,r=function(){a=document.createElement("style"),t.appendChild(a)},o=function(t,e){r();var i=a.styleSheet||a.sheet;if(i&&i.addImport)i.addImport(t),a.onload=e;else{a.textContent='@import "'+t+'";';var n=setInterval(function(){try{a.sheet.cssRules,clearInterval(n),e()}catch(t){}},10)}},l=function(e,i){var s=document.createElement("link");if(s.type="text/css",s.rel="stylesheet",n)s.onload=function(){s.onload=function(){},setTimeout(i,7)};else var a=setInterval(function(){for(var t=0;t<document.styleSheets.length;t++){if(document.styleSheets[t].href==s.href)return clearInterval(a),i()}},10);s.href=e,t.appendChild(s)};return s.normalize=function(t,e){return".css"==t.substr(t.length-4,4)&&(t=t.substr(0,t.length-4)),e(t)},s.load=function(t,e,n,s){(i?o:l)(e.toUrl(t+".css"),n)},s}),sumo.define("babel",{}),sumo.define("es6",["babel","module"],function(t,e){"use strict";var i,n={};return"undefined"!=typeof window&&window.navigator&&window.document?i=function(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.onreadystatechange=function(t){4===i.readyState&&e(i.responseText)},i.send(null)}:"undefined"!=typeof process&&process.versions&&process.versions.node&&(fs=require.nodeRequire("fs"),i=function(t,e){e(fs.readFileSync(t,"utf8"))}),{version:"0.1.6",load:function(e,s,a,r){var o=r.babel||{},l=r.es6||{},c=l.fileExtension||".es6",h=s.toUrl(e+c),u={sourceMaps:!r.isBuild&&"inline",sourceFileName:e};for(var d in u)o[d]=u[d];i(h,function(i){try{var s=t.transform(i,o).code}catch(t){a.error(t)}r.isBuild&&(n[e]=s),a.fromText(s)})},write:function(t,e,i){e in n&&i.asModule(t+"!"+e,n[e])}}}),sumo.define("es6!launcher/util/constants",[],function(){var t={service:{title:"Service",feature:"services"}},e=[{name:"Subscribers",appId:"subscribers"},{name:"Forms",subItems:[{name:"List Builder",appId:"156085c5-0017-4150-b225-a731ad248f38"},{name:"List Builder",appId:"8dc42610-ae42-4164-90b1-573478b46574"},{name:"Welcome Mat",appId:"4802de2d-b003-4fc4-8d07-901abb51e683"},{name:"Smart Bar",appId:"408190b5-e369-48af-8e31-afb7380ecd66"},{name:"Scroll Box",appId:"13359558-e447-43f3-a3cd-aa61c0b91c02"},{name:"Contact Form",appId:"contact-form"}]},{name:"Messages",appId:"messages",subItems:[{name:"Emails",appId:"messagecenter",isCore:!0},{name:"Chat",appId:"chat",isCore:!0}]},{name:"Social",subItems:[{name:"Share",appId:"share"},{name:"Image Sharer",appId:"image-sharer"},{name:"Highlighter",appId:"highlighter"}]},{name:"Analytics",subItems:[{name:"Dashboard",appId:"dashboard"},{name:"Google Analytics",appId:"googleanalytics"},{name:"Heat Maps",appId:"heatmaps"},{name:"Content Analytics",appId:"content-analytics"}]}],i="notifications",n="messagecenter",s="[24hrCountdown]",a=60,r=[{label:"Email",value:"email"},{label:"Push Notification",value:"push"}],o="subscribers";return{APP_ID:"launcher",SLUG_TO_FEATURE:t,GOOGLE_ANALYTICS_APP_ID:"674d3d92-3a9f-4620-99f6-ff856d18423d",SUMO_STORE_ID:"c9a64ad6-0863-4b66-bc0c-ef0fb5ef15d0",SUMO_HELP_ID:"94c05087-064a-411d-97a8-e3c8c8fdb70e",SETTINGS_ID:"5d26e2da-aef5-41c1-947a-624497281723",HIGHLIGHTER_APP_UUID:"331c6750-848e-4469-b1bb-bfbb4fa4cd99",CONTENT_ANALYTICS_APP_UUID:"a25489e9-848c-4356-97ff-161b0852c509",CONTACT_FORM_APP_UUID:"822aaf16-c4d6-4241-911a-41567c68b443",SHARE_APP_UUID:"9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1",DASHBOARD_APP_UUID:"8a92832c-ad3b-4d7a-9154-22856aa1d9e9",HEAT_MAPS_APP_UUID:"2c40add5-3570-45d7-8212-8fc2942f7f74",IMAGE_SHARER_APP_UUID:"55c989d5-855d-4538-b67b-3cdb46acd968",LIST_BUILDER_3_APP_UUID:"156085c5-0017-4150-b225-a731ad248f38",SIDEBAR_ITEMS:e,CHAT_APP_UUID:"def79cfc-384b-45dd-b6b0-71ee6639860d",CHAT_OBJECT_ID:"f5104759-c678-40f2-8809-add44b178274",NOTIFICATIONS_APP_ID:"notifications",NOTIFICATIONS_APP_UUID:"ee27a0af-9947-40c9-8eab-0ab6a4f7a9c1",APP_STORE_ID:"c9a64ad6-0863-4b66-bc0c-ef0fb5ef15d0",COUNTDOWN_PLACEHOLDER:"[24hrCountdown]",NOTIFICATION_HEIGHT:60,MESSAGECENTER_APP_ID:"messagecenter",MessageTypes:r,MessageFilters:{messageTypes:r,statuses:["queued","sending","sent","active","inactive","deleted","paused"]},SUBSCRIBERS_APP_ID:"subscribers",SUBSCRIBERS_APP_UUID:"c0b81e54-d408-4ee2-911b-46108f8b6e66",SearchFilters:[{key:"name",label:"Name",filters:[{key:"contains",label:"contains"}]},{key:"email",label:"Email Address",filters:[{key:"contains",label:"contains"}]},{key:"created",label:"Signed Up",filters:[{key:"is",label:"on",type:"date"},{key:"before",label:"before",type:"date"},{key:"after",label:"after",type:"date"}]},{key:"country",label:"Country",filters:[{key:"is",label:"is"}]},{key:"source",label:"Source",filters:[{key:"is",label:"is"}]},{key:"type",label:"Type",filters:[{key:"exists",label:"exists"}]}]}}),function(t){"function"==typeof sumo.define&&sumo.define.amd?sumo.define("jquery.cookie",["jquery"],t):t(jQuery)}(function(t){function e(t){return o.raw?t:encodeURIComponent(t)}function i(t){return o.raw?t:decodeURIComponent(t)}function n(t){return e(o.json?JSON.stringify(t):String(t))}function s(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{t=decodeURIComponent(t.replace(r," "))}catch(t){return}try{return o.json?JSON.parse(t):t}catch(t){}}function a(e,i){var n=o.raw?e:s(e);return t.isFunction(i)?i(n):n}var r=/\+/g,o=t.cookie=function(s,r,l){if(void 0!==r&&!t.isFunction(r)){if(l=t.extend({},o.defaults,l),"number"==typeof l.expires){var c=l.expires,h=l.expires=new Date;h.setDate(h.getDate()+c)}return document.cookie=[e(s),"=",n(r),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var u=s?void 0:{},d=document.cookie?document.cookie.split("; "):[],p=0,m=d.length;p<m;p++){var f=d[p].split("="),g=i(f.shift()),v=f.join("=");if(s&&s===g){u=a(v,r);break}s||void 0===(v=a(v))||(u[g]=v)}return u};o.defaults={},t.removeCookie=function(e,i){return void 0!==t.cookie(e)&&(t.cookie(e,"",t.extend({},i,{expires:-1})),!0)}}),function(){var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],e=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,i=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,n="undefined"!=typeof location&&location.href,s=n&&location.protocol&&location.protocol.replace(/\:/,""),a=n&&location.hostname,r=n&&(location.port||void 0),o=[];sumo.define("plugins/text",[],function(){var l,c,h;return"undefined"!=typeof window&&window.navigator&&window.document?c=function(t,e){var i=l.createXhr();i.open("GET",t,!0),i.onreadystatechange=function(){4===i.readyState&&e(i.responseText)},i.send(null)}:"undefined"!=typeof process&&process.versions&&process.versions.node?(h=require.nodeRequire("fs"),c=function(t,e){e(h.readFileSync(t,"utf8"))}):"undefined"!=typeof Packages&&(c=function(t,e){var i=new java.io.File(t),n=java.lang.System.getProperty("line.separator"),i=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(i),"utf-8")),s,a,r="";try{for(s=new java.lang.StringBuffer,(a=i.readLine())&&a.length()&&65279===a.charAt(0)&&(a=a.substring(1)),s.append(a);null!==(a=i.readLine());)s.append(n),s.append(a);r=String(s.toString())}finally{i.close()}e(r)}),l={version:"1.0.2",strip:function(t){if(t){var t=t.replace(e,""),n=t.match(i);n&&(t=n[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var e,i,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(i=0;i<3;i++){n=t[i];try{e=new ActiveXObject(n)}catch(t){}if(e){t=[n];break}}if(!e)throw Error("createXhr(): XMLHttpRequest not available");return e},get:c,parseName:function(t){var e=!1,i=t.indexOf("."),n=t.substring(0,i),t=t.substring(i+1,t.length),i=t.indexOf("!");return-1!==i&&(e=t.substring(i+1,t.length),e="strip"===e,t=t.substring(0,i)),{moduleName:n,ext:t,strip:e}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,e,i,n){var s=l.xdRegExp.exec(t),a;return!s||(t=s[2],s=s[3],s=s.split(":"),a=s[1],s=s[0],!(t&&t!==e||s&&s!==i||(a||s)&&a!==n))},finishLoad:function(t,e,i,n,s){i=e?l.strip(i):i,s.isBuild&&(o[t]=i),n(i)},load:function(t,e,i,o){if(o.isBuild&&!o.inlineText)i();else{var c=l.parseName(t),h=c.moduleName+"."+c.ext,u=e.toUrl(h),d=o&&o.text&&o.text.useXhr||l.useXhr;!n||d(u,s,a,r)?l.get(u,function(e){l.finishLoad(t,c.strip,e,i,o)}):e([h],function(t){l.finishLoad(c.moduleName+"."+c.ext,c.strip,t,i,o)})}},write:function(t,e,i){if(e in o){var n=l.jsEscape(o[e]);i.asModule(t+"!"+e,"define(function () { return '"+n+"';});\n")}},writeFile:function(t,e,i,n,s){var e=l.parseName(e),a=e.moduleName+"."+e.ext,r=i.toUrl(e.moduleName+"."+e.ext)+".js";l.load(a,i,function(){var e=function(t){return n(r,t)};e.asModule=function(t,e){return n.asModule(t,r,e)},l.write(t,a,e,s)},s)}}})}(),sumo.define("plugins/text!highlighter/templates/highlighter.html",[],function(){return'<div id="sumo_twilighter_div" class="sumo_highlighter_desktop" style="display:none">\n  <textarea id="sumo_twilighter_input" class="sumo_twilighter_textarea"></textarea>\n  <div class="sumo_twilighter_admin_highlight" style="display:none;">\n    <a href="javascript:void(0);">Save Highlight</a>\n  </div>\n  <div class="sumo_twilighter_admin" style="display:none;">\n    <a href="javascript:void(0);">Delete Highlight</a>\n  </div>\n  <br>\n  <div class="sumo_twilighter_tweet">\n    <a id="sumo_twilighter_btn" href="javascript:void(0);" alt ="Tweet this">\n      <img class="btn-icon">\n      <span class="btn-text">Tweet</span>\n    </a>\n  </div>\n  <div class="sumo_twilighter_fb">\n    <a id="sumo_twilighter_btn_fb" href="javascript:void(0);" alt="Facebook Share This">\n      <img class="btn-icon">\n      <span class="btn-text">Share</span>\n    </a>\n  </div>\n  <div class="sumo_twilighter_remaining"></div>\n</div>\n'}),sumo.define("plugins/text!highlighter/templates/highlighter_mobile.html",[],function(){return'<div id="sumo_twilighter_div" class="sumo_highlighter_mobile" style="display:none">\n  <div class="sumo_highlighter_m_right">\n    <div class="sumo_twilighter_m_tweet">\n      <a id="sumo_twilighter_btn" href="javascript:void(0);" alt="Tweet this">\n        <i class="btn-icon"></i>\n      </a>\n    </div>\n    <div class="sumo_twilighter_m_fb">\n      <a id="sumo_twilighter_btn_fb" href="javascript:void(0);" alt="Facebook Share This">\n        <i class="btn-icon"></i>\n      </a>\n    </div>\n  </div>\n  <div class="sumo_twilighter_m_input_div">\n    <input id="sumo_twilighter_input" type="text" class="sumo_twilighter_m_input" />\n  </div>\n</div>\n'}),sumo.define("twitter-text",[],function(){function t(t,e){return e=e||"","string"!=typeof t&&(t.global&&e.indexOf("g")<0&&(e+="g"),t.ignoreCase&&e.indexOf("i")<0&&(e+="i"),t.multiline&&e.indexOf("m")<0&&(e+="m"),t=t.source),new RegExp(t.replace(/#\{(\w+)\}/g,function(t,e){var n=i.txt.regexen[e]||"";return"string"!=typeof n&&(n=n.source),n}),e)}function e(t,e){return t.replace(/#\{(\w+)\}/g,function(t,i){return e[i]||""})}var i={};return i.txt={},i.txt.regexen={},i.txt.regexSupplant=t,i.txt.stringSupplant=e,i.txt.regexen.spaces_group=/\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000/,i.txt.regexen.invalid_chars_group=/\uFFFE\uFEFF\uFFFF\u202A-\u202E/,i.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/,i.txt.regexen.non_bmp_code_pairs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/gm,i.txt.regexen.latinAccentChars=/\xC0-\xD6\xD8-\xF6\xF8-\xFF\u0100-\u024F\u0253\u0254\u0256\u0257\u0259\u025B\u0263\u0268\u026F\u0272\u0289\u028B\u02BB\u0300-\u036F\u1E00-\u1EFF/,i.txt.regexen.validUrlPrecedingChars=t(/(?:[^A-Za-z0-9@＠$#＃#{invalid_chars_group}]|^)/),i.txt.regexen.invalidUrlWithoutProtocolPrecedingChars=/[-_.\/]$/,i.txt.regexen.invalidDomainChars=e("#{punct}#{spaces_group}#{invalid_chars_group}",i.txt.regexen),i.txt.regexen.validDomainChars=t(/[^#{invalidDomainChars}]/),i.txt.regexen.validSubdomain=t(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/),i.txt.regexen.validDomainName=t(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/),i.txt.regexen.validGTLD=t(RegExp("(?:(?:삼성|닷컴|닷넷|香格里拉|餐厅|食品|飞利浦|電訊盈科|集团|通販|购物|谷歌|诺基亚|联通|网络|网站|网店|网址|组织机构|移动|珠宝|点看|游戏|淡马锡|机构|書籍|时尚|新闻|政府|政务|手表|手机|我爱你|慈善|微博|广东|工行|家電|娱乐|天主教|大拿|大众汽车|在线|嘉里大酒店|嘉里|商标|商店|商城|公益|公司|八卦|健康|信息|佛山|企业|中文网|中信|世界|ポイント|ファッション|セール|ストア|コム|グーグル|クラウド|みんな|คอม|संगठन|नेट|कॉम|همراه|موقع|موبايلي|كوم|كاثوليك|شبكة|بيتك|بازار|العليان|ارامكو|ابوظبي|קום|сайт|рус|орг|онлайн|москва|ком|католик|дети|zuerich|zone|zippo|zip|zero|zara|zappos|yun|youtube|you|yokohama|yoga|yodobashi|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|voyage|voto|voting|vote|volvo|volkswagen|vodka|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vet|versicherung|vermögensberatung|vermögensberater|verisign|ventures|vegas|vanguard|vana|vacations|ups|uol|uno|university|unicom|uconnect|ubs|ubank|tvs|tushu|tunes|tui|tube|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|tmall|tkmaxx|tjx|tjmaxx|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|tci|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|systems|symantec|sydney|swiss|swiftcover|swatch|suzuki|surgery|surf|support|supply|supplies|sucks|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|srt|srl|spreadbetting|spot|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|sncf|smile|smart|sling|skype|sky|skin|ski|site|singles|sina|silk|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sbs|sbi|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|ryukyu|rwe|run|ruhr|rsvp|room|rogers|rodeo|rocks|rocher|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|raid|radio|racing|qvc|quest|quebec|qpon|pwc|pub|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|post|porn|politie|poker|pohl|pnc|plus|plumbing|playstation|play|place|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|pharmacy|pfizer|pet|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|pamperedchef|page|ovh|ott|otsuka|osaka|origins|orientexpress|organic|org|orange|oracle|open|ooo|onyourside|online|onl|ong|one|omega|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nyc|ntt|nrw|nra|nowtv|nowruz|now|norton|northwesternmutual|nokia|nissay|nissan|ninja|nikon|nike|nico|nhk|ngo|nfl|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|nba|navy|natura|nationwide|name|nagoya|nadex|nab|mutuelle|mutual|museum|mtr|mtpc|mtn|msd|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|montblanc|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mma|mls|mlb|mitsubishi|mit|mint|mini|mil|microsoft|miami|metlife|meo|menu|men|memorial|meme|melbourne|meet|media|med|mckinsey|mcdonalds|mcd|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|mango|management|man|makeup|maison|maif|madrid|macys|luxury|luxe|lupin|lundbeck|ltda|ltd|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|kyoto|kuokgroup|kred|krd|kpn|kpmg|kosher|komatsu|koeln|kiwi|kitchen|kindle|kinder|kim|kia|kfh|kerryproperties|kerrylogistics|kerryhotels|kddi|kaufen|juniper|juegos|jprs|jpmorgan|joy|jot|joburg|jobs|jnj|jmp|jll|jlc|jio|jewelry|jetzt|jeep|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|istanbul|ist|ismaili|iselect|irish|ipiranga|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|immobilien|immo|imdb|imamat|ikano|iinet|ifm|ieee|icu|ice|icbc|ibm|hyundai|hyatt|hughes|htc|hsbc|how|house|hotmail|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hkt|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|guru|guitars|guide|guge|gucci|guardian|group|gripe|green|gratis|graphics|grainger|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gmx|gmo|gmbh|gmail|globo|global|gle|glass|glade|giving|gives|gifts|gift|ggee|george|genting|gent|gea|gdn|gbiz|garden|gap|games|game|gallup|gallo|gallery|gal|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fly|flsmidth|flowers|florist|flir|flights|flickr|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|esurance|estate|esq|erni|ericsson|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|education|edu|edeka|eco|eat|earth|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|doosan|domains|doha|dog|dodge|doctor|docs|dnp|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cyou|cymru|cuisinella|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|church|chrysler|chrome|christmas|chloe|chintai|cheap|chat|chase|channel|chanel|cfd|cfa|cern|ceo|center|ceb|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|bzh|buzz|buy|business|builders|build|bugatti|budapest|brussels|brother|broker|broadway|bridgestone|bradesco|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bnpparibas|bnl|bmw|bms|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|biz|bio|bingo|bing|bike|bid|bible|bharti|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|bcn|bcg|bbva|bbt|bbc|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|azure|axa|aws|avianca|autos|auto|author|auspost|audio|audible|audi|auction|attorney|athleta|associates|asia|asda|arte|art|arpa|army|archi|aramco|aquarelle|apple|app|apartments|aol|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|akdn|airtel|airforce|airbus|aigo|aig|agency|agakhan|afl|afamilycompany|aetna|aero|aeg|adult|ads|adac|actor|active|aco|accountants|accountant|accenture|academy|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa|onion)(?=[^0-9a-zA-Z@]|$))")),i.txt.regexen.validCCTLD=t(RegExp("(?:(?:한국|香港|澳門|新加坡|台灣|台湾|中國|中国|გე|ไทย|ලංකා|ഭാരതം|ಭಾರತ|భారత్|சிங்கப்பூர்|இலங்கை|இந்தியா|ଭାରତ|ભારત|ਭਾਰਤ|ভাৰত|ভারত|বাংলা|भारोत|भारतम्|भारत|ڀارت|پاکستان|مليسيا|مصر|قطر|فلسطين|عمان|عراق|سورية|سودان|تونس|بھارت|بارت|ایران|امارات|المغرب|السعودية|الجزائر|الاردن|հայ|қаз|укр|срб|рф|мон|мкд|ею|бел|бг|ελ|zw|zm|za|yt|ye|ws|wf|vu|vn|vi|vg|ve|vc|va|uz|uy|us|um|uk|ug|ua|tz|tw|tv|tt|tr|tp|to|tn|tm|tl|tk|tj|th|tg|tf|td|tc|sz|sy|sx|sv|su|st|ss|sr|so|sn|sm|sl|sk|sj|si|sh|sg|se|sd|sc|sb|sa|rw|ru|rs|ro|re|qa|py|pw|pt|ps|pr|pn|pm|pl|pk|ph|pg|pf|pe|pa|om|nz|nu|nr|np|no|nl|ni|ng|nf|ne|nc|na|mz|my|mx|mw|mv|mu|mt|ms|mr|mq|mp|mo|mn|mm|ml|mk|mh|mg|mf|me|md|mc|ma|ly|lv|lu|lt|ls|lr|lk|li|lc|lb|la|kz|ky|kw|kr|kp|kn|km|ki|kh|kg|ke|jp|jo|jm|je|it|is|ir|iq|io|in|im|il|ie|id|hu|ht|hr|hn|hm|hk|gy|gw|gu|gt|gs|gr|gq|gp|gn|gm|gl|gi|gh|gg|gf|ge|gd|gb|ga|fr|fo|fm|fk|fj|fi|eu|et|es|er|eh|eg|ee|ec|dz|do|dm|dk|dj|de|cz|cy|cx|cw|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|ca|bz|by|bw|bv|bt|bs|br|bq|bo|bn|bm|bl|bj|bi|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|as|ar|aq|ao|an|am|al|ai|ag|af|ae|ad|ac)(?=[^0-9a-zA-Z@]|$))")),i.txt.regexen.validPunycode=/(?:xn--[0-9a-z]+)/,i.txt.regexen.validSpecialCCTLD=/(?:(?:co|tv)(?=[^0-9a-zA-Z@]|$))/,i.txt.regexen.validDomain=t(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/),i.txt.regexen.validAsciiDomain=t(/(?:(?:[\-a-z0-9#{latinAccentChars}]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi),i.txt.regexen.invalidShortDomain=t(/^#{validDomainName}#{validCCTLD}$/i),i.txt.regexen.validSpecialShortDomain=t(/^#{validDomainName}#{validSpecialCCTLD}$/i),i.txt.regexen.validPortNumber=/[0-9]+/,i.txt.regexen.cyrillicLettersAndMarks=/\u0400-\u04FF/,i.txt.regexen.validGeneralUrlPathChars=t(/[a-z#{cyrillicLettersAndMarks}0-9!\*';:=\+,\.\$\/%#\[\]\-_~@\|&#{latinAccentChars}]/i),i.txt.regexen.validUrlBalancedParens=t("\\((?:#{validGeneralUrlPathChars}+|(?:#{validGeneralUrlPathChars}*\\(#{validGeneralUrlPathChars}+\\)#{validGeneralUrlPathChars}*))\\)","i"),i.txt.regexen.validUrlPathEndingChars=t(/[\+\-a-z#{cyrillicLettersAndMarks}0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i),i.txt.regexen.validUrlPath=t("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))","i"),i.txt.regexen.validUrlQueryChars=/[a-z0-9!?\*'@\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i,i.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i,i.txt.regexen.extractUrl=t("((#{validUrlPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi"),i.txt.regexen.validTcoUrl=/^https?:\/\/t\.co\/[a-z0-9]+/i,i.txt.regexen.urlHasHttps=/^https:\/\//i,i.txt.extractUrlsWithIndices=function(t,e){if(e||(e={extractUrlsWithoutProtocol:!0}),!t||(e.extractUrlsWithoutProtocol?!t.match(/\./):!t.match(/:/)))return[];for(var n=[];i.txt.regexen.extractUrl.exec(t);){var s=RegExp.$2,a=RegExp.$3,r=RegExp.$4,o=RegExp.$5,l=RegExp.$7,c=i.txt.regexen.extractUrl.lastIndex,h=c-a.length;if(r)a.match(i.txt.regexen.validTcoUrl)&&(a=RegExp.lastMatch,c=h+a.length),n.push({url:a,indices:[h,c]});else{if(!e.extractUrlsWithoutProtocol||s.match(i.txt.regexen.invalidUrlWithoutProtocolPrecedingChars))continue;var u=null,d=0;if(o.replace(i.txt.regexen.validAsciiDomain,function(t){var e=o.indexOf(t,d);d=e+t.length,u={url:t,indices:[h+e,h+d]},(l||t.match(i.txt.regexen.validSpecialShortDomain)||!t.match(i.txt.regexen.invalidShortDomain))&&n.push(u)}),null==u)continue;l&&(u.url=a.replace(o,u.url),u.indices[1]=c)}}return n},i.txt.modifyIndicesFromUTF16ToUnicode=function(t,e){i.txt.convertUnicodeIndices(t,e,!0)},i.txt.getUnicodeTextLength=function(t){return t.replace(i.txt.regexen.non_bmp_code_pairs," ").length},i.txt.convertUnicodeIndices=function(t,e,i){if(0!=e.length){var n=0,s=0;e.sort(function(t,e){return t.indices[0]-e.indices[0]});for(var a=0,r=e[0];n<t.length;){if(r.indices[0]==(i?n:s)){var o=r.indices[1]-r.indices[0];if(r.indices[0]=i?s:n,r.indices[1]=r.indices[0]+o,++a==e.length)break;r=e[a]}var l=t.charCodeAt(n);55296<=l&&l<=56319&&n<t.length-1&&56320<=(l=t.charCodeAt(n+1))&&l<=57343&&n++,s++,n++}}},i.txt.getTweetLength=function(t,e){e||(e={short_url_length:23,short_url_length_https:23});var n=i.txt.getUnicodeTextLength(t),s=i.txt.extractUrlsWithIndices(t);i.txt.modifyIndicesFromUTF16ToUnicode(t,s);for(var a=0;a<s.length;a++)n+=s[a].indices[0]-s[a].indices[1],s[a].url.toLowerCase().match(i.txt.regexen.urlHasHttps)?n+=e.short_url_length_https:n+=e.short_url_length;return n},i}),sumo.define("jquery.style",["jquery"],function(t){if(!t.fn.style){var e=function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};!!CSSStyleDeclaration.prototype.getPropertyValue||(CSSStyleDeclaration.prototype.getPropertyValue=function(t){return this.getAttribute(t)},CSSStyleDeclaration.prototype.setProperty=function(t,i,n){this.setAttribute(t,i);var n=void 0!==n?n:"";if(""!=n){var s=new RegExp(e(t)+"\\s*:\\s*"+e(i)+"(\\s*;)?","gmi");this.cssText=this.cssText.replace(s,t+": "+i+" !"+n+";")}},CSSStyleDeclaration.prototype.removeProperty=function(t){return this.removeAttribute(t)},CSSStyleDeclaration.prototype.getPropertyPriority=function(t){return new RegExp(e(t)+"\\s*:\\s*[^\\s]*\\s*!important(\\s*;)?","gmi").test(this.cssText)?"important":""}),t.fn.style=function(t,e,i){if(void 0===this.get(0))return this;var n=this.get(0).style;return void 0!==t?void 0!==e?(i="important"==i?i:"","important"!=i&&"important"==n.getPropertyPriority(t)&&n.removeProperty(t),n.setProperty(t,e,i),this):n.getPropertyValue(t):n}}}),sumo.define("punycode",function(){}),sumo.define("IPv6",function(){}),sumo.define("SecondLevelDomains",function(){}),function(i,n){"object"==typeof t?e.exports=n(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof sumo.define&&sumo.define.amd?sumo.define("URI",["./punycode","./IPv6","./SecondLevelDomains"],n):i.URI=n(i.punycode,i.IPv6,i.SecondLevelDomains,i)}(this,function(t,e,i,n){"use strict";function s(t,e){return this instanceof s?(void 0===t&&(t="undefined"!=typeof location?location.href+"":""),this.href(t),void 0!==e?this.absoluteTo(e):this):new s(t,e)}function a(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function r(t){return void 0===t?"Undefined":String(Object.prototype.toString.call(t)).slice(8,-1)}function o(t){return"Array"===r(t)}function l(t,e){var i={},n,s;if(o(e))for(n=0,s=e.length;n<s;n++)i[e[n]]=!0;else i[e]=!0;for(n=0,s=t.length;n<s;n++)void 0!==i[t[n]]&&(t.splice(n,1),s--,n--);return t}function c(t,e){var i,n;if(o(e)){for(i=0,n=e.length;i<n;i++)if(!c(t,e[i]))return!1;return!0}var s=r(e);for(i=0,n=t.length;i<n;i++)if("RegExp"===s){if("string"==typeof t[i]&&t[i].match(e))return!0}else if(t[i]===e)return!0;return!1}function h(t,e){if(!o(t)||!o(e))return!1;if(t.length!==e.length)return!1;t.sort(),e.sort();for(var i=0,n=t.length;i<n;i++)if(t[i]!==e[i])return!1;return!0}function u(t){return escape(t)}function d(t){return encodeURIComponent(t).replace(/[!'()*]/g,u).replace(/\*/g,"%2A")}var p=n&&n.URI;s.version="1.12.0";var m=s.prototype,f=Object.prototype.hasOwnProperty;s._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:s.duplicateQueryParameters,escapeQuerySpace:s.escapeQuerySpace}},s.duplicateQueryParameters=!1,s.escapeQuerySpace=!0,s.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,s.idn_expression=/[^a-z0-9\.-]/i,s.punycode_expression=/(xn--)/i,s.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,s.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,s.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/},s.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},s.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,s.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"},s.getDomAttribute=function(t){if(t&&t.nodeName){var e=t.nodeName.toLowerCase();if("input"!==e||"image"===t.type)return s.domAttributes[e]}},s.encode=d,s.decode=decodeURIComponent,s.iso8859=function(){s.encode=escape,s.decode=unescape},s.unicode=function(){s.encode=d,s.decode=decodeURIComponent},s.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},s.encodeQuery=function(t,e){var i=s.encode(t+"");return e?i.replace(/%20/g,"+"):i},s.decodeQuery=function(t,e){t+="";try{return s.decode(e?t.replace(/\+/g,"%20"):t)}catch(e){return t}},s.recodePath=function(t){for(var e=(t+"").split("/"),i=0,n=e.length;i<n;i++)e[i]=s.encodePathSegment(s.decode(e[i]));return e.join("/")},s.decodePath=function(t){for(var e=(t+"").split("/"),i=0,n=e.length;i<n;i++)e[i]=s.decodePathSegment(e[i]);return e.join("/")};var g={encode:"encode",decode:"decode"},v,b=function(t,e){return function(i){return s[e](i+"").replace(s.characters[t][e].expression,function(i){return s.characters[t][e].map[i]})}};for(v in g)s[v+"PathSegment"]=b("pathname",g[v]);s.encodeReserved=b("reserved","encode"),s.parse=function(t,e){var i;return e||(e={}),i=t.indexOf("#"),i>-1&&(e.fragment=t.substring(i+1)||null,t=t.substring(0,i)),i=t.indexOf("?"),i>-1&&(e.query=t.substring(i+1)||null,t=t.substring(0,i)),"//"===t.substring(0,2)?(e.protocol=null,t=t.substring(2),t=s.parseAuthority(t,e)):(i=t.indexOf(":"))>-1&&(e.protocol=t.substring(0,i)||null,
e.protocol&&!e.protocol.match(s.protocol_expression)?e.protocol=void 0:"file"===e.protocol?t=t.substring(i+3):"//"===t.substring(i+1,i+3)?(t=t.substring(i+3),t=s.parseAuthority(t,e)):(t=t.substring(i+1),e.urn=!0)),e.path=t,e},s.parseHost=function(t,e){var i=t.indexOf("/"),n,s;return-1===i&&(i=t.length),"["===t.charAt(0)?(n=t.indexOf("]"),e.hostname=t.substring(1,n)||null,e.port=t.substring(n+2,i)||null):t.indexOf(":")!==t.lastIndexOf(":")?(e.hostname=t.substring(0,i)||null,e.port=null):(s=t.substring(0,i).split(":"),e.hostname=s[0]||null,e.port=s[1]||null),e.hostname&&"/"!==t.substring(i).charAt(0)&&(i++,t="/"+t),t.substring(i)||"/"},s.parseAuthority=function(t,e){return t=s.parseUserinfo(t,e),s.parseHost(t,e)},s.parseUserinfo=function(t,e){var i=t.indexOf("/"),n=i>-1?t.lastIndexOf("@",i):t.indexOf("@"),a;return n>-1&&(-1===i||n<i)?(a=t.substring(0,n).split(":"),e.username=a[0]?s.decode(a[0]):null,a.shift(),e.password=a[0]?s.decode(a.join(":")):null,t=t.substring(n+1)):(e.username=null,e.password=null),t},s.parseQuery=function(t,e){if(!t)return{};if(!(t=t.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var i={},n=t.split("&"),a=n.length,r,o,l,c=0;c<a;c++)r=n[c].split("="),o=s.decodeQuery(r.shift(),e),l=r.length?s.decodeQuery(r.join("="),e):null,i[o]?("string"==typeof i[o]&&(i[o]=[i[o]]),i[o].push(l)):i[o]=l;return i},s.build=function(t){var e="";return t.protocol&&(e+=t.protocol+":"),t.urn||!e&&!t.hostname||(e+="//"),e+=s.buildAuthority(t)||"","string"==typeof t.path&&("/"!==t.path.charAt(0)&&"string"==typeof t.hostname&&(e+="/"),e+=t.path),"string"==typeof t.query&&t.query&&(e+="?"+t.query),"string"==typeof t.fragment&&t.fragment&&(e+="#"+t.fragment),e},s.buildHost=function(t){var e="";return t.hostname?(s.ip6_expression.test(t.hostname)?t.port?e+="["+t.hostname+"]:"+t.port:e+=t.hostname:(e+=t.hostname,t.port&&(e+=":"+t.port)),e):""},s.buildAuthority=function(t){return s.buildUserinfo(t)+s.buildHost(t)},s.buildUserinfo=function(t){var e="";return t.username&&(e+=s.encode(t.username),t.password&&(e+=":"+s.encode(t.password)),e+="@"),e},s.buildQuery=function(t,e,i){var n="",a,r,l,c;for(r in t)if(f.call(t,r)&&r)if(o(t[r]))for(a={},l=0,c=t[r].length;l<c;l++)void 0!==t[r][l]&&void 0===a[t[r][l]+""]&&(n+="&"+s.buildQueryParameter(r,t[r][l],i),!0!==e&&(a[t[r][l]+""]=!0));else void 0!==t[r]&&(n+="&"+s.buildQueryParameter(r,t[r],i));return n.substring(1)},s.buildQueryParameter=function(t,e,i){return s.encodeQuery(t,i)+(null!==e?"="+s.encodeQuery(e,i):"")},s.addQuery=function(t,e,i){if("object"==typeof e)for(var n in e)f.call(e,n)&&s.addQuery(t,n,e[n]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===t[e])return void(t[e]=i);"string"==typeof t[e]&&(t[e]=[t[e]]),o(i)||(i=[i]),t[e]=t[e].concat(i)}},s.removeQuery=function(t,e,i){var n,a,r;if(o(e))for(n=0,a=e.length;n<a;n++)t[e[n]]=void 0;else if("object"==typeof e)for(r in e)f.call(e,r)&&s.removeQuery(t,r,e[r]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");void 0!==i?t[e]===i?t[e]=void 0:o(t[e])&&(t[e]=l(t[e],i)):t[e]=void 0}},s.hasQuery=function(t,e,i,n){if("object"==typeof e){for(var a in e)if(f.call(e,a)&&!s.hasQuery(t,a,e[a]))return!1;return!0}if("string"!=typeof e)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(r(i)){case"Undefined":return e in t;case"Boolean":return i===Boolean(o(t[e])?t[e].length:t[e]);case"Function":return!!i(t[e],e,t);case"Array":if(!o(t[e]))return!1;return(n?c:h)(t[e],i);case"RegExp":return o(t[e])?!!n&&c(t[e],i):Boolean(t[e]&&t[e].match(i));case"Number":i=String(i);case"String":return o(t[e])?!!n&&c(t[e],i):t[e]===i;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},s.commonPath=function(t,e){var i=Math.min(t.length,e.length),n;for(n=0;n<i;n++)if(t.charAt(n)!==e.charAt(n)){n--;break}return n<1?t.charAt(0)===e.charAt(0)&&"/"===t.charAt(0)?"/":"":("/"===t.charAt(n)&&"/"===e.charAt(n)||(n=t.substring(0,n).lastIndexOf("/")),t.substring(0,n+1))},s.withinString=function(t,e,i){i||(i={});var n=i.start||s.findUri.start,a=i.end||s.findUri.end,r=i.trim||s.findUri.trim,o=/[a-z0-9-]=["']?$/i;for(n.lastIndex=0;;){var l=n.exec(t);if(!l)break;var c=l.index;if(i.ignoreHtml){var h=t.slice(Math.max(c-3,0),c);if(h&&o.test(h))continue}var u=c+t.slice(c).search(a),d=t.slice(c,u).replace(r,"");if(!i.ignore||!i.ignore.test(d)){u=c+d.length;var p=e(d,c,u,t);t=t.slice(0,c)+p+t.slice(u),n.lastIndex=c+p.length}}return n.lastIndex=0,t},s.ensureValidHostname=function(e){if(e.match(s.invalid_hostname_characters)){if(!t)throw new TypeError("Hostname '"+e+"' contains characters other than [A-Z0-9.-] and Punycode.js is not available");if(t.toASCII(e).match(s.invalid_hostname_characters))throw new TypeError("Hostname '"+e+"' contains characters other than [A-Z0-9.-]")}},s.noConflict=function(t){if(t){var i={URI:this.noConflict()};return URITemplate&&"function"==typeof URITemplate.noConflict&&(i.URITemplate=URITemplate.noConflict()),e&&"function"==typeof e.noConflict&&(i.IPv6=e.noConflict()),SecondLevelDomains&&"function"==typeof SecondLevelDomains.noConflict&&(i.SecondLevelDomains=SecondLevelDomains.noConflict()),i}return n.URI===this&&(n.URI=p),this},m.build=function(t){return!0===t?this._deferred_build=!0:(void 0===t||this._deferred_build)&&(this._string=s.build(this._parts),this._deferred_build=!1),this},m.clone=function(){return new s(this)},m.valueOf=m.toString=function(){return this.build(!1)._string},g={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"},b=function(t){return function(e,i){return void 0===e?this._parts[t]||"":(this._parts[t]=e||null,this.build(!i),this)}};for(v in g)m[v]=b(g[v]);g={query:"?",fragment:"#"},b=function(t,e){return function(i,n){return void 0===i?this._parts[t]||"":(null!==i&&(i+="",i.charAt(0)===e&&(i=i.substring(1))),this._parts[t]=i,this.build(!n),this)}};for(v in g)m[v]=b(v,g[v]);g={search:["?","query"],hash:["#","fragment"]},b=function(t,e){return function(i,n){var s=this[t](i,n);return"string"==typeof s&&s.length?e+s:s}};for(v in g)m[v]=b(g[v][1],g[v][0]);m.pathname=function(t,e){if(void 0===t||!0===t){var i=this._parts.path||(this._parts.hostname?"/":"");return t?s.decodePath(i):i}return this._parts.path=t?s.recodePath(t):"/",this.build(!e),this},m.path=m.pathname,m.href=function(t,e){var i;if(void 0===t)return this.toString();this._string="",this._parts=s._parts();var n=t instanceof s,a="object"==typeof t&&(t.hostname||t.path||t.pathname);if(t.nodeName){t=t[s.getDomAttribute(t)]||"",a=!1}if(!n&&a&&void 0!==t.pathname&&(t=t.toString()),"string"==typeof t)this._parts=s.parse(t,this._parts);else{if(!n&&!a)throw new TypeError("invalid input");var r=n?t._parts:t;for(i in r)f.call(this._parts,i)&&(this._parts[i]=r[i])}return this.build(!e),this},m.is=function(t){var e=!1,n=!1,a=!1,r=!1,o=!1,l=!1,c=!1,h=!this._parts.urn;switch(this._parts.hostname&&(h=!1,n=s.ip4_expression.test(this._parts.hostname),a=s.ip6_expression.test(this._parts.hostname),e=n||a,r=!e,o=r&&i&&i.has(this._parts.hostname),l=r&&s.idn_expression.test(this._parts.hostname),c=r&&s.punycode_expression.test(this._parts.hostname)),t.toLowerCase()){case"relative":return h;case"absolute":return!h;case"domain":case"name":return r;case"sld":return o;case"ip":return e;case"ip4":case"ipv4":case"inet4":return n;case"ip6":case"ipv6":case"inet6":return a;case"idn":return l;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return c}return null};var _=m.protocol,y=m.port,w=m.hostname;m.protocol=function(t,e){if(void 0!==t&&t&&(t=t.replace(/:(\/\/)?$/,""),!t.match(s.protocol_expression)))throw new TypeError("Protocol '"+t+"' contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return _.call(this,t,e)},m.scheme=m.protocol,m.port=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t&&(0===t&&(t=null),t&&(t+="",":"===t.charAt(0)&&(t=t.substring(1)),t.match(/[^0-9]/))))throw new TypeError("Port '"+t+"' contains characters other than [0-9]");return y.call(this,t,e)},m.hostname=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t){var i={};s.parseHost(t,i),t=i.hostname}return w.call(this,t,e)},m.host=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?s.buildHost(this._parts):"":(s.parseHost(t,this._parts),this.build(!e),this)},m.authority=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?s.buildAuthority(this._parts):"":(s.parseAuthority(t,this._parts),this.build(!e),this)},m.userinfo=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.username)return"";var i=s.buildUserinfo(this._parts);return i.substring(0,i.length-1)}return"@"!==t[t.length-1]&&(t+="@"),s.parseUserinfo(t,this._parts),this.build(!e),this},m.resource=function(t,e){var i;return void 0===t?this.path()+this.search()+this.hash():(i=s.parse(t),this._parts.path=i.path,this._parts.query=i.query,this._parts.fragment=i.fragment,this.build(!e),this)},m.subdomain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,i)||""}var n=this._parts.hostname.length-this.domain().length,r=this._parts.hostname.substring(0,n),o=new RegExp("^"+a(r));return t&&"."!==t.charAt(t.length-1)&&(t+="."),t&&s.ensureValidHostname(t),this._parts.hostname=this._parts.hostname.replace(o,t),this.build(!e),this},m.domain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.match(/\./g);if(i&&i.length<2)return this._parts.hostname;var n=this._parts.hostname.length-this.tld(e).length-1;return n=this._parts.hostname.lastIndexOf(".",n-1)+1,this._parts.hostname.substring(n)||""}if(!t)throw new TypeError("cannot set domain empty");if(s.ensureValidHostname(t),!this._parts.hostname||this.is("IP"))this._parts.hostname=t;else{var r=new RegExp(a(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(r,t)}return this.build(!e),this},m.tld=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.lastIndexOf("."),s=this._parts.hostname.substring(n+1);return!0!==e&&i&&i.list[s.toLowerCase()]?i.get(this._parts.hostname)||s:s}var r;if(!t)throw new TypeError("cannot set TLD empty");if(t.match(/[^a-zA-Z0-9-]/)){if(!i||!i.is(t))throw new TypeError("TLD '"+t+"' contains characters other than [A-Z0-9]");r=new RegExp(a(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(r,t)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");r=new RegExp(a(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(r,t)}return this.build(!e),this},m.directory=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var i=this._parts.path.length-this.filename().length-1,n=this._parts.path.substring(0,i)||(this._parts.hostname?"/":"");return t?s.decodePath(n):n}var r=this._parts.path.length-this.filename().length,o=this._parts.path.substring(0,r),l=new RegExp("^"+a(o));return this.is("relative")||(t||(t="/"),"/"!==t.charAt(0)&&(t="/"+t)),t&&"/"!==t.charAt(t.length-1)&&(t+="/"),t=s.recodePath(t),this._parts.path=this._parts.path.replace(l,t),this.build(!e),this},m.filename=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this._parts.path||"/"===this._parts.path)return"";var i=this._parts.path.lastIndexOf("/"),n=this._parts.path.substring(i+1);return t?s.decodePathSegment(n):n}var r=!1;"/"===t.charAt(0)&&(t=t.substring(1)),t.match(/\.?\//)&&(r=!0);var o=new RegExp(a(this.filename())+"$");return t=s.recodePath(t),this._parts.path=this._parts.path.replace(o,t),r?this.normalizePath(e):this.build(!e),this},m.suffix=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this._parts.path||"/"===this._parts.path)return"";var i=this.filename(),n=i.lastIndexOf("."),r,o;return-1===n?"":(r=i.substring(n+1),o=/^[a-z0-9%]+$/i.test(r)?r:"",t?s.decodePathSegment(o):o)}"."===t.charAt(0)&&(t=t.substring(1));var l=this.suffix(),c;if(l)c=t?new RegExp(a(l)+"$"):new RegExp(a("."+l)+"$");else{if(!t)return this;this._parts.path+="."+s.recodePath(t)}return c&&(t=s.recodePath(t),this._parts.path=this._parts.path.replace(c,t)),this.build(!e),this},m.segment=function(t,e,i){var n=this._parts.urn?":":"/",s=this.path(),a="/"===s.substring(0,1),r=s.split(n);if(void 0!==t&&"number"!=typeof t&&(i=e,e=t,t=void 0),void 0!==t&&"number"!=typeof t)throw new Error("Bad segment '"+t+"', must be 0-based integer");if(a&&r.shift(),t<0&&(t=Math.max(r.length+t,0)),void 0===e)return void 0===t?r:r[t];if(null===t||void 0===r[t])if(o(e)){r=[];for(var l=0,c=e.length;l<c;l++)(e[l].length||r.length&&r[r.length-1].length)&&(r.length&&!r[r.length-1].length&&r.pop(),r.push(e[l]))}else(e||"string"==typeof e)&&(""===r[r.length-1]?r[r.length-1]=e:r.push(e));else e||"string"==typeof e&&e.length?r[t]=e:r.splice(t,1);return a&&r.unshift(""),this.path(r.join(n),i)},m.segmentCoded=function(t,e,i){var n,a,r;if("number"!=typeof t&&(i=e,e=t,t=void 0),void 0===e){if(n=this.segment(t,e,i),o(n))for(a=0,r=n.length;a<r;a++)n[a]=s.decode(n[a]);else n=void 0!==n?s.decode(n):void 0;return n}if(o(e))for(a=0,r=e.length;a<r;a++)e[a]=s.decode(e[a]);else e="string"==typeof e?s.encode(e):e;return this.segment(t,e,i)};var x=m.query;return m.query=function(t,e){if(!0===t)return s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof t){var i=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace),n=t.call(this,i);return this._parts.query=s.buildQuery(n||i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this}return void 0!==t&&"string"!=typeof t?(this._parts.query=s.buildQuery(t,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this):x.call(this,t,e)},m.setQuery=function(t,e,i){var n=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("object"==typeof t)for(var a in t)f.call(t,a)&&(n[a]=t[a]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");n[t]=void 0!==e?e:null}return this._parts.query=s.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(i=e),this.build(!i),this},m.addQuery=function(t,e,i){var n=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return s.addQuery(n,t,void 0===e?null:e),this._parts.query=s.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(i=e),this.build(!i),this},m.removeQuery=function(t,e,i){var n=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return s.removeQuery(n,t,e),this._parts.query=s.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(i=e),this.build(!i),this},m.hasQuery=function(t,e,i){var n=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return s.hasQuery(n,t,e,i)},m.setSearch=m.setQuery,m.addSearch=m.addQuery,m.removeSearch=m.removeQuery,m.hasSearch=m.hasQuery,m.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},m.normalizeProtocol=function(t){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!t)),this},m.normalizeHostname=function(i){return this._parts.hostname&&(this.is("IDN")&&t?this._parts.hostname=t.toASCII(this._parts.hostname):this.is("IPv6")&&e&&(this._parts.hostname=e.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!i)),this},m.normalizePort=function(t){return"string"==typeof this._parts.protocol&&this._parts.port===s.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!t)),this},m.normalizePath=function(t){if(this._parts.urn)return this;if(!this._parts.path||"/"===this._parts.path)return this;var e,i=this._parts.path,n="",a,r;for("/"!==i.charAt(0)&&(e=!0,i="/"+i),i=i.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),e&&(n=i.substring(1).match(/^(\.\.\/)+/)||"")&&(n=n[0]);;){if(-1===(a=i.indexOf("/..")))break;0!==a?(r=i.substring(0,a).lastIndexOf("/"),-1===r&&(r=a),i=i.substring(0,r)+i.substring(a+3)):i=i.substring(3)}return e&&this.is("relative")&&(i=n+i.substring(1)),i=s.recodePath(i),this._parts.path=i,this.build(!t),this},m.normalizePathname=m.normalizePath,m.normalizeQuery=function(t){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(s.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!t)),this},m.normalizeFragment=function(t){return this._parts.fragment||(this._parts.fragment=null,this.build(!t)),this},m.normalizeSearch=m.normalizeQuery,m.normalizeHash=m.normalizeFragment,m.iso8859=function(){var t=s.encode,e=s.decode;return s.encode=escape,s.decode=decodeURIComponent,this.normalize(),s.encode=t,s.decode=e,this},m.unicode=function(){var t=s.encode,e=s.decode;return s.encode=d,s.decode=unescape,this.normalize(),s.encode=t,s.decode=e,this},m.readable=function(){var e=this.clone();e.username("").password("").normalize();var i="";if(e._parts.protocol&&(i+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&t?(i+=t.toUnicode(e._parts.hostname),e._parts.port&&(i+=":"+e._parts.port)):i+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path.charAt(0)&&(i+="/"),i+=e.path(!0),e._parts.query){for(var n="",a=0,r=e._parts.query.split("&"),o=r.length;a<o;a++){var l=(r[a]||"").split("=");n+="&"+s.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==l[1]&&(n+="="+s.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}i+="?"+n.substring(1)}return i+=s.decodeQuery(e.hash(),!0)},m.absoluteTo=function(t){var e=this.clone(),i=["protocol","username","password","hostname","port"],n,a,r;if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t instanceof s||(t=new s(t)),e._parts.protocol||(e._parts.protocol=t._parts.protocol),this._parts.hostname)return e;for(a=0;r=i[a];a++)e._parts[r]=t._parts[r];return e._parts.path?".."===e._parts.path.substring(-2)&&(e._parts.path+="/"):(e._parts.path=t._parts.path,e._parts.query||(e._parts.query=t._parts.query)),"/"!==e.path().charAt(0)&&(n=t.directory(),e._parts.path=(n?n+"/":"")+e._parts.path,e.normalizePath()),e.build(),e},m.relativeTo=function(t){var e=this.clone().normalize(),i,n,a,r,o;if(e._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t=new s(t).normalize(),i=e._parts,n=t._parts,r=e.path(),o=t.path(),"/"!==r.charAt(0))throw new Error("URI is already relative");if("/"!==o.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(i.protocol===n.protocol&&(i.protocol=null),i.username!==n.username||i.password!==n.password)return e.build();if(null!==i.protocol||null!==i.username||null!==i.password)return e.build();if(i.hostname!==n.hostname||i.port!==n.port)return e.build();if(i.hostname=null,i.port=null,r===o)return i.path="",e.build();if(!(a=s.commonPath(e.path(),t.path())))return e.build();var l=n.path.substring(a.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return i.path=l+i.path.substring(a.length),e.build()},m.equals=function(t){var e=this.clone(),i=new s(t),n={},a={},r={},l,c,u;if(e.normalize(),i.normalize(),e.toString()===i.toString())return!0;if(l=e.query(),c=i.query(),e.query(""),i.query(""),e.toString()!==i.toString())return!1;if(l.length!==c.length)return!1;n=s.parseQuery(l,this._parts.escapeQuerySpace),a=s.parseQuery(c,this._parts.escapeQuerySpace);for(u in n)if(f.call(n,u)){if(o(n[u])){if(!h(n[u],a[u]))return!1}else if(n[u]!==a[u])return!1;r[u]=!0}for(u in a)if(f.call(a,u)&&!r[u])return!1;return!0},m.duplicateQueryParameters=function(t){return this._parts.duplicateQueryParameters=!!t,this},m.escapeQuerySpace=function(t){return this._parts.escapeQuerySpace=!!t,this},s}),sumo.define("jquery.article",["jquery"],function(t){t.expr[":"].emptytext=t.expr.createPseudo(function(e){return function(e){return""===t.trim(t(e).text())}}),t.fn.findIncludeSelf=function(e,i){var n;return n=":has(> p + p + p)"==e?this.find("p + p + p").parent():this.find(e),t(this).is(i)?n:n.addBack(e)},t.fn.exists=function(){return 0!==this.length},t.fn.findLeaves=function(i,n){var s=t(this),a=s.findIncludeSelf(i,"body").filter(n);return a=a.filter(e),a.filter(function(){return!t(this).find(a).exists()})},t.fn.findTrunks=function(i,n){var s=t(this),a=s.findIncludeSelf(i,"body").filter(n);return a=a.filter(e),a.filter(function(){return!t(this).parents().filter(a).exists()})};var e=function(){if(this._header||(this._header=n(t(this))),this._titleText||(this._titleText=r(this)),this._header){var e=.666*t(this).outerHeight();if(e&&this._header.outerHeight()>=e)return!1}return!0},i=function(e){var i=e||t("body").find("main, [role=main]").eq(0).get(0)||"body",n=t(),s=':not("[class^=comment],[id^=comment],[class*=footer],.sidebar:not(body) *,aside *,#sidebar *,footer *,[class*=footer]:not(body, [class*=not-footer]) *,#comments *,#livefyre-comments *,[class^=fyre] *,[class^=comment],[id^=comment] *,[class*=related-post]:not(body) *,.archive-page,.aside,.hentry-metro,.hrf-entry,:emptytext,.tve-leads-lightbox article")',a=[];a.push("article"),a.push(".post"),a.push(".entry-content"),a.push(".post-content"),a.push(".post_box"),a.push(".post-item"),a.push(".blog-post-wrapper"),a.push(".type-post"),a.push("#content"),a.push(".blog_content"),"body"!=i?(a.push(".hentry"),a.push(".content")):(a.push("main .hentry"),a.push("[role=main] .hentry"),a.push("main .content"),a.push("[role=main] .content")),a.push("#post-content"),a.push("#blog-content"),a.push(".blog-post");for(var r=[":has(> p + p + p)"],o=0;o<a.length;o++)if(n=t(i).findLeaves(a[o],s),n.length>0)return n;for(var o=0;o<r.length;o++)if(n=t(i).findTrunks(r[o],s),n.length>0)return n;var n,l,c,h;return n},n=function(e){var i=null,n=[".main-title","header",".post-header",".post-title","h1","h2","h3","h4","h5","h6",".title",".headline"],s={};try{n.forEach(function(n){if(i=t(e).find(n),i.length>0)throw s})}catch(t){if(t===s)return i.eq(0);throw t}return null},s=function(e){var i=null,n=[".fyre","footer",".post-footer",".footer",".entry-footer",'[class^="comment"]:not(.post-meta-info *, [class^=comment-count], [class^=comments-link], [class^=comments-number], li)',".fb-comments","iframe[title=Disqus]","#disqus_thread"],s={};try{n.forEach(function(n){if(i=t(e).find(n),i.length>0)throw s})}catch(t){if(t===s)return i.eq(0).hasClass("fb-comments")&&i.eq(0).prev("h3 + p").length>0?i.eq(0).prev("h3 + p").prev("h3"):i.eq(0);throw t}return null},a=function(t){return n(t)},r=function(t){var e=null;return!t._title&&t._header&&(t._title=t._header),t._title&&(e=t._title.text().trim()),e},o=function(e){var i=null,n=["a[rel=bookmark]","h1 > a","h2 > a","h3 > a","header > a"],s={};try{n.forEach(function(n){if(i=t(e).find(n).filter("[href]"),i.length>0)throw s})}catch(t){if(t===s)return i.eq(0);throw t}return null};t.articles=function(e){if("__smCache"in window&&"articles"in window.__smCache)return window.__smCache.articles;var l=i(e);return l.each(function(){this._header||(this._header=n(t(this))),this._footer=s(t(this)),this._title=this._header?a(this._header):null,this._titleText||(this._titleText=r(this));var e=this._header?o(this._header):null;this._anchor=e||o(t(this)),this._anchor?this._url=this._anchor.attr("href"):this._url=null,this._url||(this._url=window.location.href)}),"__smDebug"in window&&window.__smDebug&&l.each(function(){t(this).css("background","rgba(0,0,255,.5)"),this._header&&this._header.css("background","rgba(0,255,0,.5)"),this._title&&this._title.css("background","rgba(255,0,0,.5)"),this._footer&&this._footer.css("background","rgba(255,255,0,.5)")}),"__smCache"in window||(window.__smCache={}),window.__smCache.articles=l,setTimeout(function(){"__smCache"in window&&delete window.__smCache.articles},1e4),l},t.article=function(){return t.articles().eq(0)}}),sumo.define("jquery.displayrules",["jquery","URI","jquery.article"],function(t,e){t.isCurrentUrlAllowed=function(i,n,s,a){function r(t,e,i,n){var s=[];if(t&&t.length)for(var a=0;a<t.length;a++){var r=t[a];if("object"==typeof r&&r.hasOwnProperty(e)&&r[e]==i&&(s.push(r),n))return s[0]}return n?null:s}if(i&&i.length){var o=r(i,"filter_type","article",!0),l=[];o&&(l=t.articles()),s||(s=!1);var c=function(t){for(var e=Object.keys(t),i=e.length,n=Array(i),s=0;s<i;s++)n[s]=[e[s],t[e[s]]];return n},h=function(t){var e=c(t),i=e.length;return function(t){if(null==t)return!i;t=new Object(t);for(var n=0;n<i;n++){var s=e[n],a=s[0];if(s[1]!==t[a]||!(a in t))return!1}return!0}},u=function(t){var t=t.substr(1).split("&");if(""==t)return{};for(var e={},i=0;i<t.length;++i){var n=t[i].split("=",2);if(1==n.length)e[n[0]]="";else try{e[n[0]]=decodeURIComponent(n[1].replace(/\+/g," "))}catch(t){e[n[0]]=n[1].replace(/\+/g," ")}}return e},d=function(t,e,i){if(t.has_hash&&t.hash!=e)return!1;if(t.has_query_params){var n=u(t.search),s=u(i);if(h(n)(s))return!0;if(!(["containing","beginning"].indexOf(t.filter_type)>=0))return!1;for(var a=!0,r=Object.keys(n),o=0;o<r.length;o++){var l=r[o],c=n[r[o]];if(c&&c.length)if(l in s){if(0!=s[l].indexOf(c))return!1}else{if("containing"!=t.filter_type)return!1;var d=!1;if(Object.keys(s).forEach(function(t){t.lastIndexOf(l)>=0&&l==t.substring(t.lastIndexOf(l))&&0==s[t].indexOf(c)&&(d=!0)}),!d)return!1}else{if(l in s)continue;for(var p=Object.keys(s),d=!1,m=0;m<p.length;m++){if(0==p[m].indexOf(l)){d=!0;break}}if(!d)return!1}}}return!0},p=r(i,"parsedUserAgent",!0,!0),m=window.location.toString();m&&(m=m.toLowerCase());var f=window.location.pathname.toString();f&&(f=f.toLowerCase());var g=window.location.hostname+f;g&&(g=g.toLowerCase()),"/"==f[f.length-1]&&(f=f.substring(0,f.length-1),g=g.substring(0,g.length-1)),0==g.indexOf("www.")&&(g=g.substring(4));var v=window.location.search;v&&(v=v.toLowerCase());var b=window.location.hash;b&&(b=b.toLowerCase(),"#"!=b[0]&&(b="#"+b));for(var _=u(v),y=Math.min(window.screen.availWidth||t(window).width(),t(window).width()),w=document.cookie.split(";"),x={},k=[],C=0;C<w.length;C++){var S=w[C].substring(0,w[C].indexOf("=")).trim(),T=w[C].substring(w[C].indexOf("=")+1).trim();k.push(S),x[S]=T}var E=document.getElementsByTagName("meta"),I=document.referrer;if(I&&I.length){I=I.toLowerCase();try{var P=e(I);if(P.is("ip")){var A=P.hostname();A&&(A=A.toLowerCase())}else{var A=P.domain();A&&(A=A.toLowerCase())}var $=P.path();$&&($=$.toLowerCase());var O=P.tld();O&&(O=O.toLowerCase());var L=P.hostname()?P.hostname().toLowerCase()+$:$;"/"==$[$.length-1]&&($=$.substring(0,$.length-1),L=L.substring(0,L.length-1)),0==L.indexOf("www.")&&(L=L.substring(4));var B=P.search(),D=P.hash()}catch(t){I=!1}}else I=!1;var M=function(e){var i=!1;return t.each(e,function(t,e){var n=!1;if(e.forEach(function(t){var e=!1;if(!n)if("article"==t.filter_type)1==l.length&&(e=!0);else if("smaller"==t.filter_type)(isNaN(parseFloat(t.filter_value))||y<parseFloat(t.filter_value))&&(e=!0);else if("bigger"==t.filter_type)(isNaN(parseFloat(t.filter_value))||y>=parseFloat(t.filter_value))&&(e=!0);else if("views_lt"==t.filter_type)(isNaN(t.pageviews)||a<t.pageviews)&&(e=!0);else if("views_eq"==t.filter_type)(isNaN(t.pageviews)||a==t.pageviews)&&(e=!0);else if("views_gt"==t.filter_type)(isNaN(t.pageviews)||a>t.pageviews)&&(e=!0);else if("countryis"==t.filter_type)s==t.filter_value.toLowerCase()&&(e=!0);else if("countryisnot"==t.filter_type)s&&s==t.filter_value.toLowerCase()||(e=!0);else if("c_exists"==t.filter_type)k.indexOf(t.filter_value)>=0&&(e=!0);else if("c_dne"==t.filter_type)k.indexOf(t.filter_value)<0&&(e=!0);else if("c_equals"==t.filter_type)k.indexOf(t.filter_value)>=0&&x[t.filter_value]==t.param_value&&(e=!0);else if("c_notequals"==t.filter_type)(k.indexOf(t.filter_value)<0||x[t.filter_value]!=t.param_value)&&(e=!0);else if("c_contains"==t.filter_type)k.indexOf(t.filter_value)>=0&&x[t.filter_value].indexOf(t.param_value)>=0&&(e=!0);else if("c_notcontains"==t.filter_type)(k.indexOf(t.filter_value)<0||x[t.filter_value].indexOf(t.param_value)<0)&&(e=!0);else if("mt_equals"===t.filter_type)for(var i=0;i<E.length;i++){var r=E[i].getAttribute(t.filter_value);r&&r.toLowerCase()===t.param_value.toLowerCase()&&(e=!0)}else if("mt_notequals"===t.filter_type){for(var o=!1,i=0;i<E.length;i++){var r=E[i].getAttribute(t.filter_value);r&&r.toLowerCase()===t.param_value.toLowerCase()&&(o=!0)}e=!o}else if("mt_contains"===t.filter_type)for(var i=0;i<E.length;i++){var r=E[i].getAttribute(t.filter_value);r&&-1!==r.toLowerCase().indexOf(t.param_value.toLowerCase())&&(e=!0)}else if("mt_notcontains"===t.filter_type){for(var o=!1,i=0;i<E.length;i++){var r=E[i].getAttribute(t.filter_value);r&&-1!==r.toLowerCase().indexOf(t.param_value.toLowerCase())&&(o=!0)}e=!o}else if("mt_beginning"===t.filter_type)for(var i=0;i<E.length;i++){var r=E[i].getAttribute(t.filter_value);r&&r.toLowerCase().substring(0,t.param_value.length)===t.param_value.toLowerCase()&&(e=!0)}else if("q_exists"==t.filter_type)_&&_.hasOwnProperty(t.filter_value.toLowerCase())&&(e=!0);else if("q_dne"==t.filter_type)_&&_.hasOwnProperty(t.filter_value)||(e=!0);else if("q_equals"==t.filter_type)_&&_[t.filter_value]&&_[t.filter_value]==t.param_value&&(e=!0);else if("q_notequals"==t.filter_type)_&&_[t.filter_value]&&_[t.filter_value]==t.param_value||(e=!0);else if("q_contains"==t.filter_type)_&&_[t.filter_value]&&_[t.filter_value].indexOf(t.param_value)>=0&&(e=!0);else if("q_notcontains"==t.filter_type)(!_||!_[t.filter_value]||_[t.filter_value].indexOf(t.param_value)<0)&&(e=!0);else if("exact"==t.filter_type){var c=d(t,b,v);c&&(t.full_url?g==t.match_url&&(e=!0):null==t.match_url&&c?e=!0:g!=t.match_url&&f!=t.match_url||(e=!0))}else if("beginning"==t.filter_type){var c=d(t,b,v);c&&(t.full_url?0==g.indexOf(t.match_url.toLowerCase())&&(e=!0):null==t.match_url&&c?e=!0:0!=g.indexOf(t.match_url.toLowerCase())&&0!=f.indexOf(t.match_url.toLowerCase())||(e=!0))}else if("containing"==t.filter_type){var c=d(t,b,v);c&&(t.full_url?g.indexOf(t.match_url.toLowerCase())>=0&&(e=!0):null==t.match_url&&c?e=!0:g.indexOf(t.match_url.toLowerCase())>=0&&(e=!0))}else if(I&&["r_url_exact","r_domain_exact","r_url_beginning","r_domain_beginning","r_url_containing","r_domain_containing"].indexOf(t.filter_type)>=0)if("r_url_exact"==t.filter_type){var c=d(t,D,B);t.full_url?c&&L==t.match_url.toLowerCase()&&(e=!0):c&&L==t.match_url.toLowerCase()?e=!0:null==t.match_url&&c&&(e=!0)}else if("r_domain_exact"==t.filter_type)t.host?t.host==A&&(e=!0):t.filter_value==A&&(e=!0);else if("r_url_beginning"==t.filter_type){var c=d(t,D,B);t.full_url?c&&0==L.indexOf(t.match_url)&&(e=!0):c&&0==L.indexOf(t.match_url)?e=!0:null==t.match_url&&c&&(e=!0)}else if("r_domain_beginning"==t.filter_type)t.host&&0==A.indexOf(t.host)?e=!0:0==A.indexOf(t.filter_value)&&(e=!0);else if("r_url_containing"==t.filter_type){var c=d(t,D,B);t.full_url?c&&L.indexOf(t.match_url)>=0&&(e=!0):c&&L.indexOf(t.match_url)>=0?e=!0:null==t.match_url&&c&&(e=!0)
}else"r_domain_containing"==t.filter_type&&(t.host&&A.indexOf(t.host)>=0?e=!0:A.indexOf(t.filter_value)>=0&&(e=!0));else if("ua_os"==t.filter_type&&p&&p.compareOS){var h=[t.filter_value];"winmobile"==t.filter_value?h=["windows mobile","windows phone"]:"macos"==t.filter_value?h=["mac os"]:"windesktop"==t.filter_value&&(h=["windows"]),h.indexOf(p.compareOS)>=0&&(e=!0)}else if("ua_browser"==t.filter_type&&p&&p.compareBrowser){var h=[t.filter_value];"chrome"==t.filter_value?h=["chrome","chromium"]:"ie"==t.filter_value?h=["ie","ie mobile"]:"opera"==t.filter_value?h=["opera","opera mini","opera mobile","opera tablet"]:"safari"==t.filter_value&&(h=["safari","mobile safari"]),h.indexOf(p.compareBrowser)>=0&&(e=!0)}else if("ua_exact"==t.filter_type)t.filter_value.toLowerCase()==navigator.userAgent.toLowerCase()&&(e=!0);else if("ua_beginning"==t.filter_type)0==navigator.userAgent.toLowerCase().indexOf(t.filter_value.toLowerCase())&&(e=!0);else if("ua_containing"==t.filter_type)navigator.userAgent.toLowerCase().indexOf(t.filter_value.toLowerCase())>=0&&(e=!0);else if("hash_exact"==t.filter_type){var u="#"==t.filter_value[0]?t.filter_value:"#"+t.filter_value;u.toLowerCase()==b.toLowerCase()&&(e=!0)}else if("hash_beginning"==t.filter_type){var u="#"==t.filter_value[0]?t.filter_value:"#"+t.filter_value;0==b.toLowerCase().indexOf(u.toLowerCase())&&(e=!0)}else if("hash_containing"==t.filter_type){var u="#"==t.filter_value[0]?t.filter_value:"#"+t.filter_value;b.toLowerCase().indexOf(u.toLowerCase())>=0&&(e=!0)}else"all"==t.filter_type&&(e=!0);e||(n=!0)}),!n)return i=!0,!1}),i},N=r(i,"rule_type","include",!1);if(N&&N.length){var z={},R=0;N.forEach(function(t){t.group_id&&t.group_id.length?z.hasOwnProperty(t.group_id)?z[t.group_id].push(t):z[t.group_id]=[t]:(z[R]=[t],R+=1)}),currentUrlIncluded=M(z)}else currentUrlIncluded=!0;if(!currentUrlIncluded)return!1;var j=r(i,"rule_type","exclude",!1),H=!1;if(!j||!j.length)return!0;var U={},R=0;return j.forEach(function(t){t.group_id&&t.group_id.length?U.hasOwnProperty(t.group_id)?U[t.group_id].push(t):U[t.group_id]=[t]:(U[R]=[t],R+=1)}),!(H=M(U))}return!0}}),sumo.define("selectorator",["jquery"],function(t){var e,i,n,s,a,r,o,l;return o=t.map,a=t.extend,r=t.inArray,n=function(t,e){return-1!==r(t,e)},s=function(t){return t.replace(/([\!\"\#\$\%\&'\(\)\*\+\,\.\/\:\;<\=>\?\@\[\\\]\^\`\{\|\}\~])/g,"\\$1")},i=function(t,e){return o(t,function(t){return t===e?null:t})},l=function(t){return o(t,function(e,i){return parseInt(i,10)===parseInt(t.indexOf(e),10)?e:null})},e=function(){function e(e,i){this.element=e,this.options=a(a({},t.selectorator.options),i),this.cachedResults={}}return e.prototype.query=function(e){var i;return(i=this.cachedResults)[e]||(i[e]=t(e.replace(/#([^\s]+)/g,"[id='$1']")))},e.prototype.getProperTagName=function(){return this.element[0]?"span"==this.element[0].tagName.toLowerCase()&&this.getIgnore("class")&&n(this.element.attr("class"),this.getIgnore("class"))?this.hasParent()?this.element.parent()[0].tagName.toLowerCase():null:this.element[0].tagName.toLowerCase():null},e.prototype.hasParent=function(){return this.element&&0<this.element.parent().size()},e.prototype.isElement=function(){var t;return(t=this.element[0])&&t.nodeType===t.ELEMENT_NODE},e.prototype.validate=function(t,e,i,s){var a,r;if(null==i&&(i=!0),null==s&&(s=!1),r=this.query(t),i&&1<r.size()||!i&&0===r.size()){if(!e||-1!==t.indexOf(":"))return null;if(a=s?" > ":" ",t=e+a+t,r=this.query(t),i&&1<r.size()||!i&&0===r.size())return null}return n(this.element[0],r.get())?t:null},e.prototype.generate=function(){var t,e,n,s,a;if(!(this.element&&this.hasParent()&&this.isElement()))return[""];for(e=[],a=[this.generateSimple,this.generateAncestor,this.generateRecursive],n=0,s=a.length;n<s;n++)if(t=a[n],(e=l(i(t.call(this))))&&e.length>0)return e;return l(e)},e.prototype.generateText=function(){var t,e,n,s,a;if(!(this.element&&this.hasParent()&&this.isElement()))return[""];for(e=[],a=[this.generateTextSelector],n=0,s=a.length;n<s;n++)if(t=a[n],(e=l(i(t.call(this))))&&e.length>0)return e;return l(e)},e.prototype.generateAncestor=function(){var i,n,s,a,r,o,l,c,h,u,d,p,m,f;for(r=[],f=this.element.parents(),c=0,d=f.length;c<d;c++){for(n=f[c],i=!0,l=this.generateSimple(null,!1),h=0,p=l.length;h<p;h++)for(o=l[h],a=new e(t(n),this.options).generateSimple(null,!1),u=0,m=a.length;u<m;u++)s=a[u],t.merge(r,this.generateSimple(s,!0,i));i=!1}return r},e.prototype.generateSimple=function(t,e,n){var s,a,r,l,c,h,u,d;for(r=this,l=r.getProperTagName(),c=function(i){return r.validate(i,t,e,n)},d=[[r.getIdSelector],[r.getClassSelector],[r.getIdSelector,!0],[r.getClassSelector,!0],[r.getNameSelector],[function(){return[r.getProperTagName()]}]],h=0,u=d.length;h<u;h++)if(s=d[h],a=s[0].call(r,s[1])||[],a=i(o(a,c)),a.length>0)return a;return[]},e.prototype.generateTextSelector=function(t,e,n){var s,a,r,o,l,c,h,u;for(r=this,o=r.getProperTagName(),l=function(i){return r.validate(i,t,e,n)},u=[[r.getIdSelector],[r.getTextSelector,!0],[function(){return[r.getProperTagName()]}]],c=0,h=u.length;c<h;c++)if(s=u[c],a=s[0].call(r,s[1])||[],a=i(a),a.length>0)return a;return[]},e.prototype.generateRecursive=function(){var t,i,n,s;return s=this.getProperTagName(),-1!==s.indexOf(":")&&(s="*"),i=this.element.parent(),n=new e(i).generate()[0],t=i.children(s).index(this.element),s=s+":eq("+t+")",""!==n&&(s=n+" > "+s),[s]},e.prototype.getIdSelector=function(t){var e;return null==t&&(t=!1),t=t?this.getProperTagName():"",e=this.element.attr("id"),"string"==typeof e&&e.trim().length&&!n(e,this.getIgnore("id"))&&0!=e.indexOf("yui")?[t+"#"+s(e)]:null},e.prototype.getTextSelector=function(i){var n="";if(this.hasParent()){var s=this.element.parent()[0];i=i?s.tagName.toLowerCase():"",s=t(s);var a=s.text();"string"==typeof a&&a.length>0&&(n=i+":similar("+a+")")}var r=this.element.prev();if(r.length){var o=new e(r).generateSimple(null,!1);o&&(n+=" > "+o)}return n?[n]:null},e.prototype.getClassSelector=function(t){var e,i,a;return null==t&&(t=!1),a=this.getProperTagName(),/^(body|html)$/.test(a)?null:(t=t?a:"",i=this.getIgnore("class"),e=(this.element.attr("class")||"").replace(/\{.*\}/,"").split(/\s/),o(e,function(e){return e&&!n(e,i)?t+"."+s(e):null}))},e.prototype.getNameSelector=function(){var t,e;return e=this.getProperTagName(),t=this.element.attr("name"),t&&!n(t,this.getIgnore("name"))?[e+"[name='"+t+"']"]:null},e.prototype.getIgnore=function(t){var e,i,n;return i=this.options.ignore||{},e="class"===t?"classes":t+"s",n=i[t]||i[e],"string"==typeof n?[n]:n},e}(),t.selectorator={options:{},unique:l,clean:i,escapeSelector:s},t.fn.selectorator=function(i){return new e(t(this),i)},t.fn.getSelector=function(t){return this.selectorator(t).generate()},t.fn.getTextSelector=function(t){return this.selectorator(t).generateText()},this}),sumo.define("range",["jquery"],function(t){var e=function(t){return t.fn.compare=function(t){try{t=t.jquery?t[0]:t}catch(t){return null}if(window.HTMLElement){var e=HTMLElement.prototype.toString.call(t);if("[xpconnect wrapped native prototype]"==e||"[object XULElement]"==e||"[object Window]"===e)return null}if(this[0].compareDocumentPosition)return this[0].compareDocumentPosition(t);if(this[0]==document&&t!=document)return 8;var i=(this[0]!==t&&this[0].contains(t)&&16)+(this[0]!=t&&t.contains(this[0])&&8),n=document.documentElement;return this[0].sourceIndex&&(i+=this[0].sourceIndex<t.sourceIndex&&4,i+=this[0].sourceIndex>t.sourceIndex&&2,i+=(this[0].ownerDocument!==t.ownerDocument||this[0]!=n&&this[0].sourceIndex<=0||t!=n&&t.sourceIndex<=0)&&1),i},t}(t),i=function(t){t.fn.range=function(){return t.Range(this[0])};var e=function(t){return t.replace(/([a-z])([a-z]+)/gi,function(t,e,i){return e+i.toLowerCase()}).replace(/_/g,"")},i=function(t){return t.replace(/^([a-z]+)_TO_([a-z]+)/i,function(t,e,i){return i+"_TO_"+e})},n=function(t){return t?t.ownerDocument.defaultView||t.ownerDocument.parentWindow:window},s=function(t,e,i){},a={};t.Range=function(e){if(this.constructor!==t.Range)return new t.Range(e);e&&e.jquery&&(e=e[0]),!e||e.nodeType?(this.win=n(e),this.win.document.createRange?this.range=this.win.document.createRange():this.win&&this.win.document.body&&this.win.document.body.createTextRange&&(this.range=this.win.document.body.createTextRange()),e&&this.select(e)):null!=e.clientX||null!=e.pageX||null!=e.left?this.moveToPoint(e):e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length?this.moveToPoint(e.originalEvent.touches[0]):e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length?this.moveToPoint(e.originalEvent.changedTouches[0]):this.range=e},t.Range.current=function(e){var i=n(e),s;return i.getSelection?(s=i.getSelection(),new t.Range(s.rangeCount?s.getRangeAt(0):i.document.createRange())):new t.Range(i.document.selection.createRange())},t.extend(t.Range.prototype,{moveToPoint:function(e){var i=e.clientX,n=e.clientY;if(!i){var s=v();i=(e.pageX||e.left||0)-s.left,n=(e.pageY||e.top||0)-s.top}if(a.moveToPoint)return this.range=t.Range().range,this.range.moveToPoint(i,n),this;for(var o=document.elementFromPoint(i,n),l=0;l<o.childNodes.length;l++){var c=o.childNodes[l];if(3===c.nodeType||4===c.nodeType)for(var h=t.Range(c),u=h.toString().length,d=1;d<u+1;d++){var p=h.end(d).rect();if(p.left<=i&&p.left+p.width>=i&&p.top<=n&&p.top+p.height>=n)return h.start(d-1),this.range=h.range,this}}var m;r(o.childNodes,function(i){var n=t.Range(i);if(n.rect().top>e.clientY)return!1;m=n}),m?(m.start(m.toString().length),this.range=m.range):this.range=t.Range(o).range},window:function(){return this.win||window},overlaps:function(e){e.nodeType&&(e=t.Range(e).select(e));var i=this.compare("START_TO_START",e),n=this.compare("END_TO_END",e);return i<=0&&n>=0||(i>=0&&this.compare("START_TO_END",e)<=0||this.compare("END_TO_START",e)>=0&&n<=0)},collapse:function(t){return this.range.collapse(void 0===t||t),this},toString:function(){return"string"==typeof this.range.text?this.range.text:this.range.toString()},start:function(e){if(void 0===e){if(this.range.startContainer)return{container:this.range.startContainer,offset:this.range.startOffset};var i=this.clone().collapse().parent(),n=t.Range(i).select(i).collapse();return n.move("END_TO_START",this),{container:i,offset:n.toString().length}}if(this.range.setStart)if("number"==typeof e)this.range.setStart(this.range.startContainer,e);else if("string"==typeof e){var s=u(this.range.startContainer,this.range.startOffset,parseInt(e,10));this.range.setStart(s.node,s.offset)}else this.range.setStart(e.container,e.offset);else if("string"==typeof e)this.range.moveStart("character",parseInt(e,10));else{var a=this.start().container,r;"number"==typeof e?r=e:(a=e.container,r=e.offset);var o=t.Range(a).collapse();o.range.move(r),this.move("START_TO_START",o)}return this},end:function(e){if(void 0===e){if(this.range.startContainer)return{container:this.range.endContainer,offset:this.range.endOffset};var i=this.clone().collapse(!1).parent(),n=t.Range(i).select(i).collapse();return n.move("END_TO_END",this),{container:i,offset:n.toString().length}}if(this.range.setEnd)if("number"==typeof e)this.range.setEnd(this.range.endContainer,e);else if("string"==typeof e){var s=u(this.range.endContainer,this.range.endOffset,parseInt(e,10));this.range.setEnd(s.node,s.offset)}else this.range.setEnd(e.container,e.offset);else if("string"==typeof e)this.range.moveEnd("character",parseInt(e,10));else{var a=this.end().container,r;"number"==typeof e?r=e:(a=e.container,r=e.offset);var o=t.Range(a).collapse();o.range.move(r),this.move("END_TO_START",o)}return this},parent:function(){if(this.range.commonAncestorContainer)return this.range.commonAncestorContainer;var e=this.range.parentElement(),i=this.range;return r(e.childNodes,function(n){if(t.Range(n).range.inRange(i))return e=n,!1}),e},rect:function(e){var i=this.range.getBoundingClientRect();if(i.height||i.width||(i=this.range.getClientRects()[0]),"page"===e){var n=v();i=t.extend({},i),i.top+=n.top,i.left+=n.left}return i},rects:function(e){for(var i=t.map(t.makeArray(this.range.getClientRects()).sort(function(t,e){return e.width*e.height-t.width*t.height}),function(e){return t.extend({},e)}),n=0,s,a=i.length;n<i.length;){var r=i[n],o=!1;for(s=n+1;s<i.length;)if(g(r,i[s])){if(i[s].width){o=i[s];break}i.splice(s,1)}else s++;o?i.splice(n,1):n++}if("page"==e){var l=v();return t.each(i,function(t,e){e.top+=l.top,e.left+=l.left})}return i}}),function(){var n=t.Range.prototype,s=t.Range().range;n.compare=s.compareBoundaryPoints?function(t,e){return this.range.compareBoundaryPoints(this.window().Range[i(t)],e.range)}:function(t,i){return this.range.compareEndPoints(e(t),i.range)},n.move=s.setStart?function(t,e){var i=e.range;switch(t){case"START_TO_END":this.range.setStart(i.endContainer,i.endOffset);break;case"START_TO_START":this.range.setStart(i.startContainer,i.startOffset);break;case"END_TO_END":this.range.setEnd(i.endContainer,i.endOffset);break;case"END_TO_START":this.range.setEnd(i.startContainer,i.startOffset)}return this}:function(t,i){return this.range.setEndPoint(e(t),i.range),this};var a=s.cloneRange?"cloneRange":"duplicate",o=s.selectNodeContents?"selectNodeContents":"moveToElementText";n.clone=function(){return t.Range(this.range[a]())},n.select=s.selectNodeContents?function(t){if(t)this.range.selectNodeContents(t);else{var e=this.window().getSelection();e.removeAllRanges(),e.addRange(this.range)}return this}:function(t){if(t)if(3===t.nodeType){var e=t.parentNode,i=0,n;r(e.childNodes,function(e){if(e===t)return n=i+e.nodeValue.length,!1;i+=e.nodeValue.length}),this.range.moveToElementText(e),this.range.moveEnd("character",n-this.range.text.length),this.range.moveStart("character",i)}else this.range.moveToElementText(t);else this.range.select();return this}}();var r=function(t,e){for(var i,n,s=0;t[s];s++)if(i=t[s],3===i.nodeType||4===i.nodeType){if(!1===e(i))return!1}else if(8!==i.nodeType&&!1===r(i.childNodes,e))return!1},o=function(t){return 3===t.nodeType||4===t.nodeType},l=function(t,e){return function(i,n){return i[t]&&!n?o(i[t])?i[t]:arguments.callee(i[t]):i[e]?o(i[e])?i[e]:arguments.callee(i[e]):i.parentNode?arguments.callee(i.parentNode,!0):void 0}},c=l("firstChild","nextSibling"),h=l("lastChild","previousSibling"),u=function(t,e,i){var n=i<0?h:c;return o(t)?e+i<0?d(n(t),e+i):d(t,e+i):(t=t.childNodes[e]?t.childNodes[e]:t.lastChild,o(t)||(t=n(t)),d(t,i))},d=function(t,e){var i=e<0?h:c;for(e=Math.abs(e);t&&e>=t.nodeValue.length;)e-=t.nodeValue.length,t=i(t);return{node:t,offset:i===c?e:t.nodeValue.length-e}},p,m=function(t){return null==p&&(p="isElementContentWhitespace"in t),p?t.isElementContentWhitespace:3===t.nodeType&&""==t.data.trim()},f=function(t,e){return t.left<=e.clientX&&t.left+t.width>=e.clientX&&t.top<=e.clientY&&t.top+t.height>=e.clientY},g=function(t,e){return f(t,{clientX:e.left,clientY:e.top})&&f(t,{clientX:e.left+e.width,clientY:e.top})&&f(t,{clientX:e.left,clientY:e.top+e.height})&&f(t,{clientX:e.left+e.width,clientY:e.top+e.height})},v=function(t){var t=t||window;return doc=t.document.documentElement,body=t.document.body,{left:(doc&&doc.scrollLeft||body&&body.scrollLeft||0)+(doc.clientLeft||0),top:(doc&&doc.scrollTop||body&&body.scrollTop||0)+(doc.clientTop||0)}};return a.moveToPoint=!!t.Range().range.moveToPoint,t}(t,e)}),Function.prototype.debounce=function(t){var e=this,i=null,n=t;return function(){function t(){e.apply(s,a),i=null}var s=this,a=arguments;i&&clearTimeout(i),i=setTimeout(t,n)}},Function.prototype.throttle=function(t){var e=this,i=null,n=t;return function(){var t=this,s=arguments,a=Date.now();(!i||a-i>=n)&&(i=a,e.apply(t,s))}},sumo.define("limit",function(){}),sumo.define("es6!services/highlighter/index",["jquery","jquery.cookie","plugins/text!highlighter/templates/highlighter.html","plugins/text!highlighter/templates/highlighter_mobile.html","twitter-text","jquery.style","jquery.displayrules","selectorator","range","limit"],function(t,e,i,n,s){function a(){return t.browser.mobile&&("ontouchstart"in window||!!navigator.msMaxTouchPoints)}function r(e,i){var n=t._data(e,"events");return!!(n&&n[i]||e.onclick)}function o(e,i){var n=t(e).html(),s=t(e).html(),a=[];t(e).find("iframe").each(function(e){a.push([t(this).attr("id"),document.getElementById(t(this).attr("id")).contentWindow.document])});var r=[],o=[],l=/<[^>]*>/,h=/<[^>]*>|&nbsp;/,u=/(<[^>]*>)/,d=/^<([-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,p=/^<\/([-A-Za-z0-9_]+)[^>]*>/,m=/([-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,f=["a","abbr","acronym","applet","b","basefont","bdo","big","br","button","cite","code","del","dfn","em","font","i","iframe","img","input","ins","kbd","label","map","object","q","s","samp","script","select","small","span","strike","strong","sub","sup","textarea","tt","u"],g=/&nbsp;/,v=i.entry;v=v.replace(/\xA0/g," ");var b=/<[^>]*>|\&nbsp;/i,_;if(r=n.match(/<[^>]*>|&nbsp;/gi),o=[],r)for(var y=0;y<r.length;y++){if(0==y)var w=0;else var w=o[y-1];var x=n.substring(w).indexOf(r[y]),k=w+x;o.push(k),n="&nbsp;"==r[y].toLowerCase()?n.substring(0,k)+" "+n.substring(k+r[y].length):n.substring(0,k)+n.substring(k+r[y].length)}var v=t("<div/>").html(v).text().trim();v=v.replace(/\xA0/g," ");var C=n.indexOf(v);if(C>-1){var S,T,E,I,P,A,k,$,O,L,B,D,y,k,M,y,k,N,z;!function(){var h=function t(e,i){var s=n.substring(e,i).search(l);s>-1&&(anyHTMLmatch=n.substring(e+s,i).match(l)[0],n=n.substring(0,s+e)+E+anyHTMLmatch+S+n.substring(e+s+anyHTMLmatch.length),e+=s+S.length+anyHTMLmatch.length+E.length,i+=S.length+E.length,t(e,i))};for(S="<span class='sumo_twilighter_highlighted twilighter-"+i.hash+"'>",T="<span class='sumo_twilighter_shares'>"+(0===i.share_count?"":c(i.share_count))+"</span></span>",E="</span>",I=C+v.length,n=n.substring(0,C)+S+n.substring(C,I)+T+n.substring(I),P=0,A=0,k=o[y],$=0,O=0,L=[],B=[],D=[],y=o.length-1;y>=0;y--)k=o[y],k<C&&($+=r[y].length,"&nbsp;"==r[y].toLowerCase()&&($-=1)),k<I&&(o[y]>=C&&(L.push(r[y]),B.push(k-C+S.length)),O+=r[y].length,"&nbsp;"==r[y].toLowerCase()&&(O-=1));for(M=n.substring(C,I+S.length+T.length),y=0;y<B.length;y++)M=M.substring(0,B[y])+L[y]+M.substring(B[y]+("&nbsp;"==L[y].toLowerCase()?1:0));n=s.substring(0,$+C)+M+s.substring(O+I),k=n.indexOf(S)+S.length,N=n.indexOf(T),z=[],k>-1&&N>-1&&(h(k,N),e.innerHTML=n,a.forEach(function(t,e){var i=t[0],n=t[1],s=document.getElementById(i).contentWindow.document;s.open(),s.write("<head>"+n.head.innerHTML+"</head><body>"+n.body.innerHTML+"</body>"),s.close()}),t(e).find(".sumo_twilighter_highlighted").invert())}()}}function l(){return window.getSelection?window.getSelection().toString():document.selection?document.selection.createRange().text:""}function c(t){var e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}function h(){var e=window.location.href;if(!z||j)return j&&(e=j),e;t.ajax({type:"POST",dataType:"json",url:N.sumoUrl+"/apps/twilighter/shorten",data:{site_id:N.siteId,href:e},xhrFields:{withCredentials:!1},crossDomain:!0}).done(function(t){return t.success?(e=t.url,j=t.url,e):e})}function u(e){var i=window.location.href,n=(location.protocol,23),s=0,r=!0;if(R){e.split(" ").reverse().forEach(function(t){s||t.match(/^https?:\/\//i)&&(s=t.length)}),(e.match(/https?:\/\//i)||e.match(/ via @/i))&&(r=!1)}if(z&&!j)t.ajax({type:"POST",dataType:"json",url:N.sumoUrl+"/apps/twilighter/shorten",data:{site_id:N.siteId,href:i},xhrFields:{withCredentials:!1},crossDomain:!0}).done(function(o){o.success&&(i=o.url,j=o.url);var l=140-n+s;H&&(R&&e.match(/ via @/i)||(l-=("@"==H[0]?5:6)+H.length));var c=e.trim();c=c.replace(/\r\n|\n|\r/g," "),(R&&r||!R&&c.length+1>l)&&(c=c.substr(0,l-2)+"…");var h=H?" via "+("@"==H[0]?"":"@")+H:"";R&&(c.match(/https?:\/\//i)&&(i=""),c.match(/ via @/i)&&(h="")),(i||h)&&(c=c+(i?" "+i:"")+h),t("#sumo_twilighter_input").val(c).data({"sumome-twilighter-url":i,"sumome-twilighter-via":h,"sumome-twilighter-msg":c}),a()||C()});else{j&&(i=j);var o=140-n+s;H&&(R&&e.match(/ via @/i)||(o-=("@"==H[0]?5:6)+H.length));var l=e.trim();l=l.replace(/\r\n|\n|\r/g," "),(R&&r||!R&&l.length+1>o)&&(l=l.substr(0,o-2)+"…");var c=H?" via "+("@"==H[0]?"":"@")+H:"";R&&(l.match(/https?:\/\//i)&&(i=""),l.match(/ via @/i)&&(c="")),(i||c)&&(l=l+(i?" "+i:"")+c),t("#sumo_twilighter_input").val(l).data({"sumome-twilighter-url":i,"sumome-twilighter-via":c,"sumome-twilighter-msg":l}),a()||C()}}function d(t){return"https://twitter.com/intent/tweet?text="+encodeURIComponent(t)+"&related="+encodeURIComponent("thesumome For your own twitter highlighter plugin")}function p(e){var i="",n=document.title,s=h();if(t('meta[property="og:description"]').attr("content")&&(n=t('meta[property="og:description"]').attr("content")),t('meta[property="og:image"]').attr("content")&&(i=t('meta[property="og:image"]').attr("content")),R){var a=t("#sumo_twilighter_input").data("sumome-twilighter-msg");if(a.indexOf(s)<0&&a.match(/https?:\/\//i)){a.split(" ").reverse().forEach(function(t){t.match(/^https?:\/\//i)&&(s=t)})}}return"https://www.facebook.com/v2.8/dialog/feed?app_id=214248668771590&display=popup&link="+encodeURIComponent(s)+"&caption="+e+"&name="+encodeURIComponent(document.title)+"&description="+encodeURIComponent(n)+"&redirect_uri="+encodeURIComponent("http:"+N.sumoUrl)+"/apps/twilighter/fbshared&picture="+i}function m(e){if(e&&e.length){var i=e.shift(),n=!1,s=!1;t(".sumo_twilighter_highlighted").each(function(e){t(t(".sumo_twilighter_highlighted")[e]).text().indexOf(i.entry)>-1?n=!0:t(t(".sumo_twilighter_highlighted")[e]).closest("[rel~=noshare]").length&&(s=!0)});var a;if(t(i.selector)&&t(i.selector).length)var a=t(i.selector);else if(i.selector){var r=/\#[^\s]+\./g,l=/\#[^\s]+/g,c=i.selector,h=c.match(r);if(h)for(var u=0,d=h.length;u<d;u++)c=c.replace(/\#[^\s]+\./,"[id="+h[u].substring(1,h[u].length-1)+"].");var h=c.match(l);if(h)for(var u=0,d=h.length;u<d;u++)c=c.replace(/\#[^\s]+/,"[id="+h[u].substring(1)+"]");t(c).length&&(a=t(c))}if(a&&!n&&!s){var p=a.html();o(a[0],i),t(".twilighter-"+i.hash).hover(function(){t(".twilighter-"+i.hash).css({cursor:"pointer"}).invert("0.3")},function(){t(".twilighter-"+i.hash).css({cursor:"inherit"}).invert()})}window.setTimeout(function(){m(e)},0)}else t(".sumo_twilighter_shares").mousedown(function(){return!1})}function f(){t(".sumo_twilighter_highlighted").contents().unwrap()}function g(t){return 140-s.txt.getTweetLength(t)}function v(e){for(var i=t(e).attr("class").split(" "),n=0;n<i.length;n++)if("twilighter-"==i[n].substring(0,"twilighter-".length))return i[n].split("-")[1];return""}function b(e){if(R&&!N.user&&!(t(e.target).closest("#sumo_twilighter_div").length||(t(e.target).closest(".sumo_twilighter_highlighted").length||t(e.target).closest(".sumo_twilighter_shares").length)&&v(t(e.target).closest(".sumo_twilighter_highlighted"))))return void t("#sumo_twilighter_div").hide();if(t(".sumo_twilighter_shares").css("visibility","hidden"),t(e.target).closest("#sumo_twilighter_div").length||t(e.target).is("a")&&"sumo_twilighter_btn"!=t(e.target).attr("id")||t(e.target).parents("a").length||r(e.target,"click")||t(e.target).closest("[rel~=noshare]").length)return void t(".sumo_twilighter_shares").css("visibility","visible");if("selectionchange"==e.type){if(0==t.Range.current().toString().length)return void t(".sumo_twilighter_shares").css("visibility","visible");var i=t.Range.current(),n=i.parent();if(t(n).hasClass("sumo_twilighter_highlighted")&&(n=t(n).parent()[0]),n.nodeType!==Node.TEXT_NODE&&n.nodeType!==Node.CDATA_SECTION_NODE||(n=n.parentNode),t(n).closest("#sumo_twilighter_div").length)return void t(".sumo_twilighter_shares").css("visibility","visible")}var s=!1;t("#sumo_twilighter_input").val(""),$="";var o={ignore:{classes:["sumo_twilighter_tweet","sumo_twilighter_highlighted"],ids:["sumo_twilighter_div"]}},l=!1;if((t(e.target).closest(".sumo_twilighter_highlighted").length||t(e.target).closest(".sumo_twilighter_shares").length)&&v(t(e.target).closest(".sumo_twilighter_highlighted"))){$=v(t(e.target).closest(".sumo_twilighter_highlighted"));var c=U[$].entry;l=!0}else var c=t.Range.current().toString();if(c=c.replace(/\xA0/g," "),$||c&&c.length>6&&c.length<250&&c.split(/[\u4e00-\u9fcc]|\s+/g).length>2)if(a()||!a()&&P!=c){if(P=c,A=c,$)O=U[$].selector;else{var i=t.Range.current();P=t.Range.current().toString().trim(),A=t.Range.current().toString().trim();var n=i.parent();t(n).hasClass("sumo_twilighter_highlighted")&&(n=t(n).parent()[0]),n.nodeType!==Node.TEXT_NODE&&n.nodeType!==Node.CDATA_SECTION_NODE||(n=n.parentNode);var h=t(n).range(),d=h.toString().indexOf(P);d>0&&h.start("+"+d),h.toString().length-P.length>0&&h.end("-"+(h.toString().length-P.length));var p=h.parent();t(p).hasClass("sumo_twilighter_highlighted")&&(p=t(p).parent()[0]),p.nodeType!==Node.TEXT_NODE&&p.nodeType!==Node.CDATA_SECTION_NODE||(p=p.parentNode),O=t(p).getSelector()[0]}var m=-1;if(!$){var f=/<[^>]*>/g,g=/&nbsp;/gi;if(t(O).length)elementHtml=t(O)[0].innerHTML;else{var b=/\#[^\s]+\./g,_=/\#[^\s]+/g,y=O,w=y.match(b);if(w)for(var x=0,k=w.length;x<k;x++)y=y.replace(/\#[^\s]+\./,"[id="+w[x].substring(1,w[x].length-1)+"].");var w=y.match(_);if(w)for(var x=0,k=w.length;x<k;x++)y=y.replace(/\#[^\s]+/,"[id="+w[x].substring(1)+"]");t(y).length&&(elementHtml=t(y)[0].innerHTML)}if(!elementHtml)return P="",O="",$="",A="",t("#sumo_twilighter_div").hide(),void t(".sumo_twilighter_shares").css("visibility","visible");var C;elementHtml=elementHtml.replace(/\<span class=[\'|\"]sumo_twilighter_shares[\'|\"].*?\>[-,0-9 ]+\<\/span\>/,""),elementHtml=elementHtml.replace(f,""),elementHtml=elementHtml.replace(g," "),m=elementHtml.indexOf(c)}if(m<0&&!$)return P="",O="",$="",A="",t("#sumo_twilighter_div").hide(),void t(".sumo_twilighter_shares").css("visibility","visible");R&&void 0!==U[$]&&void 0!==U[$].admin_message&&(P=U[$].admin_message),u(P),t("#sumo_twilighter_div").is(":visible")||(l?M.emit("event",{appId:"331c6750-848e-4469-b1bb-bfbb4fa4cd99",event:"click"}):M.emit("event",{appId:"331c6750-848e-4469-b1bb-bfbb4fa4cd99",event:"highlight"}),M.emit("event",{appId:"331c6750-848e-4469-b1bb-bfbb4fa4cd99",event:"popup"})),div_width=t("#sumo_twilighter_div").outerWidth(),div_height=t("#sumo_twilighter_div").outerHeight(),win_height=t(window).height()+t(window).scrollTop(),win_width=t(window).width()+t(window).scrollLeft(),a()?function(){var e=function e(i,n){var s="text-width-tester",a=t("#"+s);return a.length?a.css({font:n}).html(i):(a=t('<span id="'+s+'" style="display:none;font:'+n+';">'+i+"</span>"),t("body").append(a)),{width:a.width(),height:a.height()}},i=function i(n,s,a,r){var o=t(n),l="M",c=o.height()+5,h=a+" "+s+"px "+r,u=e("M",h).height;u>c?(s=s*c/u*.9,s<16&&(s=16),h=a+" "+s+"px "+r,o.css({font:h})):o.css({font:h})},n=function e(){var n=24,s=24<.05*window.innerHeight?.05*window.innerHeight:24,a=t("#sumo_twilighter_div").width(),r=t("#sumo_twilighter_div").innerHeight(),o=s,l=Math.floor(.075*window.innerHeight),c=o<l?o:l,h=Math.floor(.65*c),u=Math.floor(.65*c);t(".sumo_highlighter_mobile").css({"background-size":r<40?"0px":Math.round(Math.round(.03*window.innerHeight)/23*158)+"px "+Math.round(.03*window.innerHeight)+"px"}),t(".sumo_twilighter_m_fb .btn-icon").css({"background-size":u+"px "+h+"px",height:h+"px",width:u+"px",left:Math.floor((l-u)/2)-1+"px",top:Math.round((o-h)/2)-1+"px"}),t(".sumo_twilighter_m_tweet .btn-icon").css({"background-size":u+"px "+h+"px",height:h+"px",width:u+"px",left:Math.floor((l-u)/2)-1+"px",top:Math.round((o-h)/2)-1+"px"}),t(".sumo_twilighter_m_fb a").css({height:o+"px",width:l+"px"}),t(".sumo_twilighter_m_tweet a").css({height:o+"px",width:l+"px"}),t(".sumo_highlighter_m_right").css({width:2*l+8+"px"}),t(".sumo_twilighter_m_input_div").css({height:s+"px"}),i(document.getElementById("sumo_twilighter_input"),200,"normal","Georgia, serif")};t("#sumo_twilighter_div").css(D).show(),n(),t("#sumo_twilighter_input").focus(function(t){n()}),t(window).resize(function(e){t(":focus").hasClass("sumo_twilighter_m_input")||n()}.debounce(300))}():(D.top<0?t("#sumo_twilighter_div").css({top:0}):D.top+div_height>win_height?t("#sumo_twilighter_div").css({top:win_height-div_height}):t("#sumo_twilighter_div").css({top:D.top}),R&&N.user?t(".sumo_twilighter_admin_highlight").show():t(".sumo_twilighter_admin_highlight").hide(),N.user?t(".sumo_twilighter_admin").show():t(".sumo_twilighter_admin").hide(),D.left<0?t("#sumo_twilighter_div").css({left:0}).show():D.left+div_width>win_width?t("#sumo_twilighter_div").css({left:win_width-div_width}).show():t("#sumo_twilighter_div").css({left:D.left}).show())}else t(e.target).is("#sumo_twilighter_div")||t(e.target).parents("#sumo_twilighter_div").length||(P="",O="",$="",A="",t("#sumo_twilighter_div").css(D).hide(),t(".sumo_twilighter_shares").css("visibility","visible"));else P="",O="",$="",A="",t("#sumo_twilighter_div").hide(),t(".sumo_twilighter_shares").css("visibility","visible");t(".sumo_twilighter_shares").css("visibility","visible")}function _(){var e;if(t(O).length)var e=t(O);else{var i=/\#[^\s]+\./g,n=/\#[^\s]+/g,s=O,a=s.match(i);if(a)for(var r=0,o=a.length;r<o;r++)s=s.replace(/\#[^\s]+\./,"[id="+a[r].substring(1,a[r].length-1)+"].");var a=s.match(n);if(a)for(var r=0,o=a.length;r<o;r++)s=s.replace(/\#[^\s]+/,"[id="+a[r].substring(1)+"]");t(s).length&&(e=t(s))}e&&(e.find(".sumo_twilighter_highlighted").each(function(e,i){t(i).replaceWith(t(i).html())}),e.find(".sumo_twilighter_shares").each(function(e,i){t(i).remove()}))}function y(e){var i=t("#sumo_twilighter_input").data("sumome-twilighter-url"),n=t("#sumo_twilighter_input").data("sumome-twilighter-via"),s=t("#sumo_twilighter_input").val().replace(i,"").replace(n,"").trim();t.ajax({type:"POST",dataType:"json",beforeSend:function e(i){i.setRequestHeader("X-Sumo-Auth",t.cookie("__smToken"))},xhrFields:{withCredentials:!1},crossDomain:!0,url:N.sumoUrl+"/apps/twilighter/admin/save",data:{session_id:N.sessionId,site_id:N.siteId,entry:P,pathname:location.pathname,selector:O,hash:$,message:s},success:function e(i){if(i.entry){var n=i.entry;if(U[n.hash]=n,"[object Array]"===Object.prototype.toString.call(n.selector))var s=n.selector[0];else var s=n.selector;var a;if(t(s)&&t(s).length)var a=t(s);else if(s){var r=/\#[^\s]+\./g,l=/\#[^\s]+/g,c=s,h=c.match(r);if(h)for(var u=0,d=h.length;u<d;u++)c=c.replace(/\#[^\s]+\./,"[id="+h[u].substring(1,h[u].length-1)+"].");var h=c.match(l);if(h)for(var u=0,d=h.length;u<d;u++)c=c.replace(/\#[^\s]+/,"[id="+h[u].substring(1)+"]");t(c).length&&(a=t(c))}a&&(a.find(".sumo_twilighter_highlighted").each(function(e,i){t(i).replaceWith(t(i).html())}),a.find(".sumo_twilighter_shares").each(function(e,i){t(i).remove()}),a&&(o(a[0],n),t("#twilighter-"+n.hash).mousedown(b),t(".twilighter-"+n.hash).hover(function(){t(".twilighter-"+n.hash).css({cursor:"pointer"}).invert("0.3")},function(){t(".twilighter-"+n.hash).css({cursor:"inherit"}).invert()})))}P="",O="",$="",t("#sumo_twilighter_div").css(L).hide()}})}function w(e){t.ajax({type:"POST",dataType:"json",beforeSend:function e(i){i.setRequestHeader("X-Sumo-Auth",t.cookie("__smToken"))},xhrFields:{withCredentials:!1},crossDomain:!0,url:N.sumoUrl+"/apps/twilighter/delete",data:{site_id:N.siteId,entry:P,pathname:location.pathname,selector:O,hash:$},success:function e(i){i.success&&(_(),t("#sumo_twilighter_div").css(L).hide())}})}function x(e){function i(t,e,i,n){var s=void 0!=window.screenLeft?window.screenLeft:screen.left,a=void 0!=window.screenTop?window.screenTop:screen.top;width=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,height=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var r=width/2-i/2+s,o=height/2-n/2+a,l=window.open(t,e,"width="+i+", height="+n+", top="+o+", left="+r);window.focus&&l.focus()}t(e.target).is("a")&&0==t(e.target).closest("#sumo_twilighter_btn").length||(M.emit("event",{
appId:"331c6750-848e-4469-b1bb-bfbb4fa4cd99",event:"twitter"}),i(d(t("#sumo_twilighter_input").val()),"Tweet",575,350),t.ajax({type:"POST",dataType:"json",url:N.sumoUrl+"/apps/twilighter/share",data:{entry:P,siteId:N.siteId,pathname:location.pathname,selector:O,sessionId:N.sessionId,clickType:"tweet",hash:$},xhrFields:{withCredentials:!1},crossDomain:!0}).success(function(e){if(e.entry){var i=e.entry;if(U[i.hash]=i,"[object Array]"===Object.prototype.toString.call(i.selector))var n=i.selector[0];else var n=i.selector;var s;if(t(n)&&t(n).length)var s=t(n);else if(n){var a=/\#[^\s]+\./g,r=/\#[^\s]+/g,l=n,c=l.match(a);if(c)for(var h=0,u=c.length;h<u;h++)l=l.replace(/\#[^\s]+\./,"[id="+c[h].substring(1,c[h].length-1)+"].");var c=l.match(r);if(c)for(var h=0,u=c.length;h<u;h++)l=l.replace(/\#[^\s]+/,"[id="+c[h].substring(1)+"]");t(l).length&&(s=t(l))}s&&(s.find(".sumo_twilighter_highlighted").each(function(e,i){t(i).replaceWith(t(i).html())}),s.find(".sumo_twilighter_shares").each(function(e,i){t(i).remove()}),s&&(o(s[0],i),t("#twilighter-"+i.hash).mousedown(b),t(".twilighter-"+i.hash).hover(function(){t(".twilighter-"+i.hash).css({cursor:"pointer"}).invert("0.3")},function(){t(".twilighter-"+i.hash).css({cursor:"inherit"}).invert()})))}P="",O="",$="",t("#sumo_twilighter_div").css(L).hide()}))}function k(e){function i(t,e,i,n){var s=void 0!=window.screenLeft?window.screenLeft:screen.left,a=void 0!=window.screenTop?window.screenTop:screen.top;width=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,height=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var r=width/2-i/2+s,o=height/2-n/2+a,l=window.open(t,e,"width="+i+", height="+n+", top="+o+", left="+r);window.focus&&l.focus()}t(e.target).is("a")&&0==t(e.target).closest("#sumo_twilighter_btn_fb").length||(M.emit("event",{appId:"331c6750-848e-4469-b1bb-bfbb4fa4cd99",event:"facebook"}),i(p(A),"Facebook Share",575,350),t.ajax({type:"POST",dataType:"json",url:N.sumoUrl+"/apps/twilighter/share",data:{entry:P,siteId:N.siteId,pathname:location.pathname,selector:O,sessionId:N.sessionId,clickType:"tweet",hash:$},xhrFields:{withCredentials:!1},crossDomain:!0}).success(function(e){if(e.entry){var i=e.entry;if(U[i.hash]=i,"[object Array]"===Object.prototype.toString.call(i.selector))var n=i.selector[0];else var n=i.selector;if(!t(n).length){var s=/\#[^\s]+\./g,a=/\#[^\s]+/g,r=n,l=r.match(s);if(l)for(var c=0,h=l.length;c<h;c++)r=r.replace(/\#[^\s]+\./,"[id="+l[c].substring(1,l[c].length-1)+"].");var l=r.match(a);if(l)for(var c=0,h=l.length;c<h;c++)r=r.replace(/\#[^\s]+/,"[id="+l[c].substring(1)+"]");t(r).length&&(n=r)}t(n).find(".sumo_twilighter_highlighted").each(function(e,i){t(i).replaceWith(t(i).html())}),t(n).find(".sumo_twilighter_shares").each(function(e,i){t(i).remove()}),t(n)&&t(n).length&&(o(t(n)[0],i),t("#twilighter-"+i.hash).mousedown(b),t(".twilighter-"+i.hash).hover(function(){t(".twilighter-"+i.hash).css({cursor:"pointer"}).invert("0.3")},function(){t(".twilighter-"+i.hash).css({cursor:"inherit"}).invert()}))}P="",O="",$="",t("#sumo_twilighter_div").hide()}))}function C(){var e=g(t("#sumo_twilighter_input").val());t(".sumo_twilighter_remaining").text(e),e<0?t(".sumo_twilighter_remaining").css("color","red"):t(".sumo_twilighter_remaining").css("color",X)}function S(t){this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase();for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function t(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),255]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function t(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseInt(e[4])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function t(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),255]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function t(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),255]}}],i=0;i<e.length;i++){var n=e[i].re,s=e[i].process,a=n.exec(t);a&&(channels=s(a),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.a=channels[3],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.a=this.a<0||isNaN(this.a)?0:this.a>255?255:this.a,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),i=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==i.length&&(i="0"+i),"#"+t+e+i}}function T(t){var e,i,n,s;return t.toHex&&(t="#"+t.toHex()),t.match(/^rgb/)?(t=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/),e=t[1],n=t[2],i=t[3]):(t=+("0x"+t.slice(1).replace(t.length<5&&/./g,"$&$&")),e=t>>16,n=t>>8&255,i=255&t),s=Math.sqrt(e*e*.299+n*n*.587+i*i*.114),s>127.5?"light":"dark"}function E(t){return"light"==T(t)?"black":"white"}function I(t,e){t=t.toString();var i=parseInt(t.slice(1),16),n=Math.round(2.55*e),s=(i>>16)+n,a=(i>>8&255)+n,r=(255&i)+n;return"#"+(16777216+65536*(s<255?s<1?0:s:255)+256*(a<255?a<1?0:a:255)+(r<255?r<1?0:r:255)).toString(16).slice(1)}var P,A,$,O,L,B,D,M,N,z=!1,R=!1,j,H="",U={},F="#f0f0f0",q="#4c66a4",W="#3484bf",V="white",G="white",X="#999",Q=!1,Y,K=!1;return function(e){(t.browser=t.browser||{}).mobile=/(android|bb\d+|meego).+mobile|android|ipad|playbook|silk|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera),t.fn.invert=function(t){var t=t||"0.15",e="color";if(this.css(e)){var i=new S(this.css(e));i.ok&&this.css("background-color","rgba("+i.r+","+i.g+","+i.b+","+t+")")}},{settings:{},initialize:function e(){this.api.on("331c6750-848e-4469-b1bb-bfbb4fa4cd99/service/reload",t.proxy(function(){this.load(!0)},this)),this.load()},load:function e(s){void 0!==s&&s&&(t(".sumo_twilighter_shares").remove(),f());var r;M=this.api,N=this.sumoProperties,Y=N.baseUrl+"images/apps/331c6750-848e-4469-b1bb-bfbb4fa4cd99/",t.ajax({type:"POST",dataType:"json",url:N.sumoUrl+"/apps/twilighter/load",data:{site_id:N.siteId,pathname:location.pathname,geoLocation:N.geoLocation,pageViews:N.views,userAgent:navigator.userAgent},xhrFields:{withCredentials:!1},crossDomain:!0}).done(t.proxy(function(e){if(e&&"success"in e&&e.success&&(t.extend(this.settings,e),this.settings.ctry=!(!N.geoLocation||!N.geoLocation.ctry)&&N.geoLocation.ctry,this.settings.views=N.views?N.views:1,this.settings.reflink="https://sumo.com/?src=sm-hl-"+N.siteId+"&utm_source=sumo-powered-by&utm_medium=highlighter&utm_campaign="+N.siteId,t.isCurrentUrlAllowed(this.settings.display_rules,null,this.settings.ctry,this.settings.views))){if(e.entries&&e.entries.length&&(r=e.entries,r.forEach(function(t){U[t.hash]=t}),window.setTimeout(function(){m(r.slice())},0)),void 0!==e.useUrlShortener&&(z=e.useUrlShortener),void 0!==e.useAdminHighlights&&(R=e.useAdminHighlights),void 0!==e.viaTwitterHandle&&e.viaTwitterHandle&&e.viaTwitterHandle.trim()&&(H=e.viaTwitterHandle.trim()),e.modalColor&&(F=e.modalColor),e.fbButtonColor&&(q=e.fbButtonColor),e.twButtonColor&&(W=e.twButtonColor),"noSumoBranding"in e&&(K=e.noSumoBranding),V=E(q),G=E(W),a()?(t("body").append(n),t(".sumo_twilighter_m_fb").on("click",k),t(".sumo_twilighter_m_tweet").on("click",x),t(".sumo_highlighter_mobile").css("background-color",F,"important"),t(".sumo_twilighter_m_fb a").css("background-color",q,"important"),t(".sumo_twilighter_m_tweet a").css("background-color",W,"important"),t(".sumo_twilighter_m_fb .btn-text").css("color",V,"important"),t(".sumo_twilighter_m_tweet .btn-text").css("color",G,"important"),t(".sumo_twilighter_m_fb .btn-icon").css("background-image","url("+Y+"facebook-"+V+"-60.png)","important"),t(".sumo_twilighter_m_tweet .btn-icon").css("background-image","url("+Y+"twitter-"+G+"-60.png)","important")):(t("body").append(i),K?t(".sumo_highlighter_desktop").css("padding","15px"):t(".sumo_twilighter_remaining").before('<a target="_blank" class="sumo_twilighter_logo" href="'+this.settings.reflink+'">Powered by Sumo</a>'),t(".sumo_twilighter_fb").on("click",k),t(".sumo_twilighter_tweet").on("click",x),X=I(F,"light"==T(F)?-45:45),t(".sumo_highlighter_desktop").css("background-color",F,"important"),t(".sumo_twilighter_remaining").css("color",X,"important"),t(".sumo_twilighter_logo").css("color",X,"important"),t(".sumo_twilighter_admin_highlight").find("a").css("color",X,"important"),t(".sumo_twilighter_admin").find("a").css("color",X,"important"),t(".sumo_twilighter_fb a").css("background-color",q,"important"),t(".sumo_twilighter_tweet a").css("background-color",W,"important"),t(".sumo_twilighter_fb .btn-text").css("color",V,"important"),t(".sumo_twilighter_tweet .btn-text").css("color",G,"important"),t(".sumo_twilighter_fb .btn-icon").attr("src",Y+"facebook-"+V+"-60.png"),t(".sumo_twilighter_tweet .btn-icon").attr("src",Y+"twitter-"+G+"-60.png")),R&&N.user&&t(".sumo_twilighter_admin_highlight").find("a").on("click",y),N.user&&t(".sumo_twilighter_admin").find("a").on("click",w),a()||t("#sumo_twilighter_input").keyup(function(){C()}),Q)return;a()?(t(document).on("selectionchange",function(e){var i=0,n=0;if(window.getSelection&&document.createRange&&void 0!==document.createRange().getBoundingClientRect){var s=window.getSelection();if(s.rangeCount>0){var a=s.getRangeAt(0).getBoundingClientRect();i=a.left,n=a.top}}else if(document.selection&&"Control"!=document.selection.type){var r=document.selection.createRange();i=r.boundingLeft,n=r.boundingTop}B={top:n/t(window).height()>=.5?0:"auto",bottom:n/t(window).height()>=.5?"auto":0,left:(t(window).width()+t(window).scrollLeft())/2-t("#sumo_twilighter_div").outerWidth()/2},D=B,b(e.originalEvent)}),t(window).on("touchstart",function(e){t(e.target).on("touchend",function(e){var i=e.target;B={top:(i.getBoundingClientRect().top+i.getBoundingClientRect().height/2)/t(window).height()>=.5?0:"auto",bottom:(i.getBoundingClientRect().top+i.getBoundingClientRect().height/2)/t(window).height()>=.5?"auto":0,left:(t(window).width()+t(window).scrollLeft())/2-t("#sumo_twilighter_div").outerWidth()/2},D=B,b(e),t(e.target).off("touchend")}),t(e.target).on("touchmove",function(e){t(e.target).off("touchend")})}),t(window).on("touchmove",function(e){t("#sumo_twilighter_div").is(":visible")&&!t(e.target).closest("#sumo_twilighter_div").length&&(P="",O="",$="",t("#sumo_twilighter_div").hide())})):(t(window).mousemove(function(t){L={top:t.pageY,left:t.pageX},D=L}.throttle(150)),t(window).on("mouseup",function(t){1===t.which&&b(t)})),Q=!0}},this))}}}),function(){var i="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this,n=i._,s=Array.prototype,a=Object.prototype,r="undefined"!=typeof Symbol?Symbol.prototype:null,o=s.push,l=s.slice,c=a.toString,h=a.hasOwnProperty,u=Array.isArray,d=Object.keys,p=Object.create,m=function(){},f=function(t){return t instanceof f?t:this instanceof f?void(this._wrapped=t):new f(t)};void 0===t||t.nodeType?window!=i&&(i._=f):(void 0!==e&&!e.nodeType&&e.exports&&(t=e.exports=f),t._=f),f.VERSION="1.8.3";var g=function(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 3:return function(i,n,s){return t.call(e,i,n,s)};case 4:return function(i,n,s,a){return t.call(e,i,n,s,a)}}return function(){return t.apply(e,arguments)}},v,b=function(t,e,i){return f.iteratee!==v?f.iteratee(t,e):null==t?f.identity:f.isFunction(t)?g(t,e,i):f.isObject(t)?f.matcher(t):f.property(t)};f.iteratee=v=function(t,e){return b(t,e,1/0)};var _=function(t,e){return e=null==e?t.length-1:+e,function(){for(var i=Math.max(arguments.length-e,0),n=Array(i),s=0;s<i;s++)n[s]=arguments[s+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n);case 2:return t.call(this,arguments[0],arguments[1],n)}var a=Array(e+1);for(s=0;s<e;s++)a[s]=arguments[s];return a[e]=n,t.apply(this,a)}},y=function(t){if(!f.isObject(t))return{};if(p)return p(t);m.prototype=t;var e=new m;return m.prototype=null,e},w=function(t){return function(e){return null==e?void 0:e[t]}},x=Math.pow(2,53)-1,k=w("length"),C=function(t){var e=k(t);return"number"==typeof e&&e>=0&&e<=x};f.each=f.forEach=function(t,e,i){e=g(e,i);var n,s;if(C(t))for(n=0,s=t.length;n<s;n++)e(t[n],n,t);else{var a=f.keys(t);for(n=0,s=a.length;n<s;n++)e(t[a[n]],a[n],t)}return t},f.map=f.collect=function(t,e,i){e=b(e,i);for(var n=!C(t)&&f.keys(t),s=(n||t).length,a=Array(s),r=0;r<s;r++){var o=n?n[r]:r;a[r]=e(t[o],o,t)}return a};var S=function(t){var e=function(e,i,n,s){var a=!C(e)&&f.keys(e),r=(a||e).length,o=t>0?0:r-1;for(s||(n=e[a?a[o]:o],o+=t);o>=0&&o<r;o+=t){var l=a?a[o]:o;n=i(n,e[l],l,e)}return n};return function(t,i,n,s){var a=arguments.length>=3;return e(t,g(i,s,4),n,a)}};f.reduce=f.foldl=f.inject=S(1),f.reduceRight=f.foldr=S(-1),f.find=f.detect=function(t,e,i){var n=C(t)?f.findIndex:f.findKey,s=n(t,e,i);if(void 0!==s&&-1!==s)return t[s]},f.filter=f.select=function(t,e,i){var n=[];return e=b(e,i),f.each(t,function(t,i,s){e(t,i,s)&&n.push(t)}),n},f.reject=function(t,e,i){return f.filter(t,f.negate(b(e)),i)},f.every=f.all=function(t,e,i){e=b(e,i);for(var n=!C(t)&&f.keys(t),s=(n||t).length,a=0;a<s;a++){var r=n?n[a]:a;if(!e(t[r],r,t))return!1}return!0},f.some=f.any=function(t,e,i){e=b(e,i);for(var n=!C(t)&&f.keys(t),s=(n||t).length,a=0;a<s;a++){var r=n?n[a]:a;if(e(t[r],r,t))return!0}return!1},f.contains=f.includes=f.include=function(t,e,i,n){return C(t)||(t=f.values(t)),("number"!=typeof i||n)&&(i=0),f.indexOf(t,e,i)>=0},f.invoke=_(function(t,e,i){var n=f.isFunction(e);return f.map(t,function(t){var s=n?e:t[e];return null==s?s:s.apply(t,i)})}),f.pluck=function(t,e){return f.map(t,f.property(e))},f.where=function(t,e){return f.filter(t,f.matcher(e))},f.findWhere=function(t,e){return f.find(t,f.matcher(e))},f.max=function(t,e,i){var n=-1/0,s=-1/0,a,r;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t){t=C(t)?t:f.values(t);for(var o=0,l=t.length;o<l;o++)null!=(a=t[o])&&a>n&&(n=a)}else e=b(e,i),f.each(t,function(t,i,a){((r=e(t,i,a))>s||r===-1/0&&n===-1/0)&&(n=t,s=r)});return n},f.min=function(t,e,i){var n=1/0,s=1/0,a,r;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t){t=C(t)?t:f.values(t);for(var o=0,l=t.length;o<l;o++)null!=(a=t[o])&&a<n&&(n=a)}else e=b(e,i),f.each(t,function(t,i,a){((r=e(t,i,a))<s||r===1/0&&n===1/0)&&(n=t,s=r)});return n},f.shuffle=function(t){return f.sample(t,1/0)},f.sample=function(t,e,i){if(null==e||i)return C(t)||(t=f.values(t)),t[f.random(t.length-1)];var n=C(t)?f.clone(t):f.values(t),s=k(n);e=Math.max(Math.min(e,s),0);for(var a=s-1,r=0;r<e;r++){var o=f.random(r,a),l=n[r];n[r]=n[o],n[o]=l}return n.slice(0,e)},f.sortBy=function(t,e,i){var n=0;return e=b(e,i),f.pluck(f.map(t,function(t,i,s){return{value:t,index:n++,criteria:e(t,i,s)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return t.index-e.index}),"value")};var T=function(t,e){return function(i,n,s){var a=e?[[],[]]:{};return n=b(n,s),f.each(i,function(e,s){var r=n(e,s,i);t(a,e,r)}),a}};f.groupBy=T(function(t,e,i){f.has(t,i)?t[i].push(e):t[i]=[e]}),f.indexBy=T(function(t,e,i){t[i]=e}),f.countBy=T(function(t,e,i){f.has(t,i)?t[i]++:t[i]=1});var E=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;f.toArray=function(t){return t?f.isArray(t)?l.call(t):f.isString(t)?t.match(E):C(t)?f.map(t,f.identity):f.values(t):[]},f.size=function(t){return null==t?0:C(t)?t.length:f.keys(t).length},f.partition=T(function(t,e,i){t[i?0:1].push(e)},!0),f.first=f.head=f.take=function(t,e,i){if(!(null==t||t.length<1))return null==e||i?t[0]:f.initial(t,t.length-e)},f.initial=function(t,e,i){return l.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},f.last=function(t,e,i){if(!(null==t||t.length<1))return null==e||i?t[t.length-1]:f.rest(t,Math.max(0,t.length-e))},f.rest=f.tail=f.drop=function(t,e,i){return l.call(t,null==e||i?1:e)},f.compact=function(t){return f.filter(t,Boolean)};var I=function(t,e,i,n){n=n||[];for(var s=n.length,a=0,r=k(t);a<r;a++){var o=t[a];if(C(o)&&(f.isArray(o)||f.isArguments(o)))if(e)for(var l=0,c=o.length;l<c;)n[s++]=o[l++];else I(o,e,i,n),s=n.length;else i||(n[s++]=o)}return n};f.flatten=function(t,e){return I(t,e,!1)},f.without=_(function(t,e){return f.difference(t,e)}),f.uniq=f.unique=function(t,e,i,n){f.isBoolean(e)||(n=i,i=e,e=!1),null!=i&&(i=b(i,n));for(var s=[],a=[],r=0,o=k(t);r<o;r++){var l=t[r],c=i?i(l,r,t):l;e?(r&&a===c||s.push(l),a=c):i?f.contains(a,c)||(a.push(c),s.push(l)):f.contains(s,l)||s.push(l)}return s},f.union=_(function(t){return f.uniq(I(t,!0,!0))}),f.intersection=function(t){for(var e=[],i=arguments.length,n=0,s=k(t);n<s;n++){var a=t[n];if(!f.contains(e,a)){var r;for(r=1;r<i&&f.contains(arguments[r],a);r++);r===i&&e.push(a)}}return e},f.difference=_(function(t,e){return e=I(e,!0,!0),f.filter(t,function(t){return!f.contains(e,t)})}),f.unzip=function(t){for(var e=t&&f.max(t,k).length||0,i=Array(e),n=0;n<e;n++)i[n]=f.pluck(t,n);return i},f.zip=_(f.unzip),f.object=function(t,e){for(var i={},n=0,s=k(t);n<s;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i};var P=function(t){return function(e,i,n){i=b(i,n);for(var s=k(e),a=t>0?0:s-1;a>=0&&a<s;a+=t)if(i(e[a],a,e))return a;return-1}};f.findIndex=P(1),f.findLastIndex=P(-1),f.sortedIndex=function(t,e,i,n){i=b(i,n,1);for(var s=i(e),a=0,r=k(t);a<r;){var o=Math.floor((a+r)/2);i(t[o])<s?a=o+1:r=o}return a};var A=function(t,e,i){return function(n,s,a){var r=0,o=k(n);if("number"==typeof a)t>0?r=a>=0?a:Math.max(a+o,r):o=a>=0?Math.min(a+1,o):a+o+1;else if(i&&a&&o)return a=i(n,s),n[a]===s?a:-1;if(s!==s)return a=e(l.call(n,r,o),f.isNaN),a>=0?a+r:-1;for(a=t>0?r:o-1;a>=0&&a<o;a+=t)if(n[a]===s)return a;return-1}};f.indexOf=A(1,f.findIndex,f.sortedIndex),f.lastIndexOf=A(-1,f.findLastIndex),f.range=function(t,e,i){null==e&&(e=t||0,t=0),i||(i=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/i),0),s=Array(n),a=0;a<n;a++,t+=i)s[a]=t;return s},f.chunk=function(t,e){if(null==e||e<1)return[];for(var i=[],n=0,s=t.length;n<s;)i.push(l.call(t,n,n+=e));return i};var $=function(t,e,i,n,s){if(!(n instanceof e))return t.apply(i,s);var a=y(t.prototype),r=t.apply(a,s);return f.isObject(r)?r:a};f.bind=_(function(t,e,i){if(!f.isFunction(t))throw new TypeError("Bind must be called on a function");var n=_(function(s){return $(t,n,e,this,i.concat(s))});return n}),f.partial=_(function(t,e){var i=f.partial.placeholder,n=function(){for(var s=0,a=e.length,r=Array(a),o=0;o<a;o++)r[o]=e[o]===i?arguments[s++]:e[o];for(;s<arguments.length;)r.push(arguments[s++]);return $(t,n,this,this,r)};return n}),f.partial.placeholder=f,f.bindAll=_(function(t,e){e=I(e,!1,!1);var i=e.length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var n=e[i];t[n]=f.bind(t[n],t)}}),f.memoize=function(t,e){var i=function(n){var s=i.cache,a=""+(e?e.apply(this,arguments):n);return f.has(s,a)||(s[a]=t.apply(this,arguments)),s[a]};return i.cache={},i},f.delay=_(function(t,e,i){return setTimeout(function(){return t.apply(null,i)},e)}),f.defer=f.partial(f.delay,f,1),f.throttle=function(t,e,i){var n,s,a,r,o=0;i||(i={});var l=function(){o=!1===i.leading?0:f.now(),n=null,r=t.apply(s,a),n||(s=a=null)},c=function(){var c=f.now();o||!1!==i.leading||(o=c);var h=e-(c-o);return s=this,a=arguments,h<=0||h>e?(n&&(clearTimeout(n),n=null),o=c,r=t.apply(s,a),n||(s=a=null)):n||!1===i.trailing||(n=setTimeout(l,h)),r};return c.cancel=function(){clearTimeout(n),o=0,n=s=a=null},c},f.debounce=function(t,e,i){var n,s,a=function(e,i){n=null,i&&(s=t.apply(e,i))},r=_(function(r){if(n&&clearTimeout(n),i){var o=!n;n=setTimeout(a,e),o&&(s=t.apply(this,r))}else n=f.delay(a,e,this,r);return s});return r.cancel=function(){clearTimeout(n),n=null},r},f.wrap=function(t,e){return f.partial(e,t)},f.negate=function(t){return function(){return!t.apply(this,arguments)}},f.compose=function(){var t=arguments,e=t.length-1;return function(){for(var i=e,n=t[e].apply(this,arguments);i--;)n=t[i].call(this,n);return n}},f.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},f.before=function(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}},f.once=f.partial(f.before,2),f.restArgs=_;var O=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],B=function(t,e){var i=L.length,n=t.constructor,s=f.isFunction(n)&&n.prototype||a,r="constructor";for(f.has(t,r)&&!f.contains(e,r)&&e.push(r);i--;)(r=L[i])in t&&t[r]!==s[r]&&!f.contains(e,r)&&e.push(r)};f.keys=function(t){if(!f.isObject(t))return[];if(d)return d(t);var e=[];for(var i in t)f.has(t,i)&&e.push(i);return O&&B(t,e),e},f.allKeys=function(t){if(!f.isObject(t))return[];var e=[];for(var i in t)e.push(i);return O&&B(t,e),e},f.values=function(t){for(var e=f.keys(t),i=e.length,n=Array(i),s=0;s<i;s++)n[s]=t[e[s]];return n},f.mapObject=function(t,e,i){e=b(e,i);for(var n=f.keys(t),s=n.length,a={},r=0;r<s;r++){var o=n[r];a[o]=e(t[o],o,t)}return a},f.pairs=function(t){for(var e=f.keys(t),i=e.length,n=Array(i),s=0;s<i;s++)n[s]=[e[s],t[e[s]]];return n},f.invert=function(t){for(var e={},i=f.keys(t),n=0,s=i.length;n<s;n++)e[t[i[n]]]=i[n];return e},f.functions=f.methods=function(t){var e=[];for(var i in t)f.isFunction(t[i])&&e.push(i);return e.sort()};var D=function(t,e){return function(i){var n=arguments.length;if(e&&(i=Object(i)),n<2||null==i)return i;for(var s=1;s<n;s++)for(var a=arguments[s],r=t(a),o=r.length,l=0;l<o;l++){var c=r[l];e&&void 0!==i[c]||(i[c]=a[c])}return i}};f.extend=D(f.allKeys),f.extendOwn=f.assign=D(f.keys),f.findKey=function(t,e,i){e=b(e,i);for(var n=f.keys(t),s,a=0,r=n.length;a<r;a++)if(s=n[a],e(t[s],s,t))return s};var M=function(t,e,i){return e in i};f.pick=_(function(t,e){var i={},n=e[0];if(null==t)return i;f.isFunction(n)?(e.length>1&&(n=g(n,e[1])),e=f.allKeys(t)):(n=M,e=I(e,!1,!1),t=Object(t));for(var s=0,a=e.length;s<a;s++){var r=e[s],o=t[r];n(o,r,t)&&(i[r]=o)}return i}),f.omit=_(function(t,e){var i=e[0],n;return f.isFunction(i)?(i=f.negate(i),e.length>1&&(n=e[1])):(e=f.map(I(e,!1,!1),String),i=function(t,i){return!f.contains(e,i)}),f.pick(t,i,n)}),f.defaults=D(f.allKeys,!0),f.create=function(t,e){var i=y(t);return e&&f.extendOwn(i,e),i},f.clone=function(t){return f.isObject(t)?f.isArray(t)?t.slice():f.extend({},t):t},f.tap=function(t,e){return e(t),t},f.isMatch=function(t,e){var i=f.keys(e),n=i.length;if(null==t)return!n;for(var s=Object(t),a=0;a<n;a++){var r=i[a];if(e[r]!==s[r]||!(r in s))return!1}return!0};var N,z;N=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;if(t!==t)return e!==e;var s=typeof t;return("function"===s||"object"===s||"object"==typeof e)&&z(t,e,i,n)},z=function(t,e,i,n){t instanceof f&&(t=t._wrapped),e instanceof f&&(e=e._wrapped);var s=c.call(t);if(s!==c.call(e))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return r.valueOf.call(t)===r.valueOf.call(e)}var a="[object Array]"===s;if(!a){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,l=e.constructor;if(o!==l&&!(f.isFunction(o)&&o instanceof o&&f.isFunction(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}i=i||[],n=n||[];for(var h=i.length;h--;)if(i[h]===t)return n[h]===e;if(i.push(t),n.push(e),a){if((h=t.length)!==e.length)return!1;for(;h--;)if(!N(t[h],e[h],i,n))return!1}else{var u=f.keys(t),d;if(h=u.length,f.keys(e).length!==h)return!1;for(;h--;)if(d=u[h],!f.has(e,d)||!N(t[d],e[d],i,n))return!1}return i.pop(),n.pop(),!0},f.isEqual=function(t,e){return N(t,e)},f.isEmpty=function(t){return null==t||(C(t)&&(f.isArray(t)||f.isString(t)||f.isArguments(t))?0===t.length:0===f.keys(t).length)},f.isElement=function(t){return!(!t||1!==t.nodeType)},f.isArray=u||function(t){return"[object Array]"===c.call(t)},f.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},f.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){f["is"+t]=function(e){return c.call(e)==="[object "+t+"]"}}),f.isArguments(arguments)||(f.isArguments=function(t){return f.has(t,"callee")});var R=i.document&&i.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof R&&(f.isFunction=function(t){return"function"==typeof t||!1}),f.isFinite=function(t){return!f.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},f.isNaN=function(t){return f.isNumber(t)&&isNaN(t)},f.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===c.call(t)},f.isNull=function(t){return null===t},f.isUndefined=function(t){return void 0===t},f.has=function(t,e){return null!=t&&h.call(t,e)},f.noConflict=function(){return i._=n,this},f.identity=function(t){return t},f.constant=function(t){return function(){return t}},f.noop=function(){},f.property=w,f.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},f.matcher=f.matches=function(t){return t=f.extendOwn({},t),function(e){return f.isMatch(e,t)}},f.times=function(t,e,i){var n=Array(Math.max(0,t));e=g(e,i,1);for(var s=0;s<t;s++)n[s]=e(s);return n},f.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},f.now=Date.now||function(){return(new Date).getTime()};var j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=f.invert(j),U=function(t){var e=function(e){return t[e]},i="(?:"+f.keys(t).join("|")+")",n=RegExp(i),s=RegExp(i,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(s,e):t}};f.escape=U(j),f.unescape=U(H),f.result=function(t,e,i){var n=null==t?void 0:t[e];return void 0===n&&(n=i),f.isFunction(n)?n.call(t):n};var F=0;f.uniqueId=function(t){var e=++F+"";return t?t+e:e},f.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\u2028|\u2029/g,G=function(t){return"\\"+W[t]};f.template=function(t,e,i){!e&&i&&(e=i),e=f.defaults({},e,f.templateSettings);var n=RegExp([(e.escape||q).source,(e.interpolate||q).source,(e.evaluate||q).source].join("|")+"|$","g"),s=0,a="__p+='";t.replace(n,function(e,i,n,r,o){return a+=t.slice(s,o).replace(V,G),s=o+e.length,i?a+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":r&&(a+="';\n"+r+"\n__p+='"),e}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";var r;try{r=new Function(e.variable||"obj","_",a)}catch(t){throw t.source=a,t}var o=function(t){return r.call(this,t,f)};return o.source="function("+(e.variable||"obj")+"){\n"+a+"}",o},f.chain=function(t){var e=f(t);return e._chain=!0,e};var X=function(t,e){return t._chain?f(e).chain():e};f.mixin=function(t){return f.each(f.functions(t),function(e){var i=f[e]=t[e];f.prototype[e]=function(){var t=[this._wrapped];return o.apply(t,arguments),X(this,i.apply(f,t))}}),f},f.mixin(f),f.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];f.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0],X(this,i)}}),f.each(["concat","join","slice"],function(t){var e=s[t];f.prototype[t]=function(){return X(this,e.apply(this._wrapped,arguments))}}),f.prototype.value=function(){return this._wrapped},f.prototype.valueOf=f.prototype.toJSON=f.prototype.value,f.prototype.toString=function(){return String(this._wrapped)},"function"==typeof sumo.define&&sumo.define.amd&&sumo.define("underscore",[],function(){return f})}(),sumo.define("underscore-lib",function(){}),sumo.define("underscore",["underscore-lib"],function(t){return t.noConflict()}),sumo.define("htmlParser",[],function(){function t(t,r){t=t||"",r=r||{};for(var o in e)e.hasOwnProperty(o)&&(r.autoFix&&(r["fix_"+o]=!0),r.fix=r.fix||r["fix_"+o]);var l=[],c=document.createElement("div"),h=function(t){return"string"==typeof t&&-1!==t.indexOf("&")?(c.innerHTML=t,c.textContent||c.innerText||t):t},u=function(e){t+=e},d=function(e){t=e+t},p={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},m={comment:function(){var e=t.indexOf("--\x3e");if(e>=0)return{content:t.substr(4,e-1),length:e+3}},endTag:function(){var e=t.match(n);if(e)return{tagName:e[1],length:e[0].length}},atomicTag:function(){var e=m.startTag();if(e){var i=t.slice(e.length);if(i.match(new RegExp("</\\s*"+e.tagName+"\\s*>","i"))){var n=i.match(new RegExp("([\\s\\S]*?)</\\s*"+e.tagName+"\\s*>","i"));if(n)return{tagName:e.tagName,attrs:e.attrs,content:n[1],length:n[0].length+e.length}}}},startTag:function(){if(-1===t.indexOf(">"))return null;var e=t.match(i);if(e){var n={},r={},o=e[2];return e[2].replace(s,function(t,e){if(arguments[2]||arguments[3]||arguments[4]||arguments[5])if(arguments[5])n[arguments[5]]="",r[e]=!0;else{var i=arguments[2]||arguments[3]||arguments[4]||a.test(e)&&e||"";n[e]=h(i)}else n[e]=null;o=o.replace(t,"")}),{tagName:e[1],attrs:n,booleanAttrs:r,rest:o,unary:!!e[3],length:e[0].length}}},chars:function(){var e=t.indexOf("<");return{length:e>=0?e:t.length}}},f=function(){for(var e in p)if(p[e].test(t)){var i=m[e]();return i?(i.type=i.type||e,i.text=t.substr(0,i.length),t=t.slice(i.length),i):null}},g=function(t){for(var e;e=f();)if(t[e.type]&&!1===t[e.type](e))return},v=function(){var e=t;return t="",e},b=function(){return t};return r.fix&&function(){
var e=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,i=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i,n=[];n.last=function(){return this[this.length-1]},n.lastTagNameEq=function(t){var e=this.last();return e&&e.tagName&&e.tagName.toUpperCase()===t.toUpperCase()},n.containsTagName=function(t){for(var e=0,i;i=this[e];e++)if(i.tagName===t)return!0;return!1};var s=function(t){return t&&"startTag"===t.type&&(t.unary=e.test(t.tagName)||t.unary,t.html5Unary=!/\/>$/.test(t.text)),t},a=f,o=function(){var e=t,i=s(a());return t=e,i},l=function(){var t=n.pop();d("</"+t.tagName+">")},c={startTag:function(t){var e=t.tagName;"TR"===e.toUpperCase()&&n.lastTagNameEq("TABLE")?(d("<TBODY>"),u()):r.fix_selfClose&&i.test(e)&&n.containsTagName(e)?n.lastTagNameEq(e)?l():(d("</"+t.tagName+">"),u()):t.unary||n.push(t)},endTag:function(t){n.last()?r.fix_tagSoup&&!n.lastTagNameEq(t.tagName)?l():n.pop():r.fix_tagSoup&&h()}},h=function(){a(),u()},u=function(){var t=o();t&&c[t.type]&&c[t.type](t)};f=function(){return u(),s(a())}}(),{append:u,readToken:f,readTokens:g,clear:v,rest:b,stack:l}}var e=function(){var t={},e,i=window.document.createElement("div");return e="<P><I></P></I>",i.innerHTML=e,t.tagSoup=i.innerHTML!==e,i.innerHTML="<P><i><P></P></i></P>",t.selfClose=2===i.childNodes.length,t}(),i=/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,n=/^<\/([\-A-Za-z0-9_]+)[^>]*>/,s=/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,a=/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i,r=!1;t.supports=e,t.tokenToString=function(t){var e={comment:function(t){return"\x3c!--"+t.content},endTag:function(t){return"</"+t.tagName+">"},atomicTag:function(t){return e.startTag(t)+t.content+e.endTag(t)},startTag:function(t){var e="<"+t.tagName;for(var i in t.attrs){e+=" "+i;var n=t.attrs[i];void 0!==t.booleanAttrs&&void 0!==t.booleanAttrs[i]||(e+='="'+(n?n.replace(/(^|[^\\])"/g,'$1\\"'):"")+'"')}return t.rest&&(e+=t.rest),e+(t.unary&&!t.html5Unary?"/>":">")},chars:function(t){return t.text}};return e[t.type](t)},t.escapeAttributes=function(t){var e={};for(var i in t){var n=t[i];e[i]=n&&n.replace(/(^|[^\\])"/g,'$1\\"')}return e};for(var o in e)t.browserHasFlaw=t.browserHasFlaw||!e[o]&&o;return t}),sumo.define("postscribe",["htmlParser"],function(t){function e(){}function i(t){return t!==d&&null!==t}function n(t){return"function"==typeof t}function s(t,e,i){var n,s=t&&t.length||0;for(n=0;n<s;n++)e.call(i,t[n],n)}function a(t,e,i){var n;for(n in t)t.hasOwnProperty(n)&&e.call(i,n,t[n])}function r(t,e){return a(e,function(e,i){t[e]=i}),t}function o(t,e){return t=t||{},a(e,function(e,n){i(t[e])||(t[e]=n)}),t}function l(t){try{return m.call(t)}catch(i){var e=[];return s(t,function(t){e.push(t)}),e}}function c(t){return!!(t&&"tagName"in t)&&!!~t.tagName.toLowerCase().indexOf("script")}function h(t){return!!(t&&"tagName"in t)&&!!~t.tagName.toLowerCase().indexOf("style")}var u={afterAsync:e,afterDequeue:e,afterStreamStart:e,afterWrite:e,autoFix:!0,beforeEnqueue:e,beforeWriteToken:function(t){return t},beforeWrite:function(t){return t},done:e,error:function(t){throw t},releaseAsync:!1},d=void 0,p=!1,m=Array.prototype.slice,f=function(t){return t[t.length-1]},g=function(){function e(t,e,n){var s=u+e;if(2===arguments.length){var a=t.getAttribute(s);return i(a)?String(a):a}i(n)&&""!==n?t.setAttribute(s,n):t.removeAttribute(s)}function o(i,n){var s=i.ownerDocument;r(this,{root:i,options:n,win:s.defaultView||s.parentWindow,doc:s,parser:t("",{autoFix:n.autoFix}),actuals:[i],proxyHistory:"",proxyRoot:s.createElement(i.nodeName),scriptStack:[],writeQueue:[]}),e(this.proxyRoot,"proxyof",0)}var u="data-ps-";return o.prototype.write=function(){[].push.apply(this.writeQueue,arguments);for(var t;!this.deferredRemote&&this.writeQueue.length;)t=this.writeQueue.shift(),n(t)?this.callFunction(t):this.writeImpl(t)},o.prototype.callFunction=function(t){var e={type:"function",value:t.name||t.toString()};this.onScriptStart(e),t.call(this.win,this.doc),this.onScriptDone(e)},o.prototype.writeImpl=function(t){this.parser.append(t);for(var e,i=[],n,s;(e=this.parser.readToken())&&!(n=c(e))&&!(s=h(e));)(e=this.options.beforeWriteToken(e))&&i.push(e);this.writeStaticTokens(i),n&&this.handleScriptToken(e),s&&this.handleStyleToken(e)},o.prototype.writeStaticTokens=function(t){var e=this.buildChunk(t);if(e.actual)return e.html=this.proxyHistory+e.actual,this.proxyHistory+=e.proxy,this.proxyRoot.innerHTML=e.html,this.walkChunk(),e},o.prototype.buildChunk=function(e){var i=this.actuals.length,n=[],a=[],r=[];return s(e,function(e){var s=t.tokenToString(e);if(n.push(s),e.attrs){if(!/^noscript$/i.test(e.tagName)){var o=i++;a.push(s.replace(/(\/?>)/," "+u+"id="+o+" $1")),"ps-script"!==e.attrs.id&&"ps-style"!==e.attrs.id&&r.push("atomicTag"===e.type?"":"<"+e.tagName+" "+u+"proxyof="+o+(e.unary?" />":">"))}}else a.push(s),r.push("endTag"===e.type?s:"")}),{tokens:e,raw:n.join(""),actual:a.join(""),proxy:r.join("")}},o.prototype.walkChunk=function(){for(var t,n=[this.proxyRoot];i(t=n.shift());){var s=1===t.nodeType;if(!(s&&e(t,"proxyof"))){s&&(this.actuals[e(t,"id")]=t,e(t,"id",null));var a=t.parentNode&&e(t.parentNode,"proxyof");a&&this.actuals[a].appendChild(t)}n.unshift.apply(n,l(t.childNodes))}},o.prototype.handleScriptToken=function(t){var e=this.parser.clear();if(e&&this.writeQueue.unshift(e),t.src=t.attrs.src||t.attrs.SRC,t=this.options.beforeWriteToken(t)){t.src&&this.scriptStack.length?this.deferredRemote=t:this.onScriptStart(t);var i=this;this.writeScriptToken(t,function(){i.onScriptDone(t)})}},o.prototype.handleStyleToken=function(t){var e=this.parser.clear();e&&this.writeQueue.unshift(e),t.type=t.attrs.type||t.attrs.TYPE||"text/css",t=this.options.beforeWriteToken(t),t&&this.writeStyleToken(t),e&&this.write()},o.prototype.writeStyleToken=function(t){var e=this.buildStyle(t);this.insertStyle(e),t.content&&(e.styleSheet&&!e.sheet?e.styleSheet.cssText=t.content:e.appendChild(this.doc.createTextNode(t.content)))},o.prototype.buildStyle=function(t){var e=this.doc.createElement(t.tagName);return e.setAttribute("type",t.type),a(t.attrs,function(t,i){e.setAttribute(t,i)}),e},o.prototype.insertStyle=function(t){this.writeImpl('<span id="ps-style"/>');var e=this.doc.getElementById("ps-style");e.parentNode.replaceChild(t,e)},o.prototype.onScriptStart=function(t){t.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(t)},o.prototype.onScriptDone=function(t){if(t!==this.scriptStack[0])return void this.options.error({message:"Bad script nesting or script finished twice"});this.scriptStack.shift(),this.write.apply(this,t.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this.onScriptStart(this.deferredRemote),this.deferredRemote=null)},o.prototype.writeScriptToken=function(t,e){var i=this.buildScript(t),n=this.shouldRelease(i),s=this.options.afterAsync;t.src&&(i.src=t.src,this.scriptLoadHandler(i,n?s:function(){e(),s()}));try{this.insertScript(i),t.src&&!n||e()}catch(t){this.options.error(t),e()}},o.prototype.buildScript=function(t){var e=this.doc.createElement(t.tagName);return a(t.attrs,function(t,i){e.setAttribute(t,i)}),t.content&&(e.text=t.content),e},o.prototype.insertScript=function(t){this.writeImpl('<span id="ps-script"/>');var e=this.doc.getElementById("ps-script");e&&e.parentNode&&e.parentNode.replaceChild(t,e)},o.prototype.scriptLoadHandler=function(t,e){function i(){t=t.onload=t.onreadystatechange=t.onerror=null}function n(){i(),e()}function s(t){i(),a(t),e()}var a=this.options.error;r(t,{onload:function(){n()},onreadystatechange:function(){/^(loaded|complete)$/.test(t.readyState)&&n()},onerror:function(){s({message:"remote script failed "+t.src})}})},o.prototype.shouldRelease=function(t){return!/^script$/i.test(t.nodeName)||!!(this.options.releaseAsync&&t.src&&t.hasAttribute("async"))},o}();return{postscribe:function(){function t(){var t=c.shift(),e;t&&(e=f(t),e.afterDequeue(),t.stream=i.apply(null,t),e.afterStreamStart())}function i(i,n,o){function c(t){t=o.beforeWrite(t),h.write(t),o.afterWrite(t)}h=new g(i,o),h.id=a++,h.name=o.name||h.id,s.streams[h.name]=h;var u=i.ownerDocument,d={close:u.close,open:u.open,write:u.write,writeln:u.writeln};r(u,{close:e,open:e,write:function(){return c(l(arguments).join(""))},writeln:function(){return c(l(arguments).join("")+"\n")}});var p=h.win.onerror||e;return h.win.onerror=function(t,e,i){o.error({msg:t+" - "+e+":"+i}),p.apply(h.win,arguments)},h.write(n,function e(){r(u,d),h.win.onerror=p,o.done(),h=null,t()}),h}function s(i,s,a){n(a)&&(a={done:a}),a=o(a,u),i=/^#/.test(i)?window.document.getElementById(i.substr(1)):i.jquery?i[0]:i;var r=[i,s,a];return i.postscribe={cancel:function(){r.stream?r.stream.abort():r[1]=e}},a.beforeEnqueue(r),c.push(r),h||t(),i.postscribe}var a=0,c=[],h=null;return r(s,{streams:{},queue:c,WriteStream:g})}()}}),sumo.define("articles",[],function(){var t=[],e=["[class^=comment]","[id^=comment]","[class*=footer]","[class^=comment]",".archive-page",".aside",".hentry-metro",".hrf-entry"],i=[".sidebar:not(body)","aside","#sidebar","footer","[class*=footer]:not(body):not([class*=not-footer])","#comments","#livefyre-comments","[class^=fyre]","[id^=comment]","[class*=related-post]:not(body)",".tve-leads-lightbox"],n=[];return{_invalidateNode:function(t){if(t&&"#text"!==t.nodeName&&(n.push(t),t.childNodes&&t.childNodes.length>0))for(var e=0;e<t.childNodes.length;e++)this._invalidateNode(t.childNodes[e])},_findInvalidElements:function(t){for(var e=0;e<i.length;e++)for(var n=i[e],s=t.querySelectorAll(n),a=0;a<s.length;a++)this._invalidateNode(s[a])},_findAnchor:function(t){for(var e=null,i=["a[rel=bookmark]","h1 > a","h2 > a","h3 > a","header > a"],n=0;n<i.length;n++){var s=i[n],a=t.querySelector(s+"[href]");if(a)return a[0]}return null},_findFooter:function(t){for(var e=[".fyre","footer",".post-footer",".footer",".entry-footer",'[class^="comment"]:not([class^=comment-count]):not([class^=comments-link]):not([class^=comments-number]):not(li)',".fb-comments","iframe[title=Disqus]","#disqus_thread"],i=[".post-meta-info"],n=0;n<e.length;n++){var s=e[n],a=t.querySelector(s);if(a){if(a.classList.contains("fb-comments")){for(var r=a,o=a,l=!1;null!==o.previousElementSibling;){if("P"===o.nodeName&&"H3"===o.previousElementSibling.nodeName){l=!0,o=o.previousElementSibling;break}o=o.previousElementSibling}if(l){for(;null!==o.previousElementSibling;)if(o=o.previousElementSibling,"H3"===o.nodeName)return o;return r}return r}return a}}return null},_findHeader:function(t){for(var e=[".main-title","header",".post-header",".post-title","h1","h2","h3","h4","h5","h6",".title",".headline"],i=0;i<e.length;i++){var n=e[i],s=t.querySelector(n);if(s)return s}return null},_validateArticles:function(t){if(!t||!t.length)return[];for(var e=[],i=0;i<t.length;i++){var s=t[i],a=!0;if(""!==s.innerText.trim()){for(var r=0;r<n.length;r++)s===n[r]&&(a=!1);if(a){s.__header||(s.__header=this._findHeader(s)),s.__title=s.__header?s.__header:null,s.__footer=this._findFooter(s),self._title&&(s.__titleText=self.__title.innerText());var o=s.__header&&s.__header.length?this._findAnchor(s.__header[0]):null;s.__anchor=o||this._findAnchor(s),s.__anchor?s.__url=s.__anchor.getAttribute("href"):s.__url=null,s.__url||(s.__url=window.location.href),e.push(s)}}}return e},_findLeaves:function(t,i){for(var n=i,s=0;s<e.length;s++)n+=":not("+e[s]+")";return t.querySelectorAll(n)||[]},findAll:function(){var e=document.querySelector('main, [role="main"]'),i=e||document.body;t.push("article"),t.push(".post"),t.push(".entry-content"),t.push(".post-content"),t.push(".post_box"),t.push(".post-item"),t.push(".blog-post-wrapper"),t.push(".type-post"),t.push("#content"),t.push(".blog_content"),i===document.body?(t.push("main .hentry"),t.push("[role=main] .hentry"),t.push("main .content"),t.push("[role=main] .content")):(t.push(".hentry"),t.push(".content")),t.push("#post-content"),t.push("#blog-content"),t.push(".blog-post"),this._findInvalidElements(i);for(var n=0;n<t.length;n++){var s=this._findLeaves(i,t[n]),a=this._validateArticles(s);if(a.length>0)return a}var r=document.querySelectorAll("p"),s=[];if(r&&r.length){for(var n=0;n<r.length;n++){var o=r[n].parentNode;if(!(s.indexOf(o)>-1)){for(var l=o.childNodes,c=!1,h=0,u=0;u<l.length;u++)if("P"===l[u].tagName&&h++,h>=3){c=!0;break}c&&s.push(o)}}var a=this._validateArticles(s);if(a.length>0)return a}return[]},find:function(){var t=this.findAll();return t&&t.length?t[0]:null},hasArticles:function(){return this.findAll().length>=1}}}),function(){var t,e=this,i=function(){},n=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var i=Object.prototype.toString.call(t);if("[object Window]"==i)return"object";if("[object Array]"==i||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==i||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e},s=function(t){return"array"==n(t)},a=function(t){var e=n(t);return"array"==e||"object"==e&&"number"==typeof t.length},r=function(t){return"string"==typeof t},o=function(t){return"function"==n(t)},l=function(t){var e=typeof t;return"object"==e&&null!=t||"function"==e},c=function(t,e,i){return t.call.apply(t.bind,arguments)},h=function(t,e,i){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}},u=function(t,e,i){return u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?c:h,u.apply(null,arguments)},d=function(t,e){var i=Array.prototype.slice.call(arguments,1);return function(){var e=i.slice();return e.push.apply(e,arguments),t.apply(this,e)}},p=Date.now||function(){return+new Date},m=null,f=function(t,i){var n=t.split("."),s=e;n[0]in s||!s.execScript||s.execScript("var "+n[0]);for(var a;n.length&&(a=n.shift());)n.length||void 0===i?s=s[a]?s[a]:s[a]={}:s[a]=i},g=function(t,e){function i(){}i.prototype=e.prototype,t.superClass_=e.prototype,t.prototype=new i,t.base=function(t,i,n){return e.prototype[i].apply(t,Array.prototype.slice.call(arguments,2))}};Function.prototype.bind=Function.prototype.bind||function(t,e){if(1<arguments.length){var i=Array.prototype.slice.call(arguments,1);return i.unshift(this,t),u.apply(null,i)}return u(this,t)};var v={};f("RecaptchaTemplates",v),v.VertHtml='<table id="recaptcha_table" class="recaptchatable" > <tr> <td colspan="6" class=\'recaptcha_r1_c1\'></td> </tr> <tr> <td class=\'recaptcha_r2_c1\'></td> <td colspan="4" class=\'recaptcha_image_cell\'><center><div id="recaptcha_image"></div></center></td> <td class=\'recaptcha_r2_c2\'></td> </tr> <tr> <td rowspan="6" class=\'recaptcha_r3_c1\'></td> <td colspan="4" class=\'recaptcha_r3_c2\'></td> <td rowspan="6" class=\'recaptcha_r3_c3\'></td> </tr> <tr> <td rowspan="3" class=\'recaptcha_r4_c1\' height="49"> <div class="recaptcha_input_area"> <input name="recaptcha_response_field" id="recaptcha_response_field" type="text" autocorrect="off" autocapitalize="off" placeholder="" /> <span id="recaptcha_privacy" class="recaptcha_only_if_privacy"></span> </div> </td> <td rowspan="4" class=\'recaptcha_r4_c2\'></td> <td><a id=\'recaptcha_reload_btn\'><img id=\'recaptcha_reload\' width="25" height="17" /></a></td> <td rowspan="4" class=\'recaptcha_r4_c4\'></td> </tr> <tr> <td><a id=\'recaptcha_switch_audio_btn\' class="recaptcha_only_if_image"><img id=\'recaptcha_switch_audio\' width="25" height="16" alt="" /></a><a id=\'recaptcha_switch_img_btn\' class="recaptcha_only_if_audio"><img id=\'recaptcha_switch_img\' width="25" height="16" alt=""/></a></td> </tr> <tr> <td><a id=\'recaptcha_whatsthis_btn\'><img id=\'recaptcha_whatsthis\' width="25" height="16" /></a></td> </tr> <tr> <td class=\'recaptcha_r7_c1\'></td> <td class=\'recaptcha_r8_c1\'></td> </tr> </table> ',v.CleanCss=".recaptchatable td img{display:block}.recaptchatable .recaptcha_image_cell center img{height:57px}.recaptchatable .recaptcha_image_cell center{height:57px}.recaptchatable .recaptcha_image_cell{background-color:white;height:57px;padding:7px!important}.recaptchatable,#recaptcha_area tr,#recaptcha_area td,#recaptcha_area th{margin:0!important;border:0!important;border-collapse:collapse!important;vertical-align:middle!important}.recaptchatable *{margin:0;padding:0;border:0;color:black;position:static;top:auto;left:auto;right:auto;bottom:auto}.recaptchatable #recaptcha_image{position:relative;margin:auto;border:1px solid #dfdfdf!important}.recaptchatable #recaptcha_image #recaptcha_challenge_image{display:block}.recaptchatable #recaptcha_image #recaptcha_ad_image{display:block;position:absolute;top:0}.recaptchatable a img{border:0}.recaptchatable a,.recaptchatable a:hover{cursor:pointer;outline:none;border:0!important;padding:0!important;text-decoration:none;color:blue;background:none!important;font-weight:normal}.recaptcha_input_area{position:relative!important;background:none!important}.recaptchatable label.recaptcha_input_area_text{border:1px solid #dfdfdf!important;margin:0!important;padding:0!important;position:static!important;top:auto!important;left:auto!important;right:auto!important;bottom:auto!important}.recaptcha_theme_red label.recaptcha_input_area_text,.recaptcha_theme_white label.recaptcha_input_area_text{color:black!important}.recaptcha_theme_blackglass label.recaptcha_input_area_text{color:white!important}.recaptchatable #recaptcha_response_field{font-size:11pt}.recaptcha_theme_blackglass #recaptcha_response_field,.recaptcha_theme_white #recaptcha_response_field{border:1px solid gray}.recaptcha_theme_red #recaptcha_response_field{border:1px solid #cca940}.recaptcha_audio_cant_hear_link{font-size:7pt;color:black}.recaptchatable{line-height:1em;border:1px solid #dfdfdf!important}.recaptcha_error_text{color:red}.recaptcha_only_if_privacy{float:right;text-align:right;margin-right:7px}#recaptcha-ad-choices{position:absolute;height:15px;top:0;right:0}#recaptcha-ad-choices img{height:15px}.recaptcha-ad-choices-collapsed{width:30px;height:15px;display:block}.recaptcha-ad-choices-expanded{width:75px;height:15px;display:none}#recaptcha-ad-choices:hover .recaptcha-ad-choices-collapsed{display:none}#recaptcha-ad-choices:hover .recaptcha-ad-choices-expanded{display:block}",v.CleanHtml='<table id="recaptcha_table" class="recaptchatable"> <tr height="73"> <td class=\'recaptcha_image_cell\' width="302"><center><div id="recaptcha_image"></div></center></td> <td style="padding: 10px 7px 7px 7px;"> <a id=\'recaptcha_reload_btn\'><img id=\'recaptcha_reload\' width="25" height="18" alt="" /></a> <a id=\'recaptcha_switch_audio_btn\' class="recaptcha_only_if_image"><img id=\'recaptcha_switch_audio\' width="25" height="15" alt="" /></a><a id=\'recaptcha_switch_img_btn\' class="recaptcha_only_if_audio"><img id=\'recaptcha_switch_img\' width="25" height="15" alt=""/></a> <a id=\'recaptcha_whatsthis_btn\'><img id=\'recaptcha_whatsthis\' width="25" height="16" /></a> </td> <td style="padding: 18px 7px 18px 7px;"> <img id=\'recaptcha_logo\' alt="" width="71" height="36" /> </td> </tr> <tr> <td style="padding-left: 7px;"> <div class="recaptcha_input_area" style="padding-top: 2px; padding-bottom: 7px;"> <input style="border: 1px solid #3c3c3c; width: 302px;" name="recaptcha_response_field" id="recaptcha_response_field" type="text" /> </div> </td> <td colspan=2><span id="recaptcha_privacy" class="recaptcha_only_if_privacy"></span></td> </tr> </table> ',v.VertCss=".recaptchatable td img{display:block}.recaptchatable .recaptcha_r1_c1{background:url('IMGROOT/sprite.png') 0 -63px no-repeat;width:318px;height:9px}.recaptchatable .recaptcha_r2_c1{background:url('IMGROOT/sprite.png') -18px 0 no-repeat;width:9px;height:57px}.recaptchatable .recaptcha_r2_c2{background:url('IMGROOT/sprite.png') -27px 0 no-repeat;width:9px;height:57px}.recaptchatable .recaptcha_r3_c1{background:url('IMGROOT/sprite.png') 0 0 no-repeat;width:9px;height:63px}.recaptchatable .recaptcha_r3_c2{background:url('IMGROOT/sprite.png') -18px -57px no-repeat;width:300px;height:6px}.recaptchatable .recaptcha_r3_c3{background:url('IMGROOT/sprite.png') -9px 0 no-repeat;width:9px;height:63px}.recaptchatable .recaptcha_r4_c1{background:url('IMGROOT/sprite.png') -43px 0 no-repeat;width:171px;height:49px}.recaptchatable .recaptcha_r4_c2{background:url('IMGROOT/sprite.png') -36px 0 no-repeat;width:7px;height:57px}.recaptchatable .recaptcha_r4_c4{background:url('IMGROOT/sprite.png') -214px 0 no-repeat;width:97px;height:57px}.recaptchatable .recaptcha_r7_c1{background:url('IMGROOT/sprite.png') -43px -49px no-repeat;width:171px;height:8px}.recaptchatable .recaptcha_r8_c1{background:url('IMGROOT/sprite.png') -43px -49px no-repeat;width:25px;height:8px}.recaptchatable .recaptcha_image_cell center img{height:57px}.recaptchatable .recaptcha_image_cell center{height:57px}.recaptchatable .recaptcha_image_cell{background-color:white;height:57px}#recaptcha_area,#recaptcha_table{width:318px!important}.recaptchatable,#recaptcha_area tr,#recaptcha_area td,#recaptcha_area th{margin:0!important;border:0!important;padding:0!important;border-collapse:collapse!important;vertical-align:middle!important}.recaptchatable *{margin:0;padding:0;border:0;font-family:helvetica,sans-serif;font-size:8pt;color:black;position:static;top:auto;left:auto;right:auto;bottom:auto}.recaptchatable #recaptcha_image{position:relative;margin:auto}.recaptchatable #recaptcha_image #recaptcha_challenge_image{display:block}.recaptchatable #recaptcha_image #recaptcha_ad_image{display:block;position:absolute;top:0}.recaptchatable img{border:0!important;margin:0!important;padding:0!important}.recaptchatable a,.recaptchatable a:hover{cursor:pointer;outline:none;border:0!important;padding:0!important;text-decoration:none;color:blue;background:none!important;font-weight:normal}.recaptcha_input_area{position:relative!important;width:153px!important;height:45px!important;margin-left:7px!important;margin-right:7px!important;background:none!important}.recaptchatable label.recaptcha_input_area_text{margin:0!important;padding:0!important;position:static!important;top:auto!important;left:auto!important;right:auto!important;bottom:auto!important;background:none!important;height:auto!important;width:auto!important}.recaptcha_theme_red label.recaptcha_input_area_text,.recaptcha_theme_white label.recaptcha_input_area_text{color:black!important}.recaptcha_theme_blackglass label.recaptcha_input_area_text{color:white!important}.recaptchatable #recaptcha_response_field{width:153px!important;position:relative!important;bottom:7px!important;padding:0!important;margin:15px 0 0 0!important;font-size:10pt}.recaptcha_theme_blackglass #recaptcha_response_field,.recaptcha_theme_white #recaptcha_response_field{border:1px solid gray}.recaptcha_theme_red #recaptcha_response_field{border:1px solid #cca940}.recaptcha_audio_cant_hear_link{font-size:7pt;color:black}.recaptchatable{line-height:1!important}#recaptcha_instructions_error{color:red!important}.recaptcha_only_if_privacy{float:right;text-align:right}#recaptcha-ad-choices{position:absolute;height:15px;top:0;right:0}#recaptcha-ad-choices img{height:15px}.recaptcha-ad-choices-collapsed{width:30px;height:15px;display:block}.recaptcha-ad-choices-expanded{width:75px;height:15px;display:none}#recaptcha-ad-choices:hover .recaptcha-ad-choices-collapsed{display:none}#recaptcha-ad-choices:hover .recaptcha-ad-choices-expanded{display:block}";var b={visual_challenge:"Get a visual challenge",audio_challenge:"Get an audio challenge",refresh_btn:"Get a new challenge",instructions_visual:"Type the text:",instructions_audio:"Type what you hear:",help_btn:"Help",play_again:"Play sound again",cant_hear_this:"Download sound as MP3",incorrect_try_again:"Incorrect. Try again.",image_alt_text:"reCAPTCHA challenge image",privacy_and_terms:"Privacy & Terms"},_={visual_challenge:"الحصول على تحدٍ مرئي",audio_challenge:"الحصول على تحدٍ صوتي",refresh_btn:"الحصول على تحدٍ جديد",instructions_visual:"يرجى كتابة النص:",instructions_audio:"اكتب ما تسمعه:",help_btn:"مساعدة",play_again:"تشغيل الصوت مرة أخرى",cant_hear_this:"تنزيل الصوت بتنسيق MP3",incorrect_try_again:"غير صحيح. أعد المحاولة.",image_alt_text:"صورة التحدي من reCAPTCHA",privacy_and_terms:"الخصوصية والبنود"},y={visual_challenge:"Obtener una pista visual",audio_challenge:"Obtener una pista sonora",refresh_btn:"Obtener una pista nueva",instructions_visual:"Introduzca el texto:",instructions_audio:"Escribe lo que oigas:",help_btn:"Ayuda",play_again:"Volver a reproducir el sonido",cant_hear_this:"Descargar el sonido en MP3",incorrect_try_again:"Incorrecto. Vuélvelo a intentar.",image_alt_text:"Pista de imagen reCAPTCHA",privacy_and_terms:"Privacidad y condiciones"},w={visual_challenge:"Kumuha ng pagsubok na visual",audio_challenge:"Kumuha ng pagsubok na audio",refresh_btn:"Kumuha ng bagong pagsubok",instructions_visual:"I-type ang teksto:",instructions_audio:"I-type ang iyong narinig",help_btn:"Tulong",play_again:"I-play muli ang tunog",cant_hear_this:"I-download ang tunog bilang MP3",incorrect_try_again:"Hindi wasto. Muling subukan.",image_alt_text:"larawang panghamon ng reCAPTCHA",privacy_and_terms:"Privacy at Mga Tuntunin"},x={visual_challenge:"Test visuel",audio_challenge:"Test audio",refresh_btn:"Nouveau test",instructions_visual:"Saisissez le texte :",instructions_audio:"Qu'entendez-vous ?",help_btn:"Aide",play_again:"Réécouter",cant_hear_this:"Télécharger l'audio au format MP3",incorrect_try_again:"Incorrect. Veuillez réessayer.",image_alt_text:"Image reCAPTCHA",privacy_and_terms:"Confidentialité et conditions d'utilisation"},k={visual_challenge:"Dapatkan kata pengujian berbentuk visual",audio_challenge:"Dapatkan kata pengujian berbentuk audio",refresh_btn:"Dapatkan kata pengujian baru",instructions_visual:"Ketik teks:",instructions_audio:"Ketik yang Anda dengar:",help_btn:"Bantuan",play_again:"Putar suara sekali lagi",cant_hear_this:"Unduh suara sebagai MP3",incorrect_try_again:"Salah. Coba lagi.",image_alt_text:"Gambar tantangan reCAPTCHA",privacy_and_terms:"Privasi & Persyaratan"},C={visual_challenge:"קבל אתגר חזותי",audio_challenge:"קבל אתגר שמע",refresh_btn:"קבל אתגר חדש",instructions_visual:"הקלד את הטקסט:",instructions_audio:"הקלד את מה שאתה שומע:",help_btn:"עזרה",play_again:"הפעל שוב את השמע",cant_hear_this:"הורד שמע כ-3MP",incorrect_try_again:"שגוי. נסה שוב.",image_alt_text:"תמונת אתגר של reCAPTCHA",privacy_and_terms:"פרטיות ותנאים"},S={visual_challenge:"Obter um desafio visual",audio_challenge:"Obter um desafio de áudio",refresh_btn:"Obter um novo desafio",instructions_visual:"Digite o texto:",instructions_audio:"Digite o que você ouve:",help_btn:"Ajuda",play_again:"Reproduzir som novamente",cant_hear_this:"Fazer download do som no formato MP3",incorrect_try_again:"Incorreto. Tente novamente.",image_alt_text:"Imagem de desafio reCAPTCHA",privacy_and_terms:"Privacidade e Termos"},T={visual_challenge:"Obţineţi un cod captcha vizual",audio_challenge:"Obţineţi un cod captcha audio",refresh_btn:"Obţineţi un nou cod captcha",instructions_visual:"Introduceți textul:",instructions_audio:"Introduceţi ceea ce auziţi:",help_btn:"Ajutor",play_again:"Redaţi sunetul din nou",cant_hear_this:"Descărcaţi fişierul audio ca MP3",incorrect_try_again:"Incorect. Încercaţi din nou.",image_alt_text:"Imagine de verificare reCAPTCHA",privacy_and_terms:"Confidenţialitate şi termeni"},E={visual_challenge:"收到一个视频邀请",audio_challenge:"换一组音频验证码",refresh_btn:"换一组验证码",instructions_visual:"输入文字：",instructions_audio:"请键入您听到的内容：",help_btn:"帮助",play_again:"重新播放",cant_hear_this:"以 MP3 格式下载声音",incorrect_try_again:"不正确，请重试。",image_alt_text:"reCAPTCHA 验证图片",privacy_and_terms:"隐私权和使用条款"},I={en:b,af:{visual_challenge:"Kry 'n visuele verifiëring",audio_challenge:"Kry 'n klankverifiëring",refresh_btn:"Kry 'n nuwe verifiëring",instructions_visual:"",instructions_audio:"Tik wat jy hoor:",help_btn:"Hulp",play_again:"Speel geluid weer",cant_hear_this:"Laai die klank af as MP3",incorrect_try_again:"Verkeerd. Probeer weer.",image_alt_text:"reCAPTCHA-uitdagingprent",privacy_and_terms:"Privaatheid en bepalings"},am:{visual_challenge:"የእይታ ተጋጣሚ አግኝ",audio_challenge:"ሌላ አዲስ የድምጽ ጥያቄ ይቅረብ",refresh_btn:"ሌላ አዲስ ጥያቄ ይቅረብ",instructions_visual:"",instructions_audio:"የምትሰማውን ተይብ፡-",help_btn:"እገዛ",play_again:"ድምጹን እንደገና አጫውት",cant_hear_this:"ድምጹን በMP3 ቅርጽ አውርድ",incorrect_try_again:"ትክክል አይደለም። እንደገና ሞክር።",image_alt_text:"reCAPTCHA ምስል ግጠም",privacy_and_terms:"ግላዊነት እና ውል"},ar:_,"ar-EG":_,bg:{visual_challenge:"Получаване на визуална проверка",audio_challenge:"Зареждане на аудиотест",refresh_btn:"Зареждане на нов тест",instructions_visual:"Въведете текста:",instructions_audio:"Въведете чутото:",help_btn:"Помощ",play_again:"Повторно пускане на звука",cant_hear_this:"Изтегляне на звука във формат MP3",incorrect_try_again:"Неправилно. Опитайте отново.",image_alt_text:"Изображение на проверката с reCAPTCHA",privacy_and_terms:"Поверителност и Общи условия"},bn:{visual_challenge:"একটি দৃশ্যমান প্রতিদ্বন্দ্বিতা পান",audio_challenge:"একটি অডিও প্রতিদ্বন্দ্বিতা  পান",refresh_btn:"একটি নতুন প্রতিদ্বন্দ্বিতা  পান",instructions_visual:"",instructions_audio:"আপনি যা শুনছেন তা লিখুন:",help_btn:"সহায়তা",play_again:"আবার সাউন্ড প্লে করুন",cant_hear_this:"MP3 রূপে শব্দ ডাউনলোড করুন",incorrect_try_again:"বেঠিক৷ আবার চেষ্টা করুন৷",image_alt_text:"reCAPTCHA চ্যালেঞ্জ চিত্র",privacy_and_terms:"গোপনীয়তা ও শর্তাবলী"},ca:{visual_challenge:"Obtén un repte visual",audio_challenge:"Obteniu una pista sonora",refresh_btn:"Obteniu una pista nova",instructions_visual:"Escriviu el text:",instructions_audio:"Escriviu el que escolteu:",help_btn:"Ajuda",play_again:"Torna a reproduir el so",cant_hear_this:"Baixa el so com a MP3",incorrect_try_again:"No és correcte. Torna-ho a provar.",image_alt_text:"Imatge del repte de reCAPTCHA",privacy_and_terms:"Privadesa i condicions"},cs:{visual_challenge:"Zobrazit vizuální podobu výrazu",audio_challenge:"Přehrát zvukovou podobu výrazu",refresh_btn:"Zobrazit nový výraz",instructions_visual:"Zadejte text:",instructions_audio:"Napište, co jste slyšeli:",help_btn:"Nápověda",play_again:"Znovu přehrát zvuk",cant_hear_this:"Stáhnout zvuk ve formátu MP3",incorrect_try_again:"Špatně. Zkuste to znovu.",image_alt_text:"Obrázek reCAPTCHA",privacy_and_terms:"Ochrana soukromí a smluvní podmínky"},da:{visual_challenge:"Hent en visuel udfordring",audio_challenge:"Hent en lydudfordring",refresh_btn:"Hent en ny udfordring",instructions_visual:"Indtast teksten:",instructions_audio:"Indtast det, du hører:",help_btn:"Hjælp",play_again:"Afspil lyden igen",cant_hear_this:"Download lyd som MP3",incorrect_try_again:"Forkert. Prøv igen.",image_alt_text:"reCAPTCHA-udfordringsbillede",privacy_and_terms:"Privatliv og vilkår"},de:{visual_challenge:"Captcha abrufen",audio_challenge:"Audio-Captcha abrufen",refresh_btn:"Neues Captcha abrufen",instructions_visual:"Geben Sie den angezeigten Text ein:",instructions_audio:"Geben Sie das Gehörte ein:",help_btn:"Hilfe",play_again:"Wort erneut abspielen",cant_hear_this:"Wort als MP3 herunterladen",incorrect_try_again:"Falsch. Bitte versuchen Sie es erneut.",image_alt_text:"reCAPTCHA-Bild",privacy_and_terms:"Datenschutzerklärung & Nutzungsbedingungen"},el:{visual_challenge:"Οπτική πρόκληση",audio_challenge:"Ηχητική πρόκληση",refresh_btn:"Νέα πρόκληση",instructions_visual:"Πληκτρολογήστε το κείμενο:",instructions_audio:"Πληκτρολογήστε ότι ακούτε:",help_btn:"Βοήθεια",play_again:"Αναπαραγωγή ήχου ξανά",cant_hear_this:"Λήψη ήχου ως ΜΡ3",incorrect_try_again:"Λάθος. Δοκιμάστε ξανά.",
image_alt_text:"Εικόνα πρόκλησης reCAPTCHA",privacy_and_terms:"Απόρρητο και όροι"},"en-GB":b,"en-US":b,es:y,"es-419":{visual_challenge:"Enfrentar un desafío visual",audio_challenge:"Enfrentar un desafío de audio",refresh_btn:"Enfrentar un nuevo desafío",instructions_visual:"Escriba el texto:",instructions_audio:"Escribe lo que escuchas:",help_btn:"Ayuda",play_again:"Reproducir sonido de nuevo",cant_hear_this:"Descargar sonido en formato MP3",incorrect_try_again:"Incorrecto. Vuelve a intentarlo.",image_alt_text:"Imagen del desafío de la reCAPTCHA",privacy_and_terms:"Privacidad y condiciones"},"es-ES":y,et:{visual_challenge:"Kuva kuvapõhine robotilõks",audio_challenge:"Kuva helipõhine robotilõks",refresh_btn:"Kuva uus robotilõks",instructions_visual:"Tippige tekst:",instructions_audio:"Tippige, mida kuulete.",help_btn:"Abi",play_again:"Esita heli uuesti",cant_hear_this:"Laadi heli alla MP3-vormingus",incorrect_try_again:"Vale. Proovige uuesti.",image_alt_text:"reCAPTCHA robotilõksu kujutis",privacy_and_terms:"Privaatsus ja tingimused"},eu:{visual_challenge:"Eskuratu ikusizko erronka",audio_challenge:"Eskuratu audio-erronka",refresh_btn:"Eskuratu erronka berria",instructions_visual:"",instructions_audio:"Idatzi entzuten duzuna:",help_btn:"Laguntza",play_again:"Erreproduzitu soinua berriro",cant_hear_this:"Deskargatu soinua MP3 gisa",incorrect_try_again:"Ez da zuzena. Saiatu berriro.",image_alt_text:"reCAPTCHA erronkaren irudia",privacy_and_terms:"Pribatutasuna eta baldintzak"},fa:{visual_challenge:"دریافت یک معمای دیداری",audio_challenge:"دریافت یک معمای صوتی",refresh_btn:"دریافت یک معمای جدید",instructions_visual:"",instructions_audio:"آنچه را که می‌شنوید تایپ کنید:",help_btn:"راهنمایی",play_again:"پخش مجدد صدا",cant_hear_this:"دانلود صدا به صورت MP3",incorrect_try_again:"نادرست. دوباره امتحان کنید.",image_alt_text:"تصویر چالشی reCAPTCHA",privacy_and_terms:"حریم خصوصی و شرایط"},fi:{visual_challenge:"Kuvavahvistus",audio_challenge:"Äänivahvistus",refresh_btn:"Uusi kuva",instructions_visual:"Kirjoita teksti:",instructions_audio:"Kirjoita kuulemasi:",help_btn:"Ohje",play_again:"Toista ääni uudelleen",cant_hear_this:"Lataa ääni MP3-tiedostona",incorrect_try_again:"Väärin. Yritä uudelleen.",image_alt_text:"reCAPTCHA-kuva",privacy_and_terms:"Tietosuoja ja käyttöehdot"},fil:w,fr:x,"fr-CA":{visual_challenge:"Obtenir un test visuel",audio_challenge:"Obtenir un test audio",refresh_btn:"Obtenir un nouveau test",instructions_visual:"Saisissez le texte :",instructions_audio:"Tapez ce que vous entendez :",help_btn:"Aide",play_again:"Jouer le son de nouveau",cant_hear_this:"Télécharger le son en format MP3",incorrect_try_again:"Erreur, essayez à nouveau",image_alt_text:"Image reCAPTCHA",privacy_and_terms:"Confidentialité et conditions d'utilisation"},"fr-FR":x,gl:{visual_challenge:"Obter unha proba visual",audio_challenge:"Obter unha proba de audio",refresh_btn:"Obter unha proba nova",instructions_visual:"",instructions_audio:"Escribe o que escoitas:",help_btn:"Axuda",play_again:"Reproducir o son de novo",cant_hear_this:"Descargar son como MP3",incorrect_try_again:"Incorrecto. Téntao de novo.",image_alt_text:"Imaxe de proba de reCAPTCHA",privacy_and_terms:"Privacidade e condicións"},gu:{visual_challenge:"એક દૃશ્યાત્મક પડકાર મેળવો",audio_challenge:"એક ઑડિઓ પડકાર મેળવો",refresh_btn:"એક નવો પડકાર મેળવો",instructions_visual:"",instructions_audio:"તમે જે સાંભળો છો તે લખો:",help_btn:"સહાય",play_again:"ધ્વનિ ફરીથી ચલાવો",cant_hear_this:"MP3 તરીકે ધ્વનિને ડાઉનલોડ કરો",incorrect_try_again:"ખોટું. ફરી પ્રયાસ કરો.",image_alt_text:"reCAPTCHA પડકાર છબી",privacy_and_terms:"ગોપનીયતા અને શરતો"},hi:{visual_challenge:"कोई विजुअल चुनौती लें",audio_challenge:"कोई ऑडियो चुनौती लें",refresh_btn:"कोई नई चुनौती लें",instructions_visual:"टेक्स्ट टाइप करें:",instructions_audio:"जो आप सुन रहे हैं उसे लिखें:",help_btn:"सहायता",play_again:"ध्‍वनि पुन: चलाएं",cant_hear_this:"ध्‍वनि को MP3 के रूप में डाउनलोड करें",incorrect_try_again:"गलत. पुन: प्रयास करें.",image_alt_text:"reCAPTCHA चुनौती चित्र",privacy_and_terms:"गोपनीयता और शर्तें"},hr:{visual_challenge:"Dohvati vizualni upit",audio_challenge:"Dohvati zvučni upit",refresh_btn:"Dohvati novi upit",instructions_visual:"Unesite tekst:",instructions_audio:"Upišite što čujete:",help_btn:"Pomoć",play_again:"Ponovi zvuk",cant_hear_this:"Preuzmi zvuk u MP3 formatu",incorrect_try_again:"Nije točno. Pokušajte ponovno.",image_alt_text:"Slikovni izazov reCAPTCHA",privacy_and_terms:"Privatnost i odredbe"},hu:{visual_challenge:"Vizuális kihívás kérése",audio_challenge:"Hangkihívás kérése",refresh_btn:"Új kihívás kérése",instructions_visual:"Írja be a szöveget:",instructions_audio:"Írja le, amit hall:",help_btn:"Súgó",play_again:"Hang ismételt lejátszása",cant_hear_this:"Hang letöltése MP3 formátumban",incorrect_try_again:"Hibás. Próbálkozzon újra.",image_alt_text:"reCAPTCHA ellenőrző kép",privacy_and_terms:"Adatvédelem és Szerződési Feltételek"},hy:{visual_challenge:"Ստանալ տեսողական խնդիր",audio_challenge:"Ստանալ ձայնային խնդիր",refresh_btn:"Ստանալ նոր խնդիր",instructions_visual:"Մուտքագրեք տեքստը՝",instructions_audio:"Մուտքագրեք այն, ինչ լսում եք՝",help_btn:"Օգնություն",play_again:"Նվագարկել ձայնը կրկին",cant_hear_this:"Բեռնել ձայնը որպես MP3",incorrect_try_again:"Սխալ է: Փորձեք կրկին:",image_alt_text:"reCAPTCHA պատկերով խնդիր",privacy_and_terms:"Գաղտնիության & պայմաններ"},id:k,is:{visual_challenge:"Fá aðgangspróf sem mynd",audio_challenge:"Fá aðgangspróf sem hljóðskrá",refresh_btn:"Fá nýtt aðgangspróf",instructions_visual:"",instructions_audio:"Sláðu inn það sem þú heyrir:",help_btn:"Hjálp",play_again:"Spila hljóð aftur",cant_hear_this:"Sækja hljóð sem MP3",incorrect_try_again:"Rangt. Reyndu aftur.",image_alt_text:"mynd reCAPTCHA aðgangsprófs",privacy_and_terms:"Persónuvernd og skilmálar"},it:{visual_challenge:"Verifica visiva",audio_challenge:"Verifica audio",refresh_btn:"Nuova verifica",instructions_visual:"Digita il testo:",instructions_audio:"Digita ciò che senti:",help_btn:"Guida",play_again:"Riproduci di nuovo audio",cant_hear_this:"Scarica audio in MP3",incorrect_try_again:"Sbagliato. Riprova.",image_alt_text:"Immagine di verifica reCAPTCHA",privacy_and_terms:"Privacy e Termini"},iw:C,ja:{visual_challenge:"画像で確認します",audio_challenge:"音声で確認します",refresh_btn:"別の単語でやり直します",instructions_visual:"テキストを入力:",instructions_audio:"聞こえた単語を入力します:",help_btn:"ヘルプ",play_again:"もう一度聞く",cant_hear_this:"MP3 で音声をダウンロード",incorrect_try_again:"正しくありません。もう一度やり直してください。",image_alt_text:"reCAPTCHA 確認用画像",privacy_and_terms:"プライバシーと利用規約"},kn:{visual_challenge:"ದೃಶ್ಯ ಸವಾಲೊಂದನ್ನು ಸ್ವೀಕರಿಸಿ",audio_challenge:"ಆಡಿಯೋ ಸವಾಲೊಂದನ್ನು ಸ್ವೀಕರಿಸಿ",refresh_btn:"ಹೊಸ ಸವಾಲೊಂದನ್ನು ಪಡೆಯಿರಿ",instructions_visual:"",instructions_audio:"ನಿಮಗೆ ಕೇಳಿಸುವುದನ್ನು ಟೈಪ್‌ ಮಾಡಿ:",help_btn:"ಸಹಾಯ",play_again:"ಧ್ವನಿಯನ್ನು ಮತ್ತೆ ಪ್ಲೇ ಮಾಡಿ",cant_hear_this:"ಧ್ವನಿಯನ್ನು MP3 ರೂಪದಲ್ಲಿ ಡೌನ್‌ಲೋಡ್ ಮಾಡಿ",incorrect_try_again:"ತಪ್ಪಾಗಿದೆ. ಮತ್ತೊಮ್ಮೆ ಪ್ರಯತ್ನಿಸಿ.",image_alt_text:"reCAPTCHA ಸವಾಲು ಚಿತ್ರ",privacy_and_terms:"ಗೌಪ್ಯತೆ ಮತ್ತು ನಿಯಮಗಳು"},ko:{visual_challenge:"그림으로 보안문자 받기",audio_challenge:"음성으로 보안문자 받기",refresh_btn:"보안문자 새로 받기",instructions_visual:"텍스트 입력:",instructions_audio:"음성 보안문자 입력:",help_btn:"도움말",play_again:"음성 다시 듣기",cant_hear_this:"음성을 MP3로 다운로드",incorrect_try_again:"틀렸습니다. 다시 시도해 주세요.",image_alt_text:"reCAPTCHA 보안문자 이미지",privacy_and_terms:"개인정보 보호 및 약관"},ln:x,lt:{visual_challenge:"Gauti vaizdinį atpažinimo testą",audio_challenge:"Gauti garso atpažinimo testą",refresh_btn:"Gauti naują atpažinimo testą",instructions_visual:"Įveskite tekstą:",instructions_audio:"Įveskite tai, ką girdite:",help_btn:"Pagalba",play_again:"Dar kartą paleisti garsą",cant_hear_this:"Atsisiųsti garsą kaip MP3",incorrect_try_again:"Neteisingai. Bandykite dar kartą.",image_alt_text:"Testo „reCAPTCHA“ vaizdas",privacy_and_terms:"Privatumas ir sąlygos"},lv:{visual_challenge:"Saņemt vizuālu izaicinājumu",audio_challenge:"Saņemt audio izaicinājumu",refresh_btn:"Saņemt jaunu izaicinājumu",instructions_visual:"Ievadiet tekstu:",instructions_audio:"Ierakstiet dzirdamo:",help_btn:"Palīdzība",play_again:"Vēlreiz atskaņot skaņu",cant_hear_this:"Lejupielādēt skaņu MP3 formātā",incorrect_try_again:"Nepareizi. Mēģiniet vēlreiz.",image_alt_text:"reCAPTCHA izaicinājuma attēls",privacy_and_terms:"Konfidencialitāte un noteikumi"},ml:{visual_challenge:"ഒരു ദൃശ്യ ചലഞ്ച് നേടുക",audio_challenge:"ഒരു ഓഡിയോ ചലഞ്ച് നേടുക",refresh_btn:"ഒരു പുതിയ ചലഞ്ച് നേടുക",instructions_visual:"",instructions_audio:"കേൾക്കുന്നത് ടൈപ്പ് ചെയ്യൂ:",help_btn:"സഹായം",play_again:"ശബ്‌ദം വീണ്ടും പ്ലേ ചെയ്യുക",cant_hear_this:"ശബ്‌ദം MP3 ആയി ഡൗൺലോഡ് ചെയ്യുക",incorrect_try_again:"തെറ്റാണ്. വീണ്ടും ശ്രമിക്കുക.",image_alt_text:"reCAPTCHA ചലഞ്ച് ഇമേജ്",privacy_and_terms:"സ്വകാര്യതയും നിബന്ധനകളും"},mr:{visual_challenge:"दृश्‍यमान आव्हान प्राप्त करा",audio_challenge:"ऑडीओ आव्हान प्राप्त करा",refresh_btn:"एक नवीन आव्हान प्राप्त करा",instructions_visual:"",instructions_audio:"आपल्याला जे ऐकू येईल ते टाइप करा:",help_btn:"मदत",play_again:"ध्‍वनी पुन्हा प्‍ले करा",cant_hear_this:"MP3 रुपात ध्‍वनी डाउनलोड करा",incorrect_try_again:"अयोग्‍य. पुन्‍हा प्रयत्‍न करा.",image_alt_text:"reCAPTCHA आव्‍हान प्रतिमा",privacy_and_terms:"गोपनीयता आणि अटी"},ms:{visual_challenge:"Dapatkan cabaran visual",audio_challenge:"Dapatkan cabaran audio",refresh_btn:"Dapatkan cabaran baru",instructions_visual:"Taipkan teksnya:",instructions_audio:"Taip apa yang didengari:",help_btn:"Bantuan",play_again:"Mainkan bunyi sekali lagi",cant_hear_this:"Muat turun bunyi sebagai MP3",incorrect_try_again:"Tidak betul. Cuba lagi.",image_alt_text:"Imej cabaran reCAPTCHA",privacy_and_terms:"Privasi & Syarat"},nl:{visual_challenge:"Een visuele uitdaging proberen",audio_challenge:"Een audio-uitdaging proberen",refresh_btn:"Een nieuwe uitdaging proberen",instructions_visual:"Typ de tekst:",instructions_audio:"Typ wat u hoort:",help_btn:"Help",play_again:"Geluid opnieuw afspelen",cant_hear_this:"Geluid downloaden als MP3",incorrect_try_again:"Onjuist. Probeer het opnieuw.",image_alt_text:"reCAPTCHA-uitdagingsafbeelding",privacy_and_terms:"Privacy en voorwaarden"},no:{visual_challenge:"Få en bildeutfordring",audio_challenge:"Få en lydutfordring",refresh_btn:"Få en ny utfordring",instructions_visual:"Skriv inn teksten:",instructions_audio:"Skriv inn det du hører:",help_btn:"Hjelp",play_again:"Spill av lyd på nytt",cant_hear_this:"Last ned lyd som MP3",incorrect_try_again:"Feil. Prøv på nytt.",image_alt_text:"reCAPTCHA-utfordringsbilde",privacy_and_terms:"Personvern og vilkår"},pl:{visual_challenge:"Pokaż podpowiedź wizualną",audio_challenge:"Odtwórz podpowiedź dźwiękową",refresh_btn:"Nowa podpowiedź",instructions_visual:"Przepisz tekst:",instructions_audio:"Wpisz usłyszane słowa:",help_btn:"Pomoc",play_again:"Odtwórz dźwięk ponownie",cant_hear_this:"Pobierz dźwięk jako plik MP3",incorrect_try_again:"Nieprawidłowo. Spróbuj ponownie.",image_alt_text:"Zadanie obrazkowe reCAPTCHA",privacy_and_terms:"Prywatność i warunki"},pt:S,"pt-BR":S,"pt-PT":{visual_challenge:"Obter um desafio visual",audio_challenge:"Obter um desafio de áudio",refresh_btn:"Obter um novo desafio",instructions_visual:"Introduza o texto:",instructions_audio:"Escreva o que ouvir:",help_btn:"Ajuda",play_again:"Reproduzir som novamente",cant_hear_this:"Transferir som como MP3",incorrect_try_again:"Incorreto. Tente novamente.",image_alt_text:"Imagem de teste reCAPTCHA",privacy_and_terms:"Privacidade e Termos de Utilização"},ro:T,ru:{visual_challenge:"Визуальная проверка",audio_challenge:"Звуковая проверка",refresh_btn:"Обновить",instructions_visual:"Введите текст:",instructions_audio:"Введите то, что слышите:",help_btn:"Справка",play_again:"Прослушать еще раз",cant_hear_this:"Загрузить MP3-файл",incorrect_try_again:"Неправильно. Повторите попытку.",image_alt_text:"Проверка по слову reCAPTCHA",privacy_and_terms:"Правила и принципы"},sk:{visual_challenge:"Zobraziť vizuálnu podobu",audio_challenge:"Prehrať zvukovú podobu",refresh_btn:"Zobraziť nový výraz",instructions_visual:"Zadajte text:",instructions_audio:"Zadajte, čo počujete:",help_btn:"Pomocník",play_again:"Znova prehrať zvuk",cant_hear_this:"Prevziať zvuk v podobe súboru MP3",incorrect_try_again:"Nesprávne. Skúste to znova.",image_alt_text:"Obrázok zadania reCAPTCHA",privacy_and_terms:"Ochrana osobných údajov a Zmluvné podmienky"},sl:{visual_challenge:"Vizualni preskus",audio_challenge:"Zvočni preskus",refresh_btn:"Nov preskus",instructions_visual:"Vnesite besedilo:",instructions_audio:"Natipkajte, kaj slišite:",help_btn:"Pomoč",play_again:"Znova predvajaj zvok",cant_hear_this:"Prenesi zvok kot MP3",incorrect_try_again:"Napačno. Poskusite znova.",image_alt_text:"Slika izziva reCAPTCHA",privacy_and_terms:"Zasebnost in pogoji"},sr:{visual_challenge:"Примите визуелни упит",audio_challenge:"Примите аудио упит",refresh_btn:"Примите нови упит",instructions_visual:"Унесите текст:",instructions_audio:"Откуцајте оно што чујете:",help_btn:"Помоћ",play_again:"Поново пусти звук",cant_hear_this:"Преузми звук као MP3 снимак",incorrect_try_again:"Нетачно. Покушајте поново.",image_alt_text:"Слика reCAPTCHA провере",privacy_and_terms:"Приватност и услови"},sv:{visual_challenge:"Hämta captcha i bildformat",audio_challenge:"Hämta captcha i ljudformat",refresh_btn:"Hämta ny captcha",instructions_visual:"Skriv texten:",instructions_audio:"Skriv det du hör:",help_btn:"Hjälp",play_again:"Spela upp ljudet igen",cant_hear_this:"Hämta ljud som MP3",incorrect_try_again:"Fel. Försök igen.",image_alt_text:"reCAPTCHA-bild",privacy_and_terms:"Sekretess och villkor"},sw:{visual_challenge:"Pata herufi za kusoma",audio_challenge:"Pata herufi za kusikiliza",refresh_btn:"Pata herufi mpya",instructions_visual:"",instructions_audio:"Charaza unachosikia:",help_btn:"Usaidizi",play_again:"Cheza sauti tena",cant_hear_this:"Pakua sauti kama MP3",incorrect_try_again:"Sio sahihi. Jaribu tena.",image_alt_text:"picha ya changamoto ya reCAPTCHA",privacy_and_terms:"Faragha & Masharti"},ta:{visual_challenge:"பார்வை சேலஞ்சைப் பெறுக",audio_challenge:"ஆடியோ சேலஞ்சைப் பெறுக",refresh_btn:"புதிய சேலஞ்சைப் பெறுக",instructions_visual:"",instructions_audio:"கேட்பதை டைப் செய்க:",help_btn:"உதவி",play_again:"ஒலியை மீண்டும் இயக்கு",cant_hear_this:"ஒலியை MP3 ஆக பதிவிறக்குக",incorrect_try_again:"தவறானது. மீண்டும் முயலவும்.",image_alt_text:"reCAPTCHA சேலஞ்ச் படம்",privacy_and_terms:"தனியுரிமை & விதிமுறைகள்"},te:{visual_challenge:"ఒక దృశ్యమాన సవాలును స్వీకరించండి",audio_challenge:"ఒక ఆడియో సవాలును స్వీకరించండి",refresh_btn:"క్రొత్త సవాలును స్వీకరించండి",instructions_visual:"",instructions_audio:"మీరు విన్నది టైప్ చేయండి:",help_btn:"సహాయం",play_again:"ధ్వనిని మళ్లీ ప్లే చేయి",cant_hear_this:"ధ్వనిని MP3 వలె డౌన్‌లోడ్ చేయి",incorrect_try_again:"తప్పు. మళ్లీ ప్రయత్నించండి.",image_alt_text:"reCAPTCHA సవాలు చిత్రం",privacy_and_terms:"గోప్యత & నిబంధనలు"},th:{visual_challenge:"รับความท้าทายด้านภาพ",audio_challenge:"รับความท้าทายด้านเสียง",refresh_btn:"รับความท้าทายใหม่",instructions_visual:"พิมพ์ข้อความนี้:",instructions_audio:"พิมพ์สิ่งที่คุณได้ยิน:",help_btn:"ความช่วยเหลือ",play_again:"เล่นเสียงอีกครั้ง",cant_hear_this:"ดาวโหลดเสียงเป็น MP3",incorrect_try_again:"ไม่ถูกต้อง ลองอีกครั้ง",image_alt_text:"รหัสภาพ reCAPTCHA",privacy_and_terms:"นโยบายส่วนบุคคลและข้อกำหนด"},tr:{visual_challenge:"Görsel sorgu al",audio_challenge:"Sesli sorgu al",refresh_btn:"Yeniden yükle",instructions_visual:"Metni yazın:",instructions_audio:"Duyduğunuzu yazın:",help_btn:"Yardım",play_again:"Sesi tekrar çal",cant_hear_this:"Sesi MP3 olarak indir",incorrect_try_again:"Yanlış. Tekrar deneyin.",image_alt_text:"reCAPTCHA sorusu resmi",privacy_and_terms:"Gizlilik ve Şartlar"},uk:{visual_challenge:"Отримати візуальний текст",audio_challenge:"Отримати аудіозапис",refresh_btn:"Оновити текст",instructions_visual:"Введіть текст:",instructions_audio:"Введіть почуте:",help_btn:"Довідка",play_again:"Відтворити запис ще раз",cant_hear_this:"Завантажити запис як MP3",incorrect_try_again:"Неправильно. Спробуйте ще раз.",image_alt_text:"Зображення завдання reCAPTCHA",privacy_and_terms:"Конфіденційність і умови"},ur:{visual_challenge:"ایک مرئی چیلنج حاصل کریں",audio_challenge:"ایک آڈیو چیلنج حاصل کریں",refresh_btn:"ایک نیا چیلنج حاصل کریں",instructions_visual:"",instructions_audio:"جو سنائی دیتا ہے وہ ٹائپ کریں:",help_btn:"مدد",play_again:"آواز دوبارہ چلائیں",cant_hear_this:"آواز کو MP3 کے بطور ڈاؤن لوڈ کریں",incorrect_try_again:"غلط۔ دوبارہ کوشش کریں۔",image_alt_text:"reCAPTCHA چیلنج والی شبیہ",privacy_and_terms:"رازداری و شرائط"},vi:{visual_challenge:"Nhận thử thách hình ảnh",audio_challenge:"Nhận thử thách âm thanh",refresh_btn:"Nhận thử thách mới",instructions_visual:"Nhập văn bản:",instructions_audio:"Nhập nội dung bạn nghe thấy:",help_btn:"Trợ giúp",play_again:"Phát lại âm thanh",cant_hear_this:"Tải âm thanh xuống dưới dạng MP3",incorrect_try_again:"Không chính xác. Hãy thử lại.",image_alt_text:"Hình xác thực reCAPTCHA",privacy_and_terms:"Bảo mật và điều khoản"},"zh-CN":E,"zh-HK":{visual_challenge:"回答圖像驗證問題",audio_challenge:"取得語音驗證問題",refresh_btn:"換一個驗證問題",instructions_visual:"輸入文字：",instructions_audio:"鍵入您所聽到的：",help_btn:"說明",play_again:"再次播放聲音",cant_hear_this:"將聲音下載為 MP3",incorrect_try_again:"不正確，再試一次。",image_alt_text:"reCAPTCHA 驗證文字圖片",privacy_and_terms:"私隱權與條款"},"zh-TW":{visual_challenge:"取得圖片驗證問題",audio_challenge:"取得語音驗證問題",refresh_btn:"取得新的驗證問題",instructions_visual:"請輸入圖片中的文字：",instructions_audio:"請輸入語音內容：",help_btn:"說明",play_again:"再次播放",cant_hear_this:"以 MP3 格式下載聲音",incorrect_try_again:"驗證碼有誤，請再試一次。",image_alt_text:"reCAPTCHA 驗證文字圖片",privacy_and_terms:"隱私權與條款"},zu:{visual_challenge:"Thola inselelo ebonakalayo",audio_challenge:"Thola inselelo yokulalelwayo",refresh_btn:"Thola inselelo entsha",instructions_visual:"",instructions_audio:"Bhala okuzwayo:",help_btn:"Usizo",play_again:"Phinda udlale okulalelwayo futhi",cant_hear_this:"Layisha umsindo njenge-MP3",incorrect_try_again:"Akulungile. Zama futhi.",image_alt_text:"umfanekiso oyinselelo we-reCAPTCHA",privacy_and_terms:"Okwangasese kanye nemigomo"},tl:w,he:C,in:k,mo:T,zh:E},P=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))};g(P,Error),P.prototype.name="CustomError";var A,$=function(t,e){for(var i=t.split("%s"),n="",s=Array.prototype.slice.call(arguments,1);s.length&&1<i.length;)n+=i.shift()+s.shift();return n+i.join("%s")},O=function(t){return R.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(L,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(B,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(D,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(M,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(N,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(z,"&#0;")),t):t},L=/&/g,B=/</g,D=/>/g,M=/"/g,N=/'/g,z=/\x00/g,R=/[\x00&<>"']/,j=function(t,e){return t<e?-1:t>e?1:0},H=function(t){return String(t).replace(/\-([a-z])/g,function(t,e){return e.toUpperCase()})},U=function(t){var e=r(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return t.replace(new RegExp("(^"+(e?"|["+e+"]+":"")+")([a-z])","g"),function(t,e,i){return e+i.toUpperCase()})},F=function(t,e){e.unshift(t),P.call(this,$.apply(null,e)),e.shift()};g(F,P),F.prototype.name="AssertionError";var q=function(t,e,i,n){var s="Assertion failed";if(i)var s=s+": "+i,a=n;else t&&(s+=": "+t,a=e);throw new F(""+s,a||[])},W=function(t,e,i){t||q("",null,e,Array.prototype.slice.call(arguments,2))},V=function(t,e){throw new F("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))},G=function(t,e,i){return r(t)||q("Expected string but got %s: %s.",[n(t),t],e,Array.prototype.slice.call(arguments,2)),t},X=function(t,e,i){o(t)||q("Expected function but got %s: %s.",[n(t),t],e,Array.prototype.slice.call(arguments,2))},Q=Array.prototype,Y=Q.indexOf?function(t,e,i){return W(null!=t.length),Q.indexOf.call(t,e,i)}:function(t,e,i){if(i=null==i?0:0>i?Math.max(0,t.length+i):i,r(t))return r(e)&&1==e.length?t.indexOf(e,i):-1;for(;i<t.length;i++)if(i in t&&t[i]===e)return i;return-1},K=Q.forEach?function(t,e,i){W(null!=t.length),Q.forEach.call(t,e,i)}:function(t,e,i){for(var n=t.length,s=r(t)?t.split(""):t,a=0;a<n;a++)a in s&&e.call(i,s[a],a,t)},Z=Q.map?function(t,e,i){return W(null!=t.length),Q.map.call(t,e,i)}:function(t,e,i){for(var n=t.length,s=Array(n),a=r(t)?t.split(""):t,o=0;o<n;o++)o in a&&(s[o]=e.call(i,a[o],o,t));return s},J=Q.some?function(t,e,i){return W(null!=t.length),Q.some.call(t,e,i)}:function(t,e,i){for(var n=t.length,s=r(t)?t.split(""):t,a=0;a<n;a++)if(a in s&&e.call(i,s[a],a,t))return!0;return!1},tt=function(t,e){var i=Y(t,e),n;return(n=0<=i)&&(W(null!=t.length),Q.splice.call(t,i,1)),n},et=function(t){var e=t.length;if(0<e){for(var i=Array(e),n=0;n<e;n++)i[n]=t[n];return i}return[]},it=function(t,e,i){return W(null!=t.length),2>=arguments.length?Q.slice.call(t,e):Q.slice.call(t,e,i)},nt=function(t,e){for(var i in t)e.call(void 0,t[i],i,t)},st=function(t){var e=[],i=0,n;for(n in t)e[i++]=n;return e},at=function(t){for(var e in t)return!1;return!0},rt=function(){var t=Di()?e.google_ad:null,i={},n;for(n in t)i[n]=t[n];return i},ot="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),lt=function(t,e){for(var i,n,s=1;s<arguments.length;s++){n=arguments[s];for(i in n)t[i]=n[i];for(var a=0;a<ot.length;a++)i=ot[a],Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}},ct=function(t){var e=arguments.length;if(1==e&&s(arguments[0]))return ct.apply(null,arguments[0]);for(var i={},n=0;n<e;n++)i[arguments[n]]=!0;return i},ht;t:{var ut=e.navigator;if(ut){var dt=ut.userAgent;if(dt){ht=dt;break t}}ht=""}var pt=function(t){return-1!=ht.indexOf(t)},mt=pt("Opera")||pt("OPR"),ft=pt("Trident")||pt("MSIE"),gt=pt("Gecko")&&-1==ht.toLowerCase().indexOf("webkit")&&!(pt("Trident")||pt("MSIE")),vt=-1!=ht.toLowerCase().indexOf("webkit"),bt=function(){var t=e.document;return t?t.documentMode:void 0},_t=function(){var t="",i;return mt&&e.opera?(t=e.opera.version,o(t)?t():t):(gt?i=/rv\:([^\);]+)(\)|;)/:ft?i=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:vt&&(i=/WebKit\/(\S+)/),i&&(t=(t=i.exec(ht))?t[1]:""),ft&&(i=bt())>parseFloat(t)?String(i):t)}(),yt={},wt=function(t){var e;if(!(e=yt[t])){e=0;for(var i=String(_t).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),n=String(t).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),s=Math.max(i.length,n.length),a=0;0==e&&a<s;a++){var r=i[a]||"",o=n[a]||"",l=RegExp("(\\d*)(\\D*)","g"),c=RegExp("(\\d*)(\\D*)","g");do{var h=l.exec(r)||["","",""],u=c.exec(o)||["","",""];if(0==h[0].length&&0==u[0].length)break;e=j(0==h[1].length?0:parseInt(h[1],10),0==u[1].length?0:parseInt(u[1],10))||j(0==h[2].length,0==u[2].length)||j(h[2],u[2])}while(0==e)}e=yt[t]=0<=e}return e},xt=e.document,kt=xt&&ft?bt()||("CSS1Compat"==xt.compatMode?parseInt(_t,10):5):void 0,Ct=function(t){if(8192>t.length)return String.fromCharCode.apply(null,t);for(var e="",i=0;i<t.length;i+=8192)var n=it(t,i,i+8192),e=e+String.fromCharCode.apply(null,n);return e},St=function(t){return Z(t,function(t){return t=t.toString(16),1<t.length?t:"0"+t}).join("")},Tt=null,Et=null,It=function(t){if(!Tt){Tt={},Et={};for(var e=0;65>e;e++)Tt[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),Et[Tt[e]]=e,62<=e&&(Et["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}for(var e=Et,i=[],n=0;n<t.length;){var s=e[t.charAt(n++)],a=n<t.length?e[t.charAt(n)]:0;++n;var r=n<t.length?e[t.charAt(n)]:64;++n;var o=n<t.length?e[t.charAt(n)]:64;if(++n,null==s||null==a||null==r||null==o)throw Error();i.push(s<<2|a>>4),64!=r&&(i.push(a<<4&240|r>>2),64!=o&&i.push(r<<6&192|o))}return i},Pt=function(){this.disposed_=this.disposed_,this.onDisposeCallbacks_=this.onDisposeCallbacks_};Pt.prototype.disposed_=!1,Pt.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())};var At=function(t,e){t.onDisposeCallbacks_||(t.onDisposeCallbacks_=[]),t.onDisposeCallbacks_.push(e)};Pt.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()};var $t=function(t){t&&"function"==typeof t.dispose&&t.dispose()},Ot=!ft||ft&&9<=kt;!gt&&!ft||ft&&ft&&9<=kt||gt&&wt("1.9.1"),ft&&wt("9");var Lt=function(t){return t?new qt(Ut(t)):A||(A=new qt)},Bt=function(t,e){return r(e)?t.getElementById(e):e},Dt=function(t,e){nt(e,function(e,i){"style"==i?t.style.cssText=e:"class"==i?t.className=e:"for"==i?t.htmlFor=e:i in Mt?t.setAttribute(Mt[i],e):0==i.lastIndexOf("aria-",0)||0==i.lastIndexOf("data-",0)?t.setAttribute(i,e):t[i]=e})},Mt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Nt=function(t,e,i){return zt(document,arguments)},zt=function(t,e){var i=e[0],n=e[1];if(!Ot&&n&&(n.name||n.type)){if(i=["<",i],n.name&&i.push(' name="',O(n.name),'"'),n.type){i.push(' type="',O(n.type),'"');var a={};lt(a,n),delete a.type,n=a}i.push(">"),i=i.join("")}return i=t.createElement(i),n&&(r(n)?i.className=n:s(n)?i.className=n.join(" "):Dt(i,n)),2<e.length&&Rt(t,i,e),i},Rt=function(t,e,i){function n(i){i&&e.appendChild(r(i)?t.createTextNode(i):i)}for(var s=2;s<i.length;s++){var o=i[s];!a(o)||l(o)&&0<o.nodeType?n(o):K(Ft(o)?et(o):o,n)}},jt=function(t){for(var e;e=t.firstChild;)t.removeChild(e)},Ht=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},Ut=function(t){return W(t,"Node cannot be null or undefined."),9==t.nodeType?t:t.ownerDocument||t.document},Ft=function(t){if(t&&"number"==typeof t.length){if(l(t))return"function"==typeof t.item||"string"==typeof t.item;if(o(t))return"function"==typeof t.item}return!1},qt=function(t){this.document_=t||e.document||document};t=qt.prototype,t.getDomHelper=Lt,t.getElement=function(t){return Bt(this.document_,t)},t.$=qt.prototype.getElement,t.createDom=function(t,e,i){return zt(this.document_,arguments)},t.createElement=function(t){return this.document_.createElement(t)},t.createTextNode=function(t){return this.document_.createTextNode(String(t))},t.appendChild=function(t,e){t.appendChild(e)};var Wt=function(t){e.setTimeout(function(){throw t},0)},Vt,Gt=function(){var t=e.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&(t=function(){var t=document.createElement("iframe");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow,t=e.document;t.open(),t.write(""),t.close();var i="callImmediate"+Math.random(),n="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host,t=u(function(t){t.origin!=n&&t.data!=i||this.port1.onmessage()},this);e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(i,n)}}}),void 0!==t&&!pt("Trident")&&!pt("MSIE")){var i=new t,n={},s=n;return i.port1.onmessage=function(){n=n.next;var t=n.cb;n.cb=null,t()},function(t){s.next={cb:t},s=s.next,i.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(t){var e=document.createElement("script");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){e.setTimeout(t,0)}},Xt=function(t,e){Qt||Yt(),Kt||(Qt(),Kt=!0),Zt.push(new te(t,e))},Qt,Yt=function(){if(e.Promise&&e.Promise.resolve){var t=e.Promise.resolve();Qt=function(){t.then(Jt)}}else Qt=function(){var t=Jt;!o(e.setImmediate)||e.Window&&e.Window.prototype.setImmediate==e.setImmediate?(Vt||(Vt=Gt()),Vt(t)):e.setImmediate(t)}},Kt=!1,Zt=[],Jt=function(){for(;Zt.length;){var t=Zt;Zt=[];for(var e=0;e<t.length;e++){var i=t[e];try{i.fn.call(i.scope)}catch(t){Wt(t)}}}Kt=!1},te=function(t,e){this.fn=t,this.scope=e},ee=function(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0},ie=function(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}},ne=function(t,e){this.state_=0,this.result_=void 0,this.callbackEntries_=this.parent_=null,this.hadUnhandledRejection_=this.executing_=!1;try{var i=this;t.call(e,function(t){oe(i,2,t)},function(t){if(!(t instanceof pe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}oe(i,3,t)})}catch(t){oe(this,3,t)}};ne.prototype.then=function(t,e,i){return null!=t&&X(t,"opt_onFulfilled should be a function."),null!=e&&X(e,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),re(this,o(t)?t:null,o(e)?e:null,i)},ee(ne),ne.prototype.cancel=function(t){0==this.state_&&Xt(function(){var e=new pe(t);se(this,e)},this)};var se=function(t,e){if(0==t.state_)if(t.parent_){var i=t.parent_;if(i.callbackEntries_){for(var n=0,s=-1,a=0,r;(r=i.callbackEntries_[a])&&!((r=r.child)&&(n++,r==t&&(s=a),0<=s&&1<n));a++);0<=s&&(0==i.state_&&1==n?se(i,e):(n=i.callbackEntries_.splice(s,1)[0],he(i),n.onRejected(e)))}}else oe(t,3,e)},ae=function(t,e){t.callbackEntries_&&t.callbackEntries_.length||2!=t.state_&&3!=t.state_||ce(t),t.callbackEntries_||(t.callbackEntries_=[]),t.callbackEntries_.push(e)},re=function(t,e,i,n){var s={child:null,onFulfilled:null,onRejected:null};return s.child=new ne(function(t,a){s.onFulfilled=e?function(i){try{var s=e.call(n,i);t(s)}catch(t){a(t)}}:t,s.onRejected=i?function(e){try{var s=i.call(n,e);void 0===s&&e instanceof pe?a(e):t(s)}catch(t){a(t)}}:a}),s.child.parent_=t,ae(t,s),s.child};ne.prototype.unblockAndFulfill_=function(t){W(1==this.state_),this.state_=0,oe(this,2,t)},ne.prototype.unblockAndReject_=function(t){W(1==this.state_),this.state_=0,oe(this,3,t)};var oe=function(t,e,i){if(0==t.state_){if(t==i)e=3,i=new TypeError("Promise cannot resolve to itself");else{if(ie(i))return t.state_=1,void i.then(t.unblockAndFulfill_,t.unblockAndReject_,t);if(l(i))try{var n=i.then;if(o(n))return void le(t,i,n)}catch(t){e=3,i=t}}t.result_=i,t.state_=e,ce(t),3!=e||i instanceof pe||ue(t,i)}},le=function(t,e,i){t.state_=1;var n=!1,s=function(e){n||(n=!0,t.unblockAndFulfill_(e))},a=function(e){n||(n=!0,t.unblockAndReject_(e))};try{i.call(e,s,a)}catch(t){a(t)}},ce=function(t){t.executing_||(t.executing_=!0,Xt(t.executeCallbacks_,t))};ne.prototype.executeCallbacks_=function(){for(;this.callbackEntries_&&this.callbackEntries_.length;){var t=this.callbackEntries_;this.callbackEntries_=[];for(var e=0;e<t.length;e++){var i=t[e],n=this.result_;2==this.state_?i.onFulfilled(n):(he(this),i.onRejected(n))}}this.executing_=!1};var he=function(t){for(;t&&t.hadUnhandledRejection_;t=t.parent_)t.hadUnhandledRejection_=!1},ue=function(t,e){t.hadUnhandledRejection_=!0,Xt(function(){t.hadUnhandledRejection_&&de.call(null,e)})},de=Wt,pe=function(t){P.call(this,t)};g(pe,P),pe.prototype.name="cancel";var me=function(t,e){this.sequence_=[],this.onCancelFunction_=t,this.defaultScope_=e||null,this.hadError_=this.fired_=!1,this.result_=void 0,this.silentlyCanceled_=this.blocking_=this.blocked_=!1,this.unhandledErrorId_=0,this.parent_=null,this.branches_=0};me.prototype.cancel=function(t){if(this.fired_)this.result_ instanceof me&&this.result_.cancel();else{if(this.parent_){var e=this.parent_;delete this.parent_,t?e.cancel(t):0>=--e.branches_&&e.cancel()}this.onCancelFunction_?this.onCancelFunction_.call(this.defaultScope_,this):this.silentlyCanceled_=!0,this.fired_||ve(this,new ke)}},me.prototype.continue_=function(t,e){this.blocked_=!1,fe(this,t,e)};var fe=function(t,e,i){t.fired_=!0,t.result_=i,t.hadError_=!e,we(t)},ge=function(t){if(t.fired_){if(!t.silentlyCanceled_)throw new xe;t.silentlyCanceled_=!1}};me.prototype.callback=function(t){ge(this),be(t),fe(this,!0,t)};var ve=function(t,e){ge(t),be(e),fe(t,!1,e)},be=function(t){W(!(t instanceof me),"An execution sequence may not be initiated with a blocking Deferred.")},_e=function(t,e,i,n){W(!t.blocking_,"Blocking Deferreds can not be re-used"),t.sequence_.push([e,i,n]),t.fired_&&we(t)};me.prototype.then=function(t,e,i){var n,s,a=new ne(function(t,e){n=t,s=e})
;return _e(this,n,function(t){t instanceof ke?a.cancel():s(t)}),a.then(t,e,i)},ee(me);var ye=function(t){return J(t.sequence_,function(t){return o(t[1])})},we=function(t){if(t.unhandledErrorId_&&t.fired_&&ye(t)){var i=t.unhandledErrorId_,n=Se[i];n&&(e.clearTimeout(n.id_),delete Se[i]),t.unhandledErrorId_=0}t.parent_&&(t.parent_.branches_--,delete t.parent_);for(var i=t.result_,s=n=!1;t.sequence_.length&&!t.blocked_;){var a=t.sequence_.shift(),r=a[0],o=a[1],a=a[2];if(r=t.hadError_?o:r)try{var l=r.call(a||t.defaultScope_,i);void 0!==l&&(t.hadError_=t.hadError_&&(l==i||l instanceof Error),t.result_=i=l),ie(i)&&(s=!0,t.blocked_=!0)}catch(e){i=e,t.hadError_=!0,ye(t)||(n=!0)}}t.result_=i,s&&(l=u(t.continue_,t,!0),s=u(t.continue_,t,!1),i instanceof me?(_e(i,l,s),i.blocking_=!0):i.then(l,s)),n&&(i=new Ce(i),Se[i.id_]=i,t.unhandledErrorId_=i.id_)},xe=function(){P.call(this)};g(xe,P),xe.prototype.message="Deferred has already fired",xe.prototype.name="AlreadyCalledError";var ke=function(){P.call(this)};g(ke,P),ke.prototype.message="Deferred was canceled",ke.prototype.name="CanceledError";var Ce=function(t){this.id_=e.setTimeout(u(this.throwError,this),0),this.error_=t};Ce.prototype.throwError=function(){throw W(Se[this.id_],"Cannot throw an error that is not scheduled."),delete Se[this.id_],this.error_};var Se={},Te=function(t){var e={},i=e.document||document,n=document.createElement("SCRIPT"),s={script_:n,timeout_:void 0},a=new me(Ie,s),r=null,o=null!=e.timeout?e.timeout:5e3;return 0<o&&(r=window.setTimeout(function(){Pe(n,!0),ve(a,new Ae(1,"Timeout reached for loading script "+t))},o),s.timeout_=r),n.onload=n.onreadystatechange=function(){n.readyState&&"loaded"!=n.readyState&&"complete"!=n.readyState||(Pe(n,e.cleanupWhenDone||!1,r),a.callback(null))},n.onerror=function(){Pe(n,!0,r),ve(a,new Ae(0,"Error while loading script "+t))},Dt(n,{type:"text/javascript",charset:"UTF-8",src:t}),Ee(i).appendChild(n),a},Ee=function(t){var e=t.getElementsByTagName("HEAD");return e&&0!=e.length?e[0]:t.documentElement},Ie=function(){if(this&&this.script_){var t=this.script_;t&&"SCRIPT"==t.tagName&&Pe(t,!0,this.timeout_)}},Pe=function(t,n,s){null!=s&&e.clearTimeout(s),t.onload=i,t.onerror=i,t.onreadystatechange=i,n&&window.setTimeout(function(){Ht(t)},0)},Ae=function(t,e){var i="Jsloader error (code #"+t+")";e&&(i+=": "+e),P.call(this,i),this.code=t};g(Ae,P);var $e=function(t){return $e[" "](t),t};$e[" "]=i;var Oe=!ft||ft&&9<=kt,Le=ft&&!wt("9");!vt||wt("528"),gt&&wt("1.9b")||ft&&wt("8")||mt&&wt("9.5")||vt&&wt("528"),gt&&!wt("8")||ft&&wt("9");var Be=function(t,e){this.type=t,this.currentTarget=this.target=e,this.defaultPrevented=this.propagationStopped_=!1,this.returnValue_=!0};Be.prototype.disposeInternal=function(){},Be.prototype.dispose=function(){},Be.prototype.preventDefault=function(){this.defaultPrevented=!0,this.returnValue_=!1};var De=function(t,e){if(Be.call(this,t?t.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.event_=this.state=null,t){var i=this.type=t.type;this.target=t.target||t.srcElement,this.currentTarget=e;var n=t.relatedTarget;if(n){if(gt){var s;t:{try{$e(n.nodeName),s=!0;break t}catch(t){}s=!1}s||(n=null)}}else"mouseover"==i?n=t.fromElement:"mouseout"==i&&(n=t.toElement);this.relatedTarget=n,this.offsetX=vt||void 0!==t.offsetX?t.offsetX:t.layerX,this.offsetY=vt||void 0!==t.offsetY?t.offsetY:t.layerY,this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0,this.button=t.button,this.keyCode=t.keyCode||0,this.charCode=t.charCode||("keypress"==i?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.state=t.state,this.event_=t,t.defaultPrevented&&this.preventDefault()}};g(De,Be),De.prototype.preventDefault=function(){De.superClass_.preventDefault.call(this);var t=this.event_;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Le)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},De.prototype.disposeInternal=function(){};var Me="closure_listenable_"+(1e6*Math.random()|0),Ne=0,ze=function(t,e,i,n,s){this.listener=t,this.proxy=null,this.src=e,this.type=i,this.capture=!!n,this.handler=s,this.key=++Ne,this.removed=this.callOnce=!1},Re=function(t){t.removed=!0,t.listener=null,t.proxy=null,t.src=null,t.handler=null},je=function(t){this.src=t,this.listeners={},this.typeCount_=0};je.prototype.add=function(t,e,i,n,s){var a=t.toString();(t=this.listeners[a])||(t=this.listeners[a]=[],this.typeCount_++);var r=Ue(t,e,n,s);return-1<r?(e=t[r],i||(e.callOnce=!1)):(e=new ze(e,this.src,a,!!n,s),e.callOnce=i,t.push(e)),e},je.prototype.remove=function(t,e,i,n){if(!((t=t.toString())in this.listeners))return!1;var s=this.listeners[t];return-1<(e=Ue(s,e,i,n))&&(Re(s[e]),W(null!=s.length),Q.splice.call(s,e,1),0==s.length&&(delete this.listeners[t],this.typeCount_--),!0)};var He=function(t,e){var i=e.type;if(!(i in t.listeners))return!1;var n=tt(t.listeners[i],e);return n&&(Re(e),0==t.listeners[i].length&&(delete t.listeners[i],t.typeCount_--)),n};je.prototype.removeAll=function(t){t=t&&t.toString();var e=0,i;for(i in this.listeners)if(!t||i==t){for(var n=this.listeners[i],s=0;s<n.length;s++)++e,Re(n[s]);delete this.listeners[i],this.typeCount_--}return e},je.prototype.getListener=function(t,e,i,n){t=this.listeners[t.toString()];var s=-1;return t&&(s=Ue(t,e,i,n)),-1<s?t[s]:null};var Ue=function(t,e,i,n){for(var s=0;s<t.length;++s){var a=t[s];if(!a.removed&&a.listener==e&&a.capture==!!i&&a.handler==n)return s}return-1},Fe="closure_lm_"+(1e6*Math.random()|0),qe={},We=0,Ve=function(t,e,i,n,a){if(s(e)){for(var r=0;r<e.length;r++)Ve(t,e[r],i,n,a);return null}if(i=ii(i),t&&t[Me])t=t.listen(e,i,n,a);else{if(!e)throw Error("Invalid event type");var r=!!n,o=ti(t);o||(t[Fe]=o=new je(t)),i=o.add(e,i,!1,n,a),i.proxy||(n=Ge(),i.proxy=n,n.src=t,n.listener=i,t.addEventListener?t.addEventListener(e.toString(),n,r):t.attachEvent(Ye(e.toString()),n),We++),t=i}return t},Ge=function(){var t=Je,e=Oe?function(i){return t.call(e.src,e.listener,i)}:function(i){if(!(i=t.call(e.src,e.listener,i)))return i};return e},Xe=function(t,e,i,n,a){if(s(e))for(var r=0;r<e.length;r++)Xe(t,e[r],i,n,a);else i=ii(i),t&&t[Me]?t.unlisten(e,i,n,a):t&&(t=ti(t))&&(e=t.getListener(e,i,!!n,a))&&Qe(e)},Qe=function(t){if("number"==typeof t||!t||t.removed)return!1;var e=t.src;if(e&&e[Me])return He(e.eventTargetListeners_,t);var i=t.type,n=t.proxy;return e.removeEventListener?e.removeEventListener(i,n,t.capture):e.detachEvent&&e.detachEvent(Ye(i),n),We--,(i=ti(e))?(He(i,t),0==i.typeCount_&&(i.src=null,e[Fe]=null)):Re(t),!0},Ye=function(t){return t in qe?qe[t]:qe[t]="on"+t},Ke=function(t,e,i,n){var s=1;if((t=ti(t))&&(e=t.listeners[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var a=e[t];a&&a.capture==i&&!a.removed&&(s&=!1!==Ze(a,n))}return Boolean(s)},Ze=function(t,e){var i=t.listener,n=t.handler||t.src;return t.callOnce&&Qe(t),i.call(n,e)},Je=function(t,i){if(t.removed)return!0;if(!Oe){var n;if(!(n=i))t:{n=["window","event"];for(var s=e,a;a=n.shift();){if(null==s[a]){n=null;break t}s=s[a]}n=s}if(a=n,n=new De(a,this),s=!0,!(0>a.keyCode||void 0!=a.returnValue)){t:{var r=!1;if(0==a.keyCode)try{a.keyCode=-1;break t}catch(t){r=!0}(r||void 0==a.returnValue)&&(a.returnValue=!0)}for(a=[],r=n.currentTarget;r;r=r.parentNode)a.push(r);for(var r=t.type,o=a.length-1;!n.propagationStopped_&&0<=o;o--)n.currentTarget=a[o],s&=Ke(a[o],r,!0,n);for(o=0;!n.propagationStopped_&&o<a.length;o++)n.currentTarget=a[o],s&=Ke(a[o],r,!1,n)}return s}return Ze(t,new De(i,this))},ti=function(t){return t=t[Fe],t instanceof je?t:null},ei="__closure_events_fn_"+(1e9*Math.random()>>>0),ii=function(t){return W(t,"Listener can not be null."),o(t)?t:(W(t.handleEvent,"An object listener must have handleEvent method."),t[ei]||(t[ei]=function(e){return t.handleEvent(e)}),t[ei])},ni=function(t){Pt.call(this),this.handler_=t,this.keys_={}};g(ni,Pt);var si=[];t=ni.prototype,t.listen=function(t,e,i,n){s(e)||(e&&(si[0]=e.toString()),e=si);for(var a=0;a<e.length;a++){var r=Ve(t,e[a],i||this.handleEvent,n||!1,this.handler_||this);if(!r)break;this.keys_[r.key]=r}return this},t.unlisten=function(t,e,i,n,a){if(s(e))for(var r=0;r<e.length;r++)this.unlisten(t,e[r],i,n,a);else i=i||this.handleEvent,a=a||this.handler_||this,i=ii(i),n=!!n,(e=t&&t[Me]?t.getListener(e,i,n,a):t&&(t=ti(t))?t.getListener(e,i,n,a):null)&&(Qe(e),delete this.keys_[e.key]);return this},t.removeAll=function(){nt(this.keys_,Qe),this.keys_={}},t.disposeInternal=function(){ni.superClass_.disposeInternal.call(this),this.removeAll()},t.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ai=function(){Pt.call(this),this.eventTargetListeners_=new je(this),this.actualEventTarget_=this,this.parentEventTarget_=null};g(ai,Pt),ai.prototype[Me]=!0,t=ai.prototype,t.setParentEventTarget=function(t){this.parentEventTarget_=t},t.addEventListener=function(t,e,i,n){Ve(this,t,e,i,n)},t.removeEventListener=function(t,e,i,n){Xe(this,t,e,i,n)},t.dispatchEvent=function(t){oi(this);var e,i=this.parentEventTarget_;if(i){e=[];for(var n=1;i;i=i.parentEventTarget_)e.push(i),W(1e3>++n,"infinite loop")}if(i=this.actualEventTarget_,n=t.type||t,r(t))t=new Be(t,i);else if(t instanceof Be)t.target=t.target||i;else{var s=t;t=new Be(n,i),lt(t,s)}var s=!0,a;if(e)for(var o=e.length-1;!t.propagationStopped_&&0<=o;o--)a=t.currentTarget=e[o],s=ri(a,n,!0,t)&&s;if(t.propagationStopped_||(a=t.currentTarget=i,s=ri(a,n,!0,t)&&s,t.propagationStopped_||(s=ri(a,n,!1,t)&&s)),e)for(o=0;!t.propagationStopped_&&o<e.length;o++)a=t.currentTarget=e[o],s=ri(a,n,!1,t)&&s;return s},t.disposeInternal=function(){ai.superClass_.disposeInternal.call(this),this.eventTargetListeners_&&this.eventTargetListeners_.removeAll(void 0),this.parentEventTarget_=null},t.listen=function(t,e,i,n){return oi(this),this.eventTargetListeners_.add(String(t),e,!1,i,n)},t.unlisten=function(t,e,i,n){return this.eventTargetListeners_.remove(String(t),e,i,n)};var ri=function(t,e,i,n){if(!(e=t.eventTargetListeners_.listeners[String(e)]))return!0;e=e.concat();for(var s=!0,a=0;a<e.length;++a){var r=e[a];if(r&&!r.removed&&r.capture==i){var o=r.listener,l=r.handler||r.src;r.callOnce&&He(t.eventTargetListeners_,r),s=!1!==o.call(l,n)&&s}}return s&&0!=n.returnValue_};ai.prototype.getListener=function(t,e,i,n){return this.eventTargetListeners_.getListener(String(t),e,i,n)};var oi=function(t){W(t.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},li=function(t){ai.call(this),this.imageIdToRequestMap_={},this.imageIdToImageMap_={},this.handler_=new ni(this),this.parent_=t};g(li,ai);var ci=[ft&&!wt("11")?"readystatechange":"load","abort","error"],hi=function(t,e,i){(i=r(i)?i:i.src)&&(t.imageIdToRequestMap_[e]={src:i,corsRequestType:null})};li.prototype.start=function(){var t=this.imageIdToRequestMap_;K(st(t),function(e){var i=t[e];if(i&&(delete t[e],!this.disposed_)){var n;n=this.parent_?Lt(this.parent_).createDom("img"):new Image,i.corsRequestType&&(n.crossOrigin=i.corsRequestType),this.handler_.listen(n,ci,this.onNetworkEvent_),this.imageIdToImageMap_[e]=n,n.id=e,n.src=i.src}},this)},li.prototype.onNetworkEvent_=function(t){var e=t.currentTarget;if(e){if("readystatechange"==t.type){if("complete"!=e.readyState)return;t.type="load"}void 0===e.naturalWidth&&("load"==t.type?(e.naturalWidth=e.width,e.naturalHeight=e.height):(e.naturalWidth=0,e.naturalHeight=0)),this.dispatchEvent({type:t.type,target:e}),!this.disposed_&&(t=e.id,delete this.imageIdToRequestMap_[t],e=this.imageIdToImageMap_[t])&&(delete this.imageIdToImageMap_[t],this.handler_.unlisten(e,ci,this.onNetworkEvent_),at(this.imageIdToImageMap_)&&at(this.imageIdToRequestMap_)&&this.dispatchEvent("complete"))}},li.prototype.disposeInternal=function(){delete this.imageIdToRequestMap_,delete this.imageIdToImageMap_,$t(this.handler_),li.superClass_.disposeInternal.call(this)};var ui=function(){};ui.getInstance=function(){return ui.instance_?ui.instance_:ui.instance_=new ui},ui.prototype.nextId_=0;var di=function(t){ai.call(this),this.dom_=t||Lt(),this.id_=null,this.inDocument_=!1,this.element_=null,this.googUiComponentHandler_=void 0,this.childIndex_=this.children_=this.parent_=null,this.wasDecorated_=!1};g(di,ai),t=di.prototype,t.idGenerator_=ui.getInstance(),t.getElement=function(){return this.element_},t.setParentEventTarget=function(t){if(this.parent_&&this.parent_!=t)throw Error("Method not supported");di.superClass_.setParentEventTarget.call(this,t)},t.getDomHelper=function(){return this.dom_},t.createDom=function(){this.element_=this.dom_.createElement("div")};var pi=function(t,e){if(t.inDocument_)throw Error("Component already rendered");t.element_||t.createDom(),e?e.insertBefore(t.element_,null):t.dom_.document_.body.appendChild(t.element_),t.parent_&&!t.parent_.inDocument_||mi(t)},mi=function(t){t.inDocument_=!0,gi(t,function(t){!t.inDocument_&&t.getElement()&&mi(t)})},fi=function(t){gi(t,function(t){t.inDocument_&&fi(t)}),t.googUiComponentHandler_&&t.googUiComponentHandler_.removeAll(),t.inDocument_=!1};di.prototype.disposeInternal=function(){this.inDocument_&&fi(this),this.googUiComponentHandler_&&(this.googUiComponentHandler_.dispose(),delete this.googUiComponentHandler_),gi(this,function(t){t.dispose()}),!this.wasDecorated_&&this.element_&&Ht(this.element_),this.parent_=this.element_=this.childIndex_=this.children_=null,di.superClass_.disposeInternal.call(this)};var gi=function(t,e){t.children_&&K(t.children_,e,void 0)};di.prototype.removeChild=function(t,e){if(t){var i=r(t)?t:t.id_||(t.id_=":"+(t.idGenerator_.nextId_++).toString(36)),n;if(this.childIndex_&&i?(n=this.childIndex_,n=(i in n?n[i]:void 0)||null):n=null,t=n,i&&t){if(n=this.childIndex_,i in n&&delete n[i],tt(this.children_,t),e&&(fi(t),t.element_&&Ht(t.element_)),null==(i=t))throw Error("Unable to set parent component");i.parent_=null,di.superClass_.setParentEventTarget.call(i,null)}}if(!t)throw Error("Child is not in parent component");return t};var vi=function(t,e,i){di.call(this,i),this.captchaImage_=t,this.adImage_=e&&300==e.naturalWidth&&57==e.naturalHeight?e:null};g(vi,di),vi.prototype.createDom=function(){vi.superClass_.createDom.call(this);var t=this.getElement();this.captchaImage_.alt=Xi.image_alt_text,this.getDomHelper().appendChild(t,this.captchaImage_),this.adImage_&&(this.adImage_.alt=Xi.image_alt_text,this.getDomHelper().appendChild(t,this.adImage_),this.adImage_&&bi(this.adImage_)&&(t.innerHTML+='<div id="recaptcha-ad-choices"><div class="recaptcha-ad-choices-collapsed"><img height="15" width="30" alt="AdChoices" border="0" src="//www.gstatic.com/recaptcha/api/img/adicon.png"/></div><div class="recaptcha-ad-choices-expanded"><a href="https://support.google.com/adsense/troubleshooter/1631343" target="_blank"><img height="15" width="75" alt="AdChoices" border="0" src="//www.gstatic.com/recaptcha/api/img/adchoices.png"/></a></div></div>'))};var bi=function(t){var e=_i(t,"visibility");return t=_i(t,"display"),"hidden"!=e&&"none"!=t},_i=function(t,e){var i;if(i=Ut(t),i=i.defaultView&&i.defaultView.getComputedStyle&&(i=i.defaultView.getComputedStyle(t,null))?i[e]||i.getPropertyValue(e)||"":"",!(i=i||(t.currentStyle?t.currentStyle[e]:null))&&void 0===(i=t.style[H(e)])){i=t.style;var n;t:if(n=H(e),void 0===t.style[n]){var s=(vt?"Webkit":gt?"Moz":ft?"ms":mt?"O":null)+U(n);if(void 0!==t.style[s]){n=s;break t}}i=i[n]||""}return i};vi.prototype.disposeInternal=function(){delete this.captchaImage_,delete this.adImage_,vi.superClass_.disposeInternal.call(this)};var yi=function(t,e,i){Pt.call(this),this.listener_=t,this.interval_=e||0,this.handler_=i,this.callback_=u(this.doAction_,this)};g(yi,Pt),t=yi.prototype,t.id_=0,t.disposeInternal=function(){yi.superClass_.disposeInternal.call(this),this.stop(),delete this.listener_,delete this.handler_},t.start=function(t){this.stop();var i=this.callback_;if(t=void 0!==t?t:this.interval_,!o(i)){if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=u(i.handleEvent,i)}this.id_=2147483647<t?-1:e.setTimeout(i,t||0)},t.stop=function(){this.isActive()&&e.clearTimeout(this.id_),this.id_=0},t.isActive=function(){return 0!=this.id_},t.doAction_=function(){this.id_=0,this.listener_&&this.listener_.call(this.handler_)};var wi=function(t,e){Pt.call(this),this.listener_=t,this.handler_=e,this.delay_=new yi(u(this.onTick_,this),0,this)};g(wi,Pt),t=wi.prototype,t.interval_=0,t.runUntil_=0,t.disposeInternal=function(){this.delay_.dispose(),delete this.listener_,delete this.handler_,wi.superClass_.disposeInternal.call(this)},t.start=function(t,e){this.stop();var i=e||0;this.interval_=Math.max(t||0,0),this.runUntil_=0>i?-1:p()+i,this.delay_.start(0>i?this.interval_:Math.min(this.interval_,i))},t.stop=function(){this.delay_.stop()},t.isActive=function(){return this.delay_.isActive()},t.onSuccess=function(){},t.onFailure=function(){},t.onTick_=function(){if(this.listener_.call(this.handler_))this.onSuccess();else if(0>this.runUntil_)this.delay_.start(this.interval_);else{var t=this.runUntil_-p();0>=t?this.onFailure():this.delay_.start(Math.min(this.interval_,t))}},ct("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),ct("action","cite","data","formaction","href","manifest","poster","src"),ct("link","script","style");var xi={sanitizedContentKindHtml:!0},ki={sanitizedContentKindText:!0},Ci=function(){throw Error("Do not instantiate directly")};Ci.prototype.contentDir=null,Ci.prototype.toString=function(){return this.content};var Si=function(t){var e=Bi;W(e,"Soy template may not be null.");var i=Lt().createElement("DIV");return t=Ti(e(t||Ii,void 0,void 0)),e=t.match(Ei),W(!e,"This template starts with a %s, which cannot be a child of a <div>, as required by soy internals. Consider using goog.soy.renderElement instead.\nTemplate output: %s",e&&e[0],t),i.innerHTML=t,1==i.childNodes.length&&(t=i.firstChild,1==t.nodeType)?t:i},Ti=function(t){if(!l(t))return String(t);if(t instanceof Ci){if(t.contentKind===xi)return G(t.content);if(t.contentKind===ki)return O(t.content)}return V("Soy template output is unsafe for use as HTML: "+t),"zSoyz"},Ei=/^<(body|caption|col|colgroup|head|html|tr|td|tbody|thead|tfoot)>/i,Ii={};ft&&wt(8);var Pi=function(){Ci.call(this)};g(Pi,Ci),Pi.prototype.contentKind=xi;var Ai=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t,i){var n=new e(String(t));return void 0!==i&&(n.contentDir=i),n}}(Pi);!function(t){function e(t){this.content=t}e.prototype=t.prototype}(Pi);var $i={"\0":"\\x00","\b":"\\x08","\t":"\\t","\n":"\\n","\v":"\\x0b","\f":"\\f","\r":"\\r",'"':"\\x22",$:"\\x24","&":"\\x26","'":"\\x27","(":"\\x28",")":"\\x29","*":"\\x2a","+":"\\x2b",",":"\\x2c","-":"\\x2d",".":"\\x2e","/":"\\/",":":"\\x3a","<":"\\x3c","=":"\\x3d",">":"\\x3e","?":"\\x3f","[":"\\x5b","\\":"\\\\","]":"\\x5d","^":"\\x5e","{":"\\x7b","|":"\\x7c","}":"\\x7d","":"\\x85","\u2028":"\\u2028","\u2029":"\\u2029"},Oi=function(t){return $i[t]},Li=/[\x00\x08-\x0d\x22\x26\x27\/\x3c-\x3e\\\x85\u2028\u2029]/g,Bi=function(t){return Ai('<script type="text/javascript">var challenge = \''+String(t.challenge).replace(Li,Oi)+"'; var publisherId = '"+String(t.publisherId).replace(Li,Oi)+"';"+("ca-mongoogle"==t.publisherId?'google_page_url = "3pcerttesting.com/dab/recaptcha.html";':"")+"\n    google_ad_client = publisherId;\n    google_ad_type = 'html';\n    google_ad_output = 'js';\n    google_image_size = '300x57';\n    google_captcha_token = challenge;\n    google_ad_request_done = function(ad) {\n      window.parent.recaptcha.ads.adutils.googleAdRequestDone(ad);\n    };\n    <\/script><script type=\"text/javascript\" src=\"//pagead2.googlesyndication.com/pagead/show_ads.js\"><\/script>")};Bi.soyTemplateName="recaptcha.soy.ads.iframeAdsLoader.main";var Di=function(){var t=e.google_ad;return!!(t&&t.token&&t.imageAdUrl&&t.hashedAnswer&&t.salt&&t.delayedImpressionUrl&&t.engagementUrl)},Mi=function(){e.google_ad&&(e.google_ad=null)},Ni=function(t){t=t||document.body;var i=e.google_ad;i&&i.searchUpliftUrl&&(i=Nt("iframe",{src:'data:text/html;charset=utf-8,<body><img src="https://'+i.searchUpliftUrl+'"></img></body>',style:"display:none"}),t.appendChild(i))},zi=0,Ri=function(t){var e=new li;hi(e,"recaptcha-url-"+zi++,t),e.start()},ji=function(t,i){var n=RecaptchaState.publisher_id;Mi();var s=Nt("iframe",{id:"recaptcha-loader-"+zi++,style:"display: none"});document.body.appendChild(s);var a=s.contentWindow?s.contentWindow.document:s.contentDocument;a.open("text/html","replace"),a.write(Si({challenge:t,publisherId:n}).innerHTML),a.close(),n=new wi(function(){return!!e.google_ad}),n.onSuccess=function(){Ht(s),i()},n.onFailure=function(){Ht(s),i()},n.start(50,2e3)};f("recaptcha.ads.adutils.googleAdRequestDone",function(t){e.google_ad=t});var Hi=function(){this.blockSize=-1},Ui=function(){this.blockSize=-1,this.blockSize=64,this.chain_=Array(4),this.block_=Array(this.blockSize),this.totalLength_=this.blockLength_=0,this.reset()};g(Ui,Hi),Ui.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.totalLength_=this.blockLength_=0};var Fi=function(t,e,i){i||(i=0);var n=Array(16);if(r(e))for(var s=0;16>s;++s)n[s]=e.charCodeAt(i++)|e.charCodeAt(i++)<<8|e.charCodeAt(i++)<<16|e.charCodeAt(i++)<<24;else for(s=0;16>s;++s)n[s]=e[i++]|e[i++]<<8|e[i++]<<16|e[i++]<<24;e=t.chain_[0],i=t.chain_[1];var s=t.chain_[2],a=t.chain_[3],o=0,o=e+(a^i&(s^a))+n[0]+3614090360&4294967295;e=i+(o<<7&4294967295|o>>>25),o=a+(s^e&(i^s))+n[1]+3905402710&4294967295,a=e+(o<<12&4294967295|o>>>20),o=s+(i^a&(e^i))+n[2]+606105819&4294967295,s=a+(o<<17&4294967295|o>>>15),o=i+(e^s&(a^e))+n[3]+3250441966&4294967295,i=s+(o<<22&4294967295|o>>>10),o=e+(a^i&(s^a))+n[4]+4118548399&4294967295,e=i+(o<<7&4294967295|o>>>25),o=a+(s^e&(i^s))+n[5]+1200080426&4294967295,a=e+(o<<12&4294967295|o>>>20),o=s+(i^a&(e^i))+n[6]+2821735955&4294967295,s=a+(o<<17&4294967295|o>>>15),o=i+(e^s&(a^e))+n[7]+4249261313&4294967295,i=s+(o<<22&4294967295|o>>>10),o=e+(a^i&(s^a))+n[8]+1770035416&4294967295,e=i+(o<<7&4294967295|o>>>25),o=a+(s^e&(i^s))+n[9]+2336552879&4294967295,a=e+(o<<12&4294967295|o>>>20),o=s+(i^a&(e^i))+n[10]+4294925233&4294967295,s=a+(o<<17&4294967295|o>>>15),o=i+(e^s&(a^e))+n[11]+2304563134&4294967295,i=s+(o<<22&4294967295|o>>>10),o=e+(a^i&(s^a))+n[12]+1804603682&4294967295,e=i+(o<<7&4294967295|o>>>25),o=a+(s^e&(i^s))+n[13]+4254626195&4294967295,a=e+(o<<12&4294967295|o>>>20),o=s+(i^a&(e^i))+n[14]+2792965006&4294967295,s=a+(o<<17&4294967295|o>>>15),o=i+(e^s&(a^e))+n[15]+1236535329&4294967295,i=s+(o<<22&4294967295|o>>>10),o=e+(s^a&(i^s))+n[1]+4129170786&4294967295,e=i+(o<<5&4294967295|o>>>27),o=a+(i^s&(e^i))+n[6]+3225465664&4294967295,a=e+(o<<9&4294967295|o>>>23),o=s+(e^i&(a^e))+n[11]+643717713&4294967295,s=a+(o<<14&4294967295|o>>>18),o=i+(a^e&(s^a))+n[0]+3921069994&4294967295,i=s+(o<<20&4294967295|o>>>12),o=e+(s^a&(i^s))+n[5]+3593408605&4294967295,e=i+(o<<5&4294967295|o>>>27),o=a+(i^s&(e^i))+n[10]+38016083&4294967295,a=e+(o<<9&4294967295|o>>>23),o=s+(e^i&(a^e))+n[15]+3634488961&4294967295,s=a+(o<<14&4294967295|o>>>18),o=i+(a^e&(s^a))+n[4]+3889429448&4294967295,i=s+(o<<20&4294967295|o>>>12),o=e+(s^a&(i^s))+n[9]+568446438&4294967295,e=i+(o<<5&4294967295|o>>>27),o=a+(i^s&(e^i))+n[14]+3275163606&4294967295,a=e+(o<<9&4294967295|o>>>23),o=s+(e^i&(a^e))+n[3]+4107603335&4294967295,s=a+(o<<14&4294967295|o>>>18),o=i+(a^e&(s^a))+n[8]+1163531501&4294967295,i=s+(o<<20&4294967295|o>>>12),o=e+(s^a&(i^s))+n[13]+2850285829&4294967295,e=i+(o<<5&4294967295|o>>>27),o=a+(i^s&(e^i))+n[2]+4243563512&4294967295,a=e+(o<<9&4294967295|o>>>23),o=s+(e^i&(a^e))+n[7]+1735328473&4294967295,s=a+(o<<14&4294967295|o>>>18),o=i+(a^e&(s^a))+n[12]+2368359562&4294967295,i=s+(o<<20&4294967295|o>>>12),o=e+(i^s^a)+n[5]+4294588738&4294967295,e=i+(o<<4&4294967295|o>>>28),o=a+(e^i^s)+n[8]+2272392833&4294967295,a=e+(o<<11&4294967295|o>>>21),o=s+(a^e^i)+n[11]+1839030562&4294967295,s=a+(o<<16&4294967295|o>>>16),o=i+(s^a^e)+n[14]+4259657740&4294967295,i=s+(o<<23&4294967295|o>>>9),o=e+(i^s^a)+n[1]+2763975236&4294967295,e=i+(o<<4&4294967295|o>>>28),o=a+(e^i^s)+n[4]+1272893353&4294967295,a=e+(o<<11&4294967295|o>>>21),o=s+(a^e^i)+n[7]+4139469664&4294967295,s=a+(o<<16&4294967295|o>>>16),o=i+(s^a^e)+n[10]+3200236656&4294967295,i=s+(o<<23&4294967295|o>>>9),o=e+(i^s^a)+n[13]+681279174&4294967295,e=i+(o<<4&4294967295|o>>>28),o=a+(e^i^s)+n[0]+3936430074&4294967295,a=e+(o<<11&4294967295|o>>>21),o=s+(a^e^i)+n[3]+3572445317&4294967295,s=a+(o<<16&4294967295|o>>>16),o=i+(s^a^e)+n[6]+76029189&4294967295,i=s+(o<<23&4294967295|o>>>9),o=e+(i^s^a)+n[9]+3654602809&4294967295,e=i+(o<<4&4294967295|o>>>28),o=a+(e^i^s)+n[12]+3873151461&4294967295,a=e+(o<<11&4294967295|o>>>21),o=s+(a^e^i)+n[15]+530742520&4294967295,s=a+(o<<16&4294967295|o>>>16),o=i+(s^a^e)+n[2]+3299628645&4294967295,i=s+(o<<23&4294967295|o>>>9),o=e+(s^(i|~a))+n[0]+4096336452&4294967295,e=i+(o<<6&4294967295|o>>>26),o=a+(i^(e|~s))+n[7]+1126891415&4294967295,a=e+(o<<10&4294967295|o>>>22),o=s+(e^(a|~i))+n[14]+2878612391&4294967295,s=a+(o<<15&4294967295|o>>>17),o=i+(a^(s|~e))+n[5]+4237533241&4294967295,i=s+(o<<21&4294967295|o>>>11),o=e+(s^(i|~a))+n[12]+1700485571&4294967295,e=i+(o<<6&4294967295|o>>>26),o=a+(i^(e|~s))+n[3]+2399980690&4294967295,a=e+(o<<10&4294967295|o>>>22),o=s+(e^(a|~i))+n[10]+4293915773&4294967295,s=a+(o<<15&4294967295|o>>>17),o=i+(a^(s|~e))+n[1]+2240044497&4294967295,i=s+(o<<21&4294967295|o>>>11),o=e+(s^(i|~a))+n[8]+1873313359&4294967295,e=i+(o<<6&4294967295|o>>>26),o=a+(i^(e|~s))+n[15]+4264355552&4294967295,a=e+(o<<10&4294967295|o>>>22),o=s+(e^(a|~i))+n[6]+2734768916&4294967295,s=a+(o<<15&4294967295|o>>>17),o=i+(a^(s|~e))+n[13]+1309151649&4294967295,i=s+(o<<21&4294967295|o>>>11),o=e+(s^(i|~a))+n[4]+4149444226&4294967295,e=i+(o<<6&4294967295|o>>>26),o=a+(i^(e|~s))+n[11]+3174756917&4294967295,a=e+(o<<10&4294967295|o>>>22),o=s+(e^(a|~i))+n[2]+718787259&4294967295,s=a+(o<<15&4294967295|o>>>17),o=i+(a^(s|~e))+n[9]+3951481745&4294967295,t.chain_[0]=t.chain_[0]+e&4294967295,t.chain_[1]=t.chain_[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.chain_[2]=t.chain_[2]+s&4294967295,t.chain_[3]=t.chain_[3]+a&4294967295};Ui.prototype.update=function(t,e){void 0===e&&(e=t.length);for(var i=e-this.blockSize,n=this.block_,s=this.blockLength_,a=0;a<e;){if(0==s)for(;a<=i;)Fi(this,t,a),a+=this.blockSize;if(r(t)){for(;a<e;)if(n[s++]=t.charCodeAt(a++),s==this.blockSize){Fi(this,n),s=0;break}}else for(;a<e;)if(n[s++]=t[a++],s==this.blockSize){Fi(this,n),s=0;break}}this.blockLength_=s,this.totalLength_+=e};var qi=function(){ni.call(this),this.callback_=this.element_=null,this.md5_=new Ui};g(qi,ni);var Wi=function(t,e,i,n,s){t.unwatch(),t.element_=e,t.callback_=s,t.listen(e,"keyup",u(t.onChanged_,t,i,n))};qi.prototype.unwatch=function(){this.element_&&this.callback_&&(this.removeAll(),this.callback_=this.element_=null)},qi.prototype.onChanged_=function(t,e){var i;i=(i=this.element_.value)?i.replace(/[\s\xa0]+/g,"").toLowerCase():"",this.md5_.reset(),this.md5_.update(i+"."+e),i=this.md5_;var n=Array((56>i.blockLength_?i.blockSize:2*i.blockSize)-i.blockLength_);n[0]=128;for(var s=1;s<n.length-8;++s)n[s]=0;for(var a=8*i.totalLength_,s=n.length-8;s<n.length;++s)n[s]=255&a,a/=256;for(i.update(n),n=Array(16),s=a=0;4>s;++s)for(var r=0;32>r;r+=8)n[a++]=i.chain_[s]>>>r&255;St(n).toLowerCase()==t.toLowerCase()&&this.callback_()},qi.prototype.disposeInternal=function(){this.element_=null,qi.superClass_.disposeInternal.call(this)};var Vi=function(t,e,i){this.adObject_=t,this.captchaImageUrl_=e,this.opt_successCallback_=i||null,Gi(this)};g(Vi,Pt);var Gi=function(t){var e=new li;At(t,d($t,e)),hi(e,"recaptcha_challenge_image",t.captchaImageUrl_),hi(e,"recaptcha_ad_image",t.adObject_.imageAdUrl);var i={};Ve(e,"load",u(function(t,e){t[e.target.id]=e.target},t,i)),Ve(e,"complete",u(t.handleImagesLoaded_,t,i)),e.start()};Vi.prototype.handleImagesLoaded_=function(t){t=new vi(t.recaptcha_challenge_image,t.recaptcha_ad_image),At(this,d($t,t));var e=Bt(document,"recaptcha_image");jt(e),pi(t,e),t.adImage_&&bi(t.adImage_)&&(Ri(this.adObject_.delayedImpressionUrl),t=new qi,At(this,d($t,t)),Wi(t,Bt(document,"recaptcha_response_field"),this.adObject_.hashedAnswer,this.adObject_.salt,u(function(t,e){t.unwatch(),Ri(e)},this,t,this.adObject_.engagementUrl)),this.opt_successCallback_&&this.opt_successCallback_("04"+this.adObject_.token))};var Xi=b;f("RecaptchaStr",Xi);var Qi=e.RecaptchaOptions;f("RecaptchaOptions",Qi);var Yi={tabindex:0,theme:"red",callback:null,lang:null,custom_theme_widget:null,custom_translations:null};f("RecaptchaDefaultOptions",Yi);var Ki={widget:null,timer_id:-1,style_set:!1,theme:null,type:"image",ajax_verify_cb:null,th1:null,th2:null,th3:null,element:"",ad_captcha_plugin:null,reload_timeout:-1,force_reload:!1,$:function(t){return"string"==typeof t?document.getElementById(t):t},attachEvent:function(t,e,i){t&&t.addEventListener?t.addEventListener(e,i,!1):t&&t.attachEvent&&t.attachEvent("on"+e,i)},create:function(t,e,i){Ki.destroy(),e&&(Ki.widget=Ki.$(e),Ki.element=e),Ki._init_options(i),Ki._call_challenge(t)},destroy:function(){var t=Ki.$("recaptcha_challenge_field");t&&t.parentNode.removeChild(t),-1!=Ki.timer_id&&clearInterval(Ki.timer_id),Ki.timer_id=-1,(t=Ki.$("recaptcha_image"))&&(t.innerHTML=""),Ki.update_widget(),Ki.widget&&("custom"!=Ki.theme?Ki.widget.innerHTML="":Ki.widget.style.display="none",Ki.widget=null)},focus_response_field:function(){var t=Ki.$("recaptcha_response_field");t&&t.focus()},get_challenge:function(){return"undefined"==typeof RecaptchaState?null:RecaptchaState.challenge},get_response:function(){var t=Ki.$("recaptcha_response_field");return t?t.value:null},ajax_verify:function(t){Ki.ajax_verify_cb=t,t=Ki.get_challenge()||"";var e=Ki.get_response()||"";t=Ki._get_api_server()+"/ajaxverify?c="+encodeURIComponent(t)+"&response="+encodeURIComponent(e),Ki._add_script(t)},_ajax_verify_callback:function(t){Ki.ajax_verify_cb(t)},_get_overridable_url:function(t){var e=window.location.protocol;if("undefined"!=typeof _RecaptchaOverrideApiServer)t=_RecaptchaOverrideApiServer;else if("undefined"!=typeof RecaptchaState&&"string"==typeof RecaptchaState.server&&0<RecaptchaState.server.length)return RecaptchaState.server.replace(/\/+$/,"");return e+"//"+t},_get_api_server:function(){return Ki._get_overridable_url("www.google.com/recaptcha/api")},_get_static_url_root:function(){return Ki._get_overridable_url("www.gstatic.com/recaptcha/api")},_call_challenge:function(t){t=Ki._get_api_server()+"/challenge?k="+t+"&ajax=1&cachestop="+Math.random(),Ki.getLang_()&&(t+="&lang="+Ki.getLang_()),void 0!==Qi.extra_challenge_params&&(t+="&"+Qi.extra_challenge_params),Ki._add_script(t)},_add_script:function(t){var e=document.createElement("script");e.type="text/javascript",e.src=t,Ki._get_script_area().appendChild(e)},_get_script_area:function(){var t=document.getElementsByTagName("head");return t=!t||1>t.length?document.body:t[0]},_hash_merge:function(t){for(var e={},i=0;i<t.length;i++)for(var n in t[i])e[n]=t[i][n];return e},_init_options:function(t){Qi=Ki._hash_merge([Yi,t||{}])},challenge_callback_internal:function(){if(Ki.update_widget(),Ki._reset_timer(),Xi=Ki._hash_merge([b,I[Ki.getLang_()]||{},Qi.custom_translations||{}]),window.addEventListener&&window.addEventListener("unload",function(){Ki.destroy()},!1),Ki._is_ie()&&window.attachEvent&&window.attachEvent("onbeforeunload",function(){}),0<navigator.userAgent.indexOf("KHTML")){var t=document.createElement("iframe");t.src="about:blank",t.style.height="0px",t.style.width="0px",t.style.visibility="hidden",t.style.border="none",
t.appendChild(document.createTextNode("This frame prevents back/forward cache problems in Safari.")),document.body.appendChild(t)}Ki._finish_widget()},_add_css:function(t){if(-1!=navigator.appVersion.indexOf("MSIE 5"))document.write('<style type="text/css">'+t+"</style>");else{var e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),Ki._get_script_area().appendChild(e)}},_set_style:function(t){Ki.style_set||(Ki.style_set=!0,Ki._add_css(t+"\n\n.recaptcha_is_showing_audio .recaptcha_only_if_image,.recaptcha_isnot_showing_audio .recaptcha_only_if_audio,.recaptcha_had_incorrect_sol .recaptcha_only_if_no_incorrect_sol,.recaptcha_nothad_incorrect_sol .recaptcha_only_if_incorrect_sol{display:none !important}"))},_init_builtin_theme:function(){var t=Ki.$,e=Ki._get_static_url_root(),i=v.VertCss,n=v.VertHtml,s=e+"/img/"+Ki.theme,a="gif",e=Ki.theme;"clean"==e&&(i=v.CleanCss,n=v.CleanHtml,a="png"),i=i.replace(/IMGROOT/g,s),Ki._set_style(i),Ki.update_widget(),Ki.widget.innerHTML='<div id="recaptcha_area">'+n+"</div>",i=Ki.getLang_(),t("recaptcha_privacy")&&null!=i&&"en"==i.substring(0,2).toLowerCase()&&null!=Xi.privacy_and_terms&&0<Xi.privacy_and_terms.length&&(i=document.createElement("a"),i.href="http://www.google.com/intl/en/policies/",i.target="_blank",i.innerHTML=Xi.privacy_and_terms,t("recaptcha_privacy").appendChild(i)),i=function(e,i,n,r){var o=t(e);o.src=s+"/"+i+"."+a,i=Xi[n],o.alt=i,e=t(e+"_btn"),e.title=i,Ki.attachEvent(e,"click",r)},i("recaptcha_reload","refresh","refresh_btn",function(){Ki.reload_internal("r")}),i("recaptcha_switch_audio","audio","audio_challenge",function(){Ki.switch_type("audio")}),i("recaptcha_switch_img","text","visual_challenge",function(){Ki.switch_type("image")}),i("recaptcha_whatsthis","help","help_btn",Ki.showhelp),"clean"==e&&(t("recaptcha_logo").src=s+"/logo."+a),t("recaptcha_table").className="recaptchatable recaptcha_theme_"+Ki.theme,e=function(e,i){var n=t(e);n&&(RecaptchaState.rtl&&"span"==n.tagName.toLowerCase()&&(n.dir="rtl"),n.appendChild(document.createTextNode(Xi[i])))},e("recaptcha_instructions_image","instructions_visual"),e("recaptcha_instructions_audio","instructions_audio"),e("recaptcha_instructions_error","incorrect_try_again"),t("recaptcha_instructions_image")||t("recaptcha_instructions_audio")||(e="audio"==Ki.type?Xi.instructions_audio:Xi.instructions_visual,e=e.replace(/:$/,""),t("recaptcha_response_field").setAttribute("placeholder",e))},_finish_widget:function(){var t=Ki.$,e=Qi,i=e.theme;i in{blackglass:1,clean:1,custom:1,red:1,white:1}||(i="red"),Ki.theme||(Ki.theme=i),"custom"!=Ki.theme?Ki._init_builtin_theme():Ki._set_style(""),i=document.createElement("span"),i.id="recaptcha_challenge_field_holder",i.style.display="none",t("recaptcha_response_field").parentNode.insertBefore(i,t("recaptcha_response_field")),t("recaptcha_response_field").setAttribute("autocomplete","off"),t("recaptcha_image").style.width="300px",t("recaptcha_image").style.height="57px",t("recaptcha_challenge_field_holder").innerHTML='<input type="hidden" name="recaptcha_challenge_field" id="recaptcha_challenge_field" value=""/>',Ki.th_init(),Ki.should_focus=!1,Ki.th3||Ki.force_reload?(Ki._set_challenge(RecaptchaState.challenge,"image",!0),setTimeout(function(){Ki.reload_internal("i")},100)):Ki._set_challenge(RecaptchaState.challenge,"image",!1),Ki.updateTabIndexes_(),Ki.update_widget(),Ki.widget&&(Ki.widget.style.display=""),e.callback&&e.callback()},updateTabIndexes_:function(){var t=Ki.$,e=Qi;e.tabindex&&(e=e.tabindex,t("recaptcha_response_field").tabIndex=e++,"audio"==Ki.type&&t("recaptcha_audio_play_again")&&(t("recaptcha_audio_play_again").tabIndex=e++,t("recaptcha_audio_download"),t("recaptcha_audio_download").tabIndex=e++),"custom"!=Ki.theme&&(t("recaptcha_reload_btn").tabIndex=e++,t("recaptcha_switch_audio_btn").tabIndex=e++,t("recaptcha_switch_img_btn").tabIndex=e++,t("recaptcha_whatsthis_btn").tabIndex=e,t("recaptcha_privacy").tabIndex=e++))},switch_type:function(t){if(!((new Date).getTime()<Ki.reload_timeout)&&(Ki.type=t,Ki.reload_internal("audio"==Ki.type?"a":"v"),"custom"!=Ki.theme)){t=Ki.$;var e="audio"==Ki.type?Xi.instructions_audio:Xi.instructions_visual,e=e.replace(/:$/,"");t("recaptcha_response_field").setAttribute("placeholder",e)}},reload:function(){Ki.reload_internal("r")},reload_internal:function(t){var e=Qi,i=RecaptchaState,n=(new Date).getTime();n<Ki.reload_timeout||(Ki.reload_timeout=n+1e3,void 0===t&&(t="r"),n=Ki._get_api_server()+"/reload?c="+i.challenge+"&k="+i.site+"&reason="+t+"&type="+Ki.type,Ki.getLang_()&&(n+="&lang="+Ki.getLang_()),void 0!==e.extra_challenge_params&&(n+="&"+e.extra_challenge_params),Ki.th_callback_invoke(),Ki.th1&&(n+="&th="+Ki.th1,Ki.th1=""),"audio"==Ki.type&&(n=e.audio_beta_12_08?n+"&audio_beta_12_08=1":n+"&new_audio_default=1"),Ki.should_focus="t"!=t&&"i"!=t,Ki._add_script(n),$t(Ki.ad_captcha_plugin),i.publisher_id=null)},th_callback_invoke:function(){if(Ki.th3)try{var t=Ki.th3.exec();t&&1600>t.length&&(Ki.th1=t)}catch(t){Ki.th1=""}},finish_reload:function(t,e,i,n){RecaptchaState.payload_url=i,RecaptchaState.is_incorrect=!1,RecaptchaState.publisher_id=n,Ki._set_challenge(t,e,!1),Ki.updateTabIndexes_()},_set_challenge:function(t,e,i){"image"==e&&RecaptchaState.publisher_id?ji(t,function(){Ki._set_challenge_internal(t,e,i)}):Ki._set_challenge_internal(t,e,i)},_set_challenge_internal:function(t,e,i){var n=Ki.$,s=RecaptchaState;s.challenge=t,Ki.type=e,n("recaptcha_challenge_field").value=s.challenge,i||("audio"==e?(n("recaptcha_image").innerHTML=Ki.getAudioCaptchaHtml(),Ki._loop_playback()):"image"==e&&(t=s.payload_url,t||(t=Ki._get_api_server()+"/image?c="+s.challenge,Ki.th_callback_invoke(),Ki.th1&&(t+="&th="+Ki.th1,Ki.th1="")),Ni(n("recaptcha_widget_div")),Di()?Ki.ad_captcha_plugin=new Vi(rt(),t,function(t){RecaptchaState.challenge=t,n("recaptcha_challenge_field").value=t}):n("recaptcha_image").innerHTML='<img id="recaptcha_challenge_image" alt="'+Xi.image_alt_text+'" height="57" width="300" src="'+t+'" />',Mi())),Ki._css_toggle("recaptcha_had_incorrect_sol","recaptcha_nothad_incorrect_sol",s.is_incorrect),Ki._css_toggle("recaptcha_is_showing_audio","recaptcha_isnot_showing_audio","audio"==e),Ki._clear_input(),Ki.should_focus&&Ki.focus_response_field(),Ki._reset_timer()},_reset_timer:function(){clearInterval(Ki.timer_id);var t=Math.max(1e3*(RecaptchaState.timeout-60),6e4);return Ki.timer_id=setInterval(function(){Ki.reload_internal("t")},t),t},showhelp:function(){window.open(Ki._get_help_link(),"recaptcha_popup","width=460,height=580,location=no,menubar=no,status=no,toolbar=no,scrollbars=yes,resizable=yes")},_clear_input:function(){Ki.$("recaptcha_response_field").value=""},_displayerror:function(t){var e=Ki.$;e("recaptcha_image").innerHTML="",e("recaptcha_image").appendChild(document.createTextNode(t))},reloaderror:function(t){Ki._displayerror(t)},_is_ie:function(){return 0<navigator.userAgent.indexOf("MSIE")&&!window.opera},_css_toggle:function(t,e,i){Ki.update_widget();var n=Ki.widget;n||(n=document.body);var s=n.className,s=s.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," "),s=s.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ");n.className=s+" "+(i?t:e)},_get_help_link:function(){var t=Ki._get_api_server().replace(/\/[a-zA-Z0-9]+\/?$/,"/help"),t=t+"?c="+RecaptchaState.challenge;return Ki.getLang_()&&(t+="&hl="+Ki.getLang_()),t},playAgain:function(){Ki.$("recaptcha_image").innerHTML=Ki.getAudioCaptchaHtml(),Ki._loop_playback()},_loop_playback:function(){var t=Ki.$("recaptcha_audio_play_again");t&&Ki.attachEvent(t,"click",function(){return Ki.playAgain(),!1})},getAudioCaptchaHtml:function(){var t=RecaptchaState.payload_url;t||(t=Ki._get_api_server()+"/audio.mp3?c="+RecaptchaState.challenge,Ki.th_callback_invoke(),Ki.th1&&(t+="&th="+Ki.th1,Ki.th1=""));var e=Ki._get_api_server()+"/swf/audiocaptcha.swf?v2",e=Ki._is_ie()?'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="audiocaptcha" width="0" height="0" codebase="https://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"><param name="movie" value="'+e+'" /><param name="quality" value="high" /><param name="bgcolor" value="#869ca7" /><param name="allowScriptAccess" value="always" /></object><br/>':'<embed src="'+e+'" quality="high" bgcolor="#869ca7" width="0" height="0" name="audiocaptcha" align="middle" play="true" loop="false" quality="high" allowScriptAccess="always" type="application/x-shockwave-flash" pluginspage="http://www.adobe.com/go/getflashplayer" /></embed>',i="";return Ki.checkFlashVer()&&(i="<br/>"+Ki.getSpan_('<a id="recaptcha_audio_play_again" class="recaptcha_audio_cant_hear_link">'+Xi.play_again+"</a>")),i+="<br/>"+Ki.getSpan_('<a id="recaptcha_audio_download" class="recaptcha_audio_cant_hear_link" target="_blank" href="'+t+'">'+Xi.cant_hear_this+"</a>"),e+i},getSpan_:function(t){return"<span"+(RecaptchaState&&RecaptchaState.rtl?' dir="rtl"':"")+">"+t+"</span>"},gethttpwavurl:function(){if("audio"!=Ki.type)return"";var t=RecaptchaState.payload_url;return t||(t=Ki._get_api_server()+"/image?c="+RecaptchaState.challenge,Ki.th_callback_invoke(),Ki.th1&&(t+="&th="+Ki.th1,Ki.th1="")),t},checkFlashVer:function(){var t=-1!=navigator.appVersion.indexOf("MSIE"),e=-1!=navigator.appVersion.toLowerCase().indexOf("win"),i=-1!=navigator.userAgent.indexOf("Opera"),n=-1;if(null!=navigator.plugins&&0<navigator.plugins.length)(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"])&&(n=navigator.plugins["Shockwave Flash"+(navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"")].description.split(" ")[2].split(".")[0]);else if(t&&e&&!i)try{n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7").GetVariable("$version").split(" ")[1].split(",")[0]}catch(t){}return 9<=n},getLang_:function(){return Qi.lang?Qi.lang:"undefined"!=typeof RecaptchaState&&RecaptchaState.lang?RecaptchaState.lang:null},challenge_callback:function(){if(Ki.force_reload=!!RecaptchaState.force_reload,RecaptchaState.t3){var t=RecaptchaState.t1?Ct(It(RecaptchaState.t1)):"",i=RecaptchaState.t2?Ct(It(RecaptchaState.t2)):"",n=RecaptchaState.t3?Ct(It(RecaptchaState.t3)):"";if(Ki.th2=n,t)i=Te(t),_e(i,Ki.challenge_callback_internal,null,void 0),_e(i,null,Ki.challenge_callback_internal,void 0);else{if(e.execScript)e.execScript(i,"JavaScript");else{if(!e.eval)throw Error("goog.globalEval not available");null==m&&(e.eval("var _et_ = 1;"),void 0!==e._et_?(delete e._et_,m=!0):m=!1),m?e.eval(i):(t=e.document,n=t.createElement("script"),n.type="text/javascript",n.defer=!1,n.appendChild(t.createTextNode(i)),t.body.appendChild(n),t.body.removeChild(n))}Ki.challenge_callback_internal()}}else Ki.challenge_callback_internal()},th_init:function(){try{e.thintinel&&e.thintinel.th&&(Ki.th3=new e.thintinel.th(Ki.th2),Ki.th2="")}catch(t){}},update_widget:function(){Ki.element&&(Ki.widget=Ki.$(Ki.element))}};f("Recaptcha",Ki)}(),sumo.define("recaptcha",function(){}),sumo.define("es6!services/contact-form/index",["jquery","underscore","postscribe","articles","jquery.style","recaptcha","jquery.displayrules"],function(t,e,i,n){t.fn.unstatic=function(){return t(this).addClass("sumome-article"),"static"==t(this).css("position")&&t(this).css("position","relative"),"content-box"==t(this).css("box-sizing")&&t(this).css("box-sizing","border-box"),this};var s=function t(e){var i,n,s,a;return e.toHex&&(e="#"+e.toHex()),e.match(/^rgb/)?(e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/),i=e[1],s=e[2],n=e[3]):(e=+("0x"+e.slice(1).replace(e.length<5&&/./g,"$&$&")),i=e>>16,s=e>>8&255,n=255&e),a=Math.sqrt(i*i*.299+s*s*.587+n*n*.114),a>127.5?"light":"dark"},a={settings:{},forms:[],tabs:[],articles:[],load:function e(){this.articles=t(n.findAll()),this.settings.firstArticle=this.articles.filter(":first"),this.settings.lastArticle=this.articles.filter(":last"),a.api.on("822aaf16-c4d6-4241-911a-41567c68b443/service/settings",t.proxy(function(t){t.display_rules&&(this.settings.display_rules=t.display_rules),t.positions&&(this.settings.positions=t.positions),"use_captcha"in t&&(this.settings.useCaptcha=t.use_captcha),t.recaptcha_public_key&&(this.settings.recaptchaPublicKey=t.recaptcha_public_key),t.captcha_language&&(this.settings.captchaLanguage=t.captcha_language),t.heading_text&&(this.settings.headingText=t.heading_text),t.email_placeholder_text&&(this.settings.emailPlaceholderText=t.email_placeholder_text),t.body_placeholder_text&&(this.settings.bodyPlaceholderText=t.body_placeholder_text),t.continue_heading_text&&(this.settings.continueHeadingText=t.continue_heading_text),t.continue_blurb_text&&(this.settings.continueBlurbText=t.continue_blurb_text),t.continue_button_text&&(this.settings.continueButtonText=t.continue_button_text),t.tab_background_color&&(this.settings.tabBackColor=t.tab_background_color),t.pixels_shown&&(this.settings.pixelsShown=t.pixels_shown),t.pixels_conversion&&(this.settings.pixelsConversion=t.pixels_conversion),t.tab_text&&(this.settings.tabText=t.tab_text),t.tab_text_color&&(this.settings.tabTextColor=t.tab_text_color),t.modal_color&&(this.settings.modalColor=t.modal_color),t.heading_color&&(this.settings.headingColor=t.heading_color),t.text_color&&(this.settings.textColor=t.text_color),t.heading_font&&(this.settings.headingFont=t.heading_font),t.text_font&&(this.settings.textFont=t.text_font),t.button_text&&(this.settings.buttonText=t.button_text),t.button_back_color&&(this.settings.buttonBackColor=t.button_back_color),t.button_fore_color&&(this.settings.buttonForeColor=t.button_fore_color),t.content_width&&(this.settings.contentWidth=t.content_width),t.contactFormTemplate&&(this.settings.template=t.contactFormTemplate.id),t.contactFormTemplate&&(this.settings.templateHtml=t.contactFormTemplate.html),t.media_id&&(this.settings.mediaId=t.media_id),this.destroy(!0)},this)),t.ajax({type:"POST",dataType:"json",url:this.sumoProperties.sumoUrl+"/apps/contactform/load",data:{site_id:this.sumoProperties.siteId,href:window.location.href||null,geoLocation:this.sumoProperties.geoLocation,pageViews:this.sumoProperties.views,userAgent:navigator.userAgent},xhrFields:{withCredentials:!1},crossDomain:!0}).done(t.proxy(function(e){e&&"success"in e&&e.success&&(this.settings.display_rules=e.display_rules,this.settings.positions=e.positions,this.settings.useCaptcha=e.use_captcha,this.settings.recaptchaPublicKey=e.recaptcha_public_key,this.settings.captchaLanguage=e.captcha_language,this.settings.headingText=e.heading_text,this.settings.emailPlaceholderText=e.email_placeholder_text,this.settings.bodyPlaceholderText=e.body_placeholder_text,this.settings.continueHeadingText=e.continue_heading_text,this.settings.continueBlurbText=e.continue_blurb_text,this.settings.continueButtonText=e.continue_button_text,this.settings.pixelsShown=e.pixels_shown,this.settings.pixelsConversion=e.pixels_conversion,this.settings.tabText=e.tab_text,this.settings.tabBackColor=e.tab_background_color,this.settings.tabTextColor=e.tab_text_color,this.settings.modalColor=e.modal_color,this.settings.headingColor=e.heading_color,this.settings.textColor=e.text_color,this.settings.buttonText=e.button_text,this.settings.buttonBackColor=e.button_back_color,this.settings.buttonForeColor=e.button_fore_color,this.settings.headingFont=e.heading_font,this.settings.textFont=e.text_font,this.settings.contentWidth=e.content_width,this.settings.template=e.contactFormTemplate?e.contactFormTemplate.id:null,this.settings.templateHtml=e.contactFormTemplate?e.contactFormTemplate.html:null,this.settings.templateSlug=e.contactFormTemplate?e.contactFormTemplate.slug:null,this.settings.mediaId=e.media_id?e.media_id:null,this.settings.timestamp=e.timestamp,this.settings.uuid=e.uuid,this.settings.hash=e.hash,this.settings.hasContactForm=e.hasContactForm,this.settings.noSumoBranding=e.noSumoBranding,this.settings.ctry=!(!this.sumoProperties.geoLocation||!this.sumoProperties.geoLocation.ctry)&&this.sumoProperties.geoLocation.ctry,this.settings.views=this.sumoProperties.views?this.sumoProperties.views:1,this.settings.reflink="https://sumo.com/?src=sm-cf-"+this.sumoProperties.siteId+"&utm_source=sumo-powered-by&utm_medium=contact-form&utm_campaign="+this.sumoProperties.siteId,t.isCurrentUrlAllowed(this.settings.display_rules,null,this.settings.ctry,this.settings.views)&&this.install())},a))},findAndStyleElements:function t(){this.$headingEl=this.$template.find(".sumome-contactform-heading"),this.$textEl=this.$template.find(".sumome-contactform-text"),this.$inputEl=this.$template.find(".sumome-contactform-input"),this.$textAreaEl=this.$template.find(".sumome-contactform-textarea"),this.$buttonEl=this.$template.find(".sumome-contactform-button"),this.$buttonTextEl=this.$template.find(".sumome-contactform-button-text"),this.$continueButtonEl=this.$template.find(".sumome-contactform-continue"),this.$continueButtonTextEl=this.$template.find(".sumome-contactform-continue-text"),this.settings.noSumoBranding||(this.$continueButtonEl.after('<div class="sumome-contactform-link-div"><a class="sumome-contactform-link" href="'+this.settings.reflink+'" target="_blank">Powered by Sumo</a></div>'),this.$poweredEl=this.$template.find(".sumome-contactform-link"),this.$poweredEl.style("color",this.settings.textColor,"important")),this.$errorEl=this.$template.find(".sumome-contactform-form div.sumome-contactform-error").hide(),this.$closeButton=this.$template.find(".sumome-contactform-close"),this.$closeButton.style("color",this.settings.textColor,"important"),this.$template.style("background-color","transparent","important")},shadeColor:function t(e,i){e=e.toString();var n=parseInt(e.slice(1),16),s=Math.round(2.55*i),a=(n>>16)+s,r=(n>>8&255)+s,o=(255&n)+s;return"#"+(16777216+65536*(a<255?a<1?0:a:255)+256*(r<255?r<1?0:r:255)+(o<255?o<1?0:o:255)).toString(16).slice(1)},addLoader:function e(i){var n=t("<span>&#8226;</span>").addClass("sumome-button-loading-dot");i.html(""),i.append(n.clone()).append(n.clone()).append(n.clone()).append(n.clone()),i.counter=0,i.loadingDotInterval=setInterval(t.proxy(function(){var t=i.counter%4,e=parseInt(i.counter/4)%2,n=i.find("span.sumome-button-loading-dot").eq(t);e?n.animate({opacity:0}):n.animate({opacity:1}),i.counter++},this),200)},resizeHandler:function e(){var i=t(".sumome-contactform-pullouttab-bottom-center"),n=t(".sumome-contactform-sticky-bottom-center-page");if(i&&i.length&&i.is(":visible")){var s=i.width();i.css("left",t(window).width()/2-s/2)}if(n&&n.length&&n.is(":visible")){var s=n.width();n.css("left",t(window).width()/2-s/2)}},removeLoader:function t(e,i){e.counter=0,clearInterval(e.loadingDotInterval),e.html("")},sendMessage:function e(n,s,a,r,o,l,c){n.$buttonEl.data("sumome-disabled",!0),n.$errorEl.text("").hide(),this.addLoader(n.$buttonEl),t.ajax({type:"POST",dataType:"json",url:this.sumoProperties.sumoUrl+"/apps/contactform/sendmessage",data:{site_id:this.sumoProperties.siteId,email_address:s,message:a,msgpot:r,current_url:window.location.href,timestamp:o,uuid:l,hash:c,recaptcha_challenge_field:t("#recaptcha_challenge_field").val(),recaptcha_response_field:t("#recaptcha_response_field").val()},xhrFields:{withCredentials:!1},crossDomain:!0}).done(t.proxy(function(e){if(this.removeLoader(n.$buttonEl),e&&"success"in e&&e.success){if(this.api.emit("event",{appId:"822aaf16-c4d6-4241-911a-41567c68b443",event:"message"}),n.$inputEl.hide(),n.$textAreaEl.hide(),n.$buttonEl.hide(),n.$buttonEl.text(this.settings.buttonText),n.$continueButtonEl.show(),n.$textEl.show(),n.$headingEl.text(this.settings.continueHeadingText),e.timestamp&&e.uuid&&e.hash&&(n.$hiddenTimestampEl.val(e.timestamp),n.$hiddenUuidEl.val(e.uuid),n.$hiddenHashEl.val(e.hash)),this.settings.useCaptcha&&(n.find("div#recaptcha_widget").hide(),Recaptcha.reload()),this.settings.hasContactForm&&this.settings.pixelsConversion){var s=t('<div style="position:absolute !important;width:0 !important;height:0 !important;top:0px !important;left:0px !important;margin:0 !important;padding:0 !important;font-size:0 !important;background:transparent !important;"></div>');t("body").append(s),i.postscribe(s.get(0),this.settings.pixelsConversion)}}else n.$buttonEl.text(this.settings.buttonText),n.$errorEl.text(e.error).show(),window.clearTimeout(n.timer),n.timer=setTimeout(t.proxy(function(){n.$errorEl.text("").hide()},this),5e3),e&&"recaptcha_form"in e&&(Recaptcha.reload(),n.$textAreaEl.after(this.$recaptchaWidgetEl)),setTimeout(t.proxy(function(){n.$buttonEl.data("sumome-disabled",!1)},this),1e3)},this))},addEventListeners:function e(i,n){if(i.$buttonEl=i.find(".sumome-contactform-button"),i.$textAreaEl=i.find(".sumome-contactform-textarea"),i.$inputEl=i.find(".sumome-contactform-input"),i.$continueButtonEl=i.find(".sumome-contactform-continue"),i.$textEl=i.find(".sumome-contactform-text"),i.$headingEl=i.find(".sumome-contactform-heading"),i.$closeButton=i.find(".sumome-contactform-close"),i.$captchaEl=i.find(".sumome-contactform-captcha"),i.$errorEl=i.find(".sumome-contactform-error"),i.$hiddenTimestampEl=i.find(".sumome-contactform-timestamp"),i.$hiddenUuidEl=i.find(".sumome-contactform-uuid"),i.$hiddenHashEl=i.find(".sumome-contactform-hash"),["sumome-contactform-sbp","sumome-contactform-lp","sumome-contactform-rp","sumome-contactform-mbl","sumome-contactform-mbr"].indexOf(i.attr("id"))<0&&(i.$inputEl.on("focus",t.proxy(function(t){i.addClass("sumome-contactform-focused")},this)),i.$textAreaEl.on("focus",t.proxy(function(t){i.addClass("sumome-contactform-focused")},this)),i.$inputEl.on("blur",t.proxy(function(e){setTimeout(t.proxy(function(){t(document.activeElement).parents("#"+i.attr("id")).length||i.removeClass("sumome-contactform-focused")},this))},this)),i.$textAreaEl.on("blur",t.proxy(function(e){setTimeout(t.proxy(function(){t(document.activeElement).parents("#"+i.attr("id")).length||i.removeClass("sumome-contactform-focused")},this))},this)),i.$buttonEl.on("blur",t.proxy(function(e){setTimeout(t.proxy(function(){t(document.activeElement).parents("#"+i.attr("id")).length||i.removeClass("sumome-contactform-focused")},this))},this)),i.$inputEl.on("keydown",t.proxy(function(t){13===t.keyCode&&i.$buttonEl.trigger("click")},this))),i.$buttonEl.on("click",t.proxy(function(){if(!i.continueMode&&!i.$buttonEl.data("sumome-disabled")){var e=/\S+@\S+\.\S/,n=i.$inputEl.val().trim(),s=i.$textAreaEl.val().trim(),a=i.find(".sumome-contactform-msgpot").val().trim(),r=i.find(".sumome-contactform-timestamp").val().trim(),o=i.find(".sumome-contactform-uuid").val().trim(),l=i.find(".sumome-contactform-hash").val().trim();e.test(n)&&i.$textAreaEl.val().trim().length>1&&(!this.settings.useCaptcha||this.settings.useCaptcha&&t("#recaptcha_challenge_field").val()&&t("#recaptcha_response_field").val())?this.sendMessage(i,n,s,a,r,o,l):(i.removeClass("sumome-animated sumome-shake"),i.get(0).offsetWidth=i.get(0).offsetWidth,i.addClass("sumome-animated sumome-shake"))}},this)),i.$continueButtonEl.on("click",t.proxy(function(){i.$textAreaEl.val(""),i.$inputEl.show(),i.$textAreaEl.show(),i.$buttonEl.show(),i.$continueButtonEl.hide(),i.$textEl.hide(),i.$headingEl.text(this.settings.headingText),i.$buttonEl.data("sumome-disabled",!1),n&&(n.hasClass("sumome-contactform-pullouttab-left")&&i.addClass("sumome-contactform-left-page-hidden"),n.hasClass("sumome-contactform-pullouttab-right")&&i.addClass("sumome-contactform-right-page-hidden"),(n.hasClass("sumome-contactform-pullouttab-bottom-left")||n.hasClass("sumome-contactform-pullouttab-bottom-center")||n.hasClass("sumome-contactform-pullouttab-bottom-right"))&&i.addClass("sumome-contactform-sticky-bottom-page-hidden"),i.removeClass("sumome-contactform-focused"),n.show(),this.resizeHandler())},this)),n&&(n.on("click",t.proxy(function(){n.hasClass("sumome-contactform-pullouttab-left")&&i.toggleClass("sumome-contactform-left-page-hidden"),n.hasClass("sumome-contactform-pullouttab-right")&&i.toggleClass("sumome-contactform-right-page-hidden"),(n.hasClass("sumome-contactform-pullouttab-bottom-left")||n.hasClass("sumome-contactform-pullouttab-bottom-center")||n.hasClass("sumome-contactform-pullouttab-bottom-right"))&&i.toggleClass("sumome-contactform-sticky-bottom-page-hidden"),i.hasClass("sumome-contactform-left-page-hidden")||i.hasClass("sumome-contactform-right-page-hidden")||i.hasClass("sumome-contactform-sticky-bottom-page-hidden")?(i.removeClass("sumome-contactform-focused"),n.show(),this.resizeHandler()):(i.addClass("sumome-contactform-focused"),n.hide(),this.resizeHandler())},this)),i.$closeButton.on("click",t.proxy(function(){n.hasClass("sumome-contactform-pullouttab-left")&&i.toggleClass("sumome-contactform-left-page-hidden"),n.hasClass("sumome-contactform-pullouttab-right")&&i.toggleClass("sumome-contactform-right-page-hidden"),(n.hasClass("sumome-contactform-pullouttab-bottom-left")||n.hasClass("sumome-contactform-pullouttab-bottom-center")||n.hasClass("sumome-contactform-pullouttab-bottom-right"))&&i.toggleClass("sumome-contactform-sticky-bottom-page-hidden"),i.hasClass("sumome-contactform-left-page-hidden")||i.hasClass("sumome-contactform-right-page-hidden")||i.hasClass("sumome-contactform-sticky-bottom-page-hidden")?(i.removeClass("sumome-contactform-focused"),n.show(),this.resizeHandler()):(i.addClass("sumome-contactform-focused"),n.hide(),this.resizeHandler())},this)),this.tabs.push(n)),this.settings.useCaptcha&&i.find("div.sumome-contactform-captcha")){var a=function e(n){var a={en:{instructions_visual:"Type the text",instructions_audio:"Type what you hear"},nl:{instructions_visual:"Typ de tekst",instructions_audio:"Typ wat u hoort"},fr:{instructions_visual:"Obtenir un test visuel",instructions_audio:"Obtenir un test audio"},de:{instructions_visual:"Geben Sie den angezeigten Text ein",instructions_audio:"Geben Sie das Gehörte ein"},pt:{instructions_visual:"Introduza o texto",instructions_audio:"Escreva o que ouvir"},ru:{instructions_visual:"Введите текст",instructions_audio:"Введите то, что слышите"},es:{instructions_visual:"Escriba el texto",instructions_audio:"Escribe lo que escuchas"},tr:{instructions_visual:"Metni yazın",instructions_audio:"Duyduğunuzu yazın"}},r=/\S+@\S+\.\S/,o=i.$inputEl.val().trim();if(!i.find("div#recaptcha_widget").length&&r.test(o)&&i.$textAreaEl.val().trim().length>1)if(this.$recaptchaWidgetEl)i.$textAreaEl.after(this.$recaptchaWidgetEl),this.$recaptchaWidgetEl.show();else{this.$recaptchaWidgetEl=t("<div></div>").attr("id","recaptcha_widget").css("display","none"),this.$captchaImageEl=t("<div></div>").attr("id","recaptcha_image"),this.$captchaImageErrorEl=t("<div></div>").addClass("recaptcha_only_if_incorrect_sol"),this.$captchaResponseEl=t('<input name="recaptcha_response_field" id="recaptcha_response_field" type="text" placeholder="'+a[this.settings.captchaLanguage].instructions_visual+'"/>');var l=s(this.settings.buttonBackColor);l="light"==l?"black":"white",this.$buttonContainer=t("<div></div>").addClass("sumome-captcha-button-container"),this.$captchaReloadBtn=t('<button><img src="'+this.sumoProperties.sumoUrl+"/client/images/apps/822aaf16-c4d6-4241-911a-41567c68b443/captcha-refresh-"+l+'.png"></button>').attr("alt","Get a new captcha").addClass("sumome-recaptcha-btn").attr("tabindex","-1"),this.$captchaAudioBtn=t('<button><img src="'+this.sumoProperties.sumoUrl+"/client/images/apps/822aaf16-c4d6-4241-911a-41567c68b443/captcha-audio-"+l+'.png"></button>').attr("alt","Get an audio captcha").addClass("sumome-recaptcha-btn").attr("tabindex","-1"),this.$captchaImageBtn=t('<button><img src="'+this.sumoProperties.sumoUrl+"/client/images/apps/822aaf16-c4d6-4241-911a-41567c68b443/captcha-image-"+l+'.png"></button>').attr("alt","Get an image captcha").css("display","none").addClass("sumome-recaptcha-btn").attr("tabindex","-1"),this.$captchaHelpBtn=t('<button><img src="'+this.sumoProperties.sumoUrl+"/client/images/apps/822aaf16-c4d6-4241-911a-41567c68b443/captcha-help-"+l+'.png"></button>').attr("alt","Get captcha help").addClass("sumome-recaptcha-btn").attr("tabindex","-1"),this.$captchaReloadBtn.style("background-color",this.settings.buttonBackColor,"important"),this.$captchaReloadBtn.style("border-bottom-color",this.shadeColor(this.settings.buttonBackColor,-10),"important"),this.$captchaAudioBtn.style("background-color",this.settings.buttonBackColor,"important"),this.$captchaAudioBtn.style("border-bottom-color",this.shadeColor(this.settings.buttonBackColor,-10),"important"),this.$captchaImageBtn.style("background-color",this.settings.buttonBackColor,"important"),this.$captchaImageBtn.style("border-bottom-color",this.shadeColor(this.settings.buttonBackColor,-10),"important"),this.$captchaHelpBtn.style("background-color",this.settings.buttonBackColor,"important"),this.$captchaHelpBtn.style("border-bottom-color",this.shadeColor(this.settings.buttonBackColor,-10),"important");var c=["sumome-contactform-lp","sumome-contactform-rp","sumome-contactform-mbl","sumome-contactform-mbr"];this.$captchaReloadBtn.on("focus",t.proxy(function(e){var i=t(e.target).parents(".sumome-contactform").attr("id");c.indexOf(i)<0&&t("#"+i).addClass("sumome-contactform-focused")},this)),this.$captchaAudioBtn.on("focus",t.proxy(function(e){var i=t(e.target).parents(".sumome-contactform").attr("id");c.indexOf(i)<0&&t("#"+i).addClass("sumome-contactform-focused")},this)),this.$captchaImageBtn.on("focus",t.proxy(function(e){var i=t(e.target).parents(".sumome-contactform").attr("id");c.indexOf(i)<0&&t("#"+i).addClass("sumome-contactform-focused")},this)),this.$captchaHelpBtn.on("focus",t.proxy(function(e){var i=t(e.target).parents(".sumome-contactform").attr("id");c.indexOf(i)<0&&t("#"+i).addClass("sumome-contactform-focused")},this)),this.$captchaResponseEl.on("focus",t.proxy(function(e){var i=t(e.target).parents(".sumome-contactform").attr("id");c.indexOf(i)<0&&t("#"+i).addClass("sumome-contactform-focused")},this)),this.$captchaReloadBtn.on("blur",t.proxy(function(e){var i=t(e.target).parents(".sumome-contactform").attr("id");c.indexOf(i)<0&&setTimeout(t.proxy(function(){t(document.activeElement).parents("#"+i).length||t("#"+i).removeClass("sumome-contactform-focused")},this))},this)),this.$captchaAudioBtn.on("blur",t.proxy(function(e){var i=t(e.target).parents(".sumome-contactform").attr("id");c.indexOf(i)<0&&setTimeout(t.proxy(function(){t(document.activeElement).parents("#"+i).length||t("#"+i).removeClass("sumome-contactform-focused")},this))},this)),this.$captchaImageBtn.on("blur",t.proxy(function(e){var i=t(e.target).parents(".sumome-contactform").attr("id");c.indexOf(i)<0&&setTimeout(t.proxy(function(){t(document.activeElement).parents("#"+i).length||t("#"+i).removeClass("sumome-contactform-focused")},this))},this)),this.$captchaHelpBtn.on("blur",t.proxy(function(e){var i=t(e.target).parents(".sumome-contactform").attr("id");c.indexOf(i)<0&&setTimeout(t.proxy(function(){t(document.activeElement).parents("#"+i).length||t("#"+i).removeClass("sumome-contactform-focused")},this))},this)),this.$captchaResponseEl.on("blur",t.proxy(function(e){var i=t(e.target).parents(".sumome-contactform").attr("id");c.indexOf(i)<0&&setTimeout(t.proxy(function(){t(document.activeElement).parents("#"+i).length||t("#"+i).removeClass("sumome-contactform-focused")},this))},this)),this.$captchaReloadBtn.on("click",t.proxy(function(t){Recaptcha.reload()},this)),this.$captchaAudioBtn.on("click",t.proxy(function(t){Recaptcha.switch_type("audio"),this.$captchaImageBtn.show(),this.$captchaAudioBtn.hide(),this.$captchaResponseEl.attr("placeholder",a[this.settings.captchaLanguage].instructions_audio)},this)),this.$captchaImageBtn.on("click",t.proxy(function(t){Recaptcha.switch_type("image"),this.$captchaImageBtn.hide(),this.$captchaAudioBtn.show(),this.$captchaResponseEl.attr("placeholder",a[this.settings.captchaLanguage].instructions_visual)},this)),this.$captchaHelpBtn.on("click",t.proxy(function(t){Recaptcha.showhelp()},this)),this.$buttonContainer.append(this.$captchaImageEl),this.$buttonContainer.append(this.$captchaReloadBtn),
this.$buttonContainer.append(this.$captchaAudioBtn),this.$buttonContainer.append(this.$captchaImageBtn),this.$buttonContainer.append(this.$captchaHelpBtn),this.$recaptchaWidgetEl.append(this.$buttonContainer),this.$recaptchaWidgetEl.append(this.$captchaImageErrorEl),this.$recaptchaWidgetEl.append(this.$captchaResponseEl),i.$textAreaEl.after(this.$recaptchaWidgetEl),this.$recaptchaWidgetEl.show(),Recaptcha.create(this.settings.recaptchaPublicKey,i.find("div.sumome-contactform-captcha").attr("id"),{theme:"custom",custom_theme_widget:"recaptcha_widget",lang:this.settings.captchaLanguage,callback:this.styleRecaptcha(i)})}else i.find("div#recaptcha_widget").length&&this.$recaptchaWidgetEl&&!this.$recaptchaWidgetEl.is(":visible")&&r.test(o)&&i.$textAreaEl.val().trim().length>1&&(i.$textAreaEl.after(this.$recaptchaWidgetEl),this.$recaptchaWidgetEl.show())};i.$textAreaEl.on("change.sumomeRecaptcha paste keyup.sumomeRecaptcha focus.sumomeRecaptcha",t.proxy(a,this)),i.$inputEl.on("change.sumomeRecaptcha paste.sumomeRecaptcha keyup.sumomeRecaptcha focus.sumomeRecaptcha",t.proxy(a,this))}},styleRecaptcha:function e(){this.recaptchaInterval=setInterval(t.proxy(function(){this.$captchaImageEl.style("width")&&(this.$captchaImageEl.style("width","64%"),clearInterval(this.recaptchaInterval))},this),200)},install:function n(){var s=window.location.href;if(t(window).on("resize.sumome-contactform",e.debounce(function(t){a.resizeHandler()},300)),this.settings.template){this.$template=t("<div></div>"),this.settings.templateSlug&&this.$template.addClass("sumome-contactform-template-"+this.settings.templateSlug),this.$content=t("<div></div>"),this.$content.addClass("sumome-contactform-content"),this.$template.append(this.$content),this.$template.addClass("sumome-contactform"),this.$template.timer=null;var r=this.settings.templateHtml,o=r.match(/\{sm\:.*?\}/g);if(o){var l=[];o.forEach(t.proxy(function(t){var e=t.replace(/([\{\}]|sm\:)/g,""),i=e.split("|");if(i.length>1){var n=i[1].split(":");r=r.replace(t,this.shadeColor(this.settings[i[0]],parseInt(n[1])))}else if("Font"==e.substr(-4)){var s=this.settings[e];if(s){var a=s.split(":"),o=a[0].split(","),c=o.shift(),h=a[1]?a[1]:400;o.unshift("'"+c+"'"),o.length&&(r=r.replace(new RegExp(t,"g"),"font-family: "+o.join(",")+" !important;"),l.push(c.replace(/ /g,"+")+":"+h))}else r=r.replace(t,"")}else r=r.replace(t,this.settings[i[0]])},this)),l.length&&(l=t.unique(l),r='<link href="//fonts.googleapis.com/css?family='+l.join("|")+'" type="text/css" rel="stylesheet">'+r)}this.$content.append(r),this.findAndStyleElements(),this.$headingEl.text(this.settings.headingText),this.$inputEl.attr("placeholder",this.settings.emailPlaceholderText),this.$textAreaEl.attr("placeholder",this.settings.bodyPlaceholderText),this.$textAreaEl.after("<input name='msgpot' class='sumome-contactform-msgpot' type='text' style='display:none;'>"),this.$textAreaEl.after("<input name='timestamp' class='sumome-contactform-timestamp' type='hidden' value='"+this.settings.timestamp+"'>"),this.$textAreaEl.after("<input name='uuid' class='sumome-contactform-uuid' type='hidden' value='"+this.settings.uuid+"'>"),this.$textAreaEl.after("<input name='hash' class='sumome-contactform-hash' type='hidden' value='"+this.settings.hash+"'>"),this.$textEl.html(this.settings.continueBlurbText),this.settings.useCaptcha&&(this.$captchaEl=t("<div></div>").addClass("sumome-contactform-captcha"),this.$textAreaEl.after(this.$captchaEl)),this.$buttonEl.text(this.settings.buttonText),this.$continueButtonTextEl.text(this.settings.continueButtonText),this.$pulloutTab=t("<div></div>").addClass("sumome-contactform-pullouttab"),this.$pulloutTab.text(this.settings.tabText),this.$template.addClass("sumome-contactform-small");if(Math.min(window.screen.availWidth||t(window).width(),t(window).width())>480){if("positions"in this.settings&&this.settings.positions.indexOf("lp")>=0){var c=this.$template.clone(!0,!0),h=this.$pulloutTab.clone(!0,!0);h.addClass("sumome-contactform-pullouttab-left"),c.attr("id","sumome-contactform-lp"),this.addEventListeners(c,h),this.settings.useCaptcha&&c.$captchaEl.attr("id","sumome-contactform-captcha-lp"),c.addClass("sumome-contactform-left-page sumome-contactform-left-page-hidden sumome-contactform-fixed"),h.style("background-color",this.settings.tabBackColor,"important"),h.style("color",this.settings.tabTextColor,"important"),t("body").append(h),t("body").append(c),this.forms.push(c)}if("positions"in this.settings&&this.settings.positions.indexOf("rp")>=0){var u=this.$template.clone(!0,!0),h=this.$pulloutTab.clone(!0,!0);h.addClass("sumome-contactform-pullouttab-right"),u.attr("id","sumome-contactform-rp"),this.addEventListeners(u,h),this.settings.useCaptcha&&u.$captchaEl.attr("id","sumome-contactform-captcha-lp"),u.addClass("sumome-contactform-right-page sumome-contactform-right-page-hidden sumome-contactform-fixed"),h.style("background-color",this.settings.tabBackColor,"important"),h.style("color",this.settings.tabTextColor,"important"),h.find(""),t("body").append(h),t("body").append(u),this.forms.push(u)}if("positions"in this.settings&&(this.settings.positions.indexOf("sblp")>=0||this.settings.positions.indexOf("sbcp")>=0||this.settings.positions.indexOf("sbrp")>=0)){var d=this.$template.clone(!0,!0),h=this.$pulloutTab.clone(!0,!0);d.attr("id","sumome-contactform-sbp"),d.addClass("sumome-contactform-sticky-bottom-page-hidden"),this.settings.positions.indexOf("sblp")>=0&&(h.addClass("sumome-contactform-pullouttab-bottom-left"),d.addClass("sumome-contactform-sticky-bottom-left-page sumome-contactform-fixed")),this.settings.positions.indexOf("sbcp")>=0&&(h.addClass("sumome-contactform-pullouttab-bottom-center"),d.addClass("sumome-contactform-sticky-bottom-center-page sumome-contactform-fixed")),this.settings.positions.indexOf("sbrp")>=0&&(h.addClass("sumome-contactform-pullouttab-bottom-right"),d.addClass("sumome-contactform-sticky-bottom-right-page sumome-contactform-fixed")),this.addEventListeners(d,h),this.settings.useCaptcha&&d.$captchaEl.attr("id","sumome-contactform-captcha-sbp"),h.style("background-color",this.settings.tabBackColor,"important"),h.style("color",this.settings.tabTextColor,"important"),t("body").append(h),t("body").append(d),this.forms.push(d)}}else{if("positions"in this.settings&&this.settings.positions.indexOf("mbl")>=0){var p=this.$template.clone(!0,!0),h=this.$pulloutTab.clone(!0,!0);h.addClass("sumome-contactform-pullouttab-left"),p.attr("id","sumome-contactform-mbl"),this.addEventListeners(p,h),this.settings.useCaptcha&&p.$captchaEl.attr("id","sumome-contactform-captcha-mbl"),p.addClass("sumome-contactform-mobile sumome-contactform-left-page sumome-contactform-left-page-hidden sumome-contactform-fixed"),h.style("background-color",this.settings.tabBackColor,"important"),h.style("color",this.settings.tabTextColor,"important"),t("body").append(h),t("body").append(p),this.forms.push(p)}if("positions"in this.settings&&this.settings.positions.indexOf("mbr")>=0){var m=this.$template.clone(!0,!0),h=this.$pulloutTab.clone(!0,!0);h.addClass("sumome-contactform-pullouttab-right"),m.attr("id","sumome-contactform-mbr"),this.addEventListeners(m,h),this.settings.useCaptcha&&m.$captchaEl.attr("id","sumome-contactform-captcha-mbr"),m.addClass("sumome-contactform-mobile sumome-contactform-right-page sumome-contactform-right-page-hidden sumome-contactform-fixed"),h.style("background-color",this.settings.tabBackColor,"important"),h.style("color",this.settings.tabTextColor,"important"),h.find(""),t("body").append(h),t("body").append(m),this.forms.push(m)}}if(this.$template.removeClass("sumome-contactform-small").addClass("sumome-contactform-"+this.settings.contentWidth),this.$closeButton.hide(),"positions"in this.settings&&(this.settings.positions.indexOf("blp")>=0||this.settings.positions.indexOf("bp")>=0||this.settings.positions.indexOf("brp")>=0)){var f=this.$template.clone(!0,!0);if(f.attr("id","sumome-contactform-bp"),this.addEventListeners(f),this.settings.positions.indexOf("blp")>=0){f.addClass("sumome-contactform-left");var g="blp"}else if(this.settings.positions.indexOf("brp")>=0){f.addClass("sumome-contactform-right");var g="brp"}else if(this.settings.positions.indexOf("bp")>=0){f.addClass("sumome-contactform-center");var g="bp"}this.settings.useCaptcha&&f.$captchaEl.attr("id","sumome-contactform-captcha-"+g);var v=t("footer"),b=[];v.each(t.proxy(function(e,i){var n=!1;this.articles.each(t.proxy(function(e,s){t(s).find(t(i)).length&&(n=!0)},this)),n||b.push(t(i))},this)),b.length?b[b.length-1].prepend(f):t("body").append(f),this.forms.push(f)}if("positions"in this.settings&&(this.settings.positions.indexOf("tla")>=0||this.settings.positions.indexOf("tca")>=0||this.settings.positions.indexOf("tra")>=0)){var _=this.$template.clone(!0,!0);_.attr("id","sumome-contactform-ta"),this.addEventListeners(_),this.settings.positions.indexOf("tla")>=0?_.addClass("sumome-contactform-left"):this.settings.positions.indexOf("tra")>=0?_.addClass("sumome-contactform-right"):this.settings.positions.indexOf("tca")>=0&&_.addClass("sumome-contactform-center"),this.settings.useCaptcha&&_.$captchaEl.attr("id","sumome-contactform-captcha-"+g),this.settings.firstArticle.prepend(_),this.forms.push(_)}if("positions"in this.settings&&(this.settings.positions.indexOf("bla")>=0||this.settings.positions.indexOf("bca")>=0||this.settings.positions.indexOf("bra")>=0)){var y=this.$template.clone(!0,!0);if(y.attr("id","sumome-contactform-ba"),this.addEventListeners(y),this.settings.positions.indexOf("bla")>=0){y.addClass("sumome-contactform-left");var g="bla"}else if(this.settings.positions.indexOf("bra")>=0){y.addClass("sumome-contactform-right");var g="bra"}else if(this.settings.positions.indexOf("bca")>=0){y.addClass("sumome-contactform-center");var g="bca"}this.settings.useCaptcha&&y.$captchaEl.attr("id","sumome-contactform-captcha-"+g),this.settings.lastArticle.append(y),this.forms.push(y)}}if(this.forms.length>0&&this.settings.hasContactForm&&this.settings.pixelsShown){var w=t('<div style="position:absolute !important;width:0 !important;height:0 !important;top:0px !important;left:0px !important;margin:0 !important;padding:0 !important;font-size:0 !important;background:transparent !important;"></div>');t("body").append(w),i.postscribe(w.get(0),this.settings.pixelsShown)}},destroy:function e(i){this.forms.forEach(function(t){t.$textAreaEl&&(t.$textAreaEl.off(".sumomeRecaptcha"),t.$textAreaEl.remove()),t.$inputEl&&(t.$inputEl.off(".sumomeRecaptcha"),t.$inputEl.remove())}),t(window).off(".sumome-contactform"),this.forms=[],this.tabs.forEach(function(t){t.remove()}),this.tabs=[],t(".sumome-contactform-pullouttab").remove(),t(".sumome-contactform-content").parent().filter(":not(.sumome-contactform-preview)").remove(),this.recaptchaInterval&&clearInterval(this.recaptchaInterval),this.$captchaReloadBtn&&(this.$captchaReloadBtn.remove(),this.$captchaReloadBtn=null),this.$captchaAudioBtn&&(this.$captchaAudioBtn.remove(),this.$captchaAudioBtn=null),this.$captchaImageBtn&&(this.$captchaImageBtn.remove(),this.$captchaImageBtn=null),this.$captchaHelpBtn&&(this.$captchaHelpBtn.remove(),this.$captchaHelpBtn=null),this.$recaptchaWidgetEl&&(this.$recaptchaWidgetEl.remove(),this.$recaptchaWidgetEl=null),i&&t.isCurrentUrlAllowed(this.settings.display_rules,null,this.settings.ctry,this.settings.views)&&this.install()}};return a}),sumo.define("content-analytics/content",["jquery","underscore","sumome-lib","lib/heap-manager","jquery.article","jquery.displayrules"],function(t,e,i,n){function s(t){this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase();for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function t(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),255]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function t(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseInt(e[4])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function t(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),255]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function t(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),255]}}],i=0;i<e.length;i++){var n=e[i].re,s=e[i].process,a=n.exec(t);a&&(channels=s(a),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.a=channels[3],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.a=this.a<0||isNaN(this.a)?0:this.a>255?255:this.a,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),i=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==i.length&&(i="0"+i),"#"+t+e+i}}var a=function t(e,i,n,s,a,r){void 0==r&&(r=2),e.moveTo(i,n);for(var o=s-i,l=a-n,c=Math.floor(Math.sqrt(o*o+l*l)/r),h=o/c,u=l/c,d=0;d++<c;)i+=h,n+=u,e[d%2==0?"moveTo":"lineTo"](i,n);e[d%2==0?"moveTo":"lineTo"](s,a)},r=function t(e){var i=e.toString().split(".");return i[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),i.join(".")},o={isShown:!1,isRecording:!1,currentData:null,reopenApp:!1,currentCampaign:null,elementData:null,load:function e(i){o.$control&&o.$control.addClass("sumome-content-analytics-control-show"),o.containerEl&&t('<div class="sumome-content-analytics-loading" />').html("Loading analytic data...<br />Press ESC to exit").appendTo(o.containerEl),t.ajax({type:"POST",dataType:"json",beforeSend:function e(i){i.setRequestHeader("X-Sumo-Auth",t.cookie("__smToken"))},xhrFields:{withCredentials:!1},crossDomain:!0,url:o.sumoProperties.sumoUrl+"/apps/contentanalytics/load",data:{site_id:o.sumoProperties.siteId,path:window.location.pathname+window.location.search,campaign_id:i||null,geoLocation:this.sumoProperties.geoLocation,pageViews:this.sumoProperties.views},success:function e(i){i.success?(t.maskElement(o.$containerEl,function(){}),o.currentData=i.data,o.currentCampaign=i.campaigns,o.redraw(),o.updateControl()):(o.currentData=null,o.currentCampaign=null,o.updateControl()),t(".sumome-content-analytics-loading").remove(),o.$control}})},toggle:function t(){o.isShown?o.hide():o.show()},redraw:function e(){if(!o.currentCampaign)return void o.hide();var n={.0625:"#0001ab",.125:"#0100e0",.1875:"#006fff",.25:"#01acfe",.3125:"#01e0ff",.375:"#01ff01",.4375:"#bdfe00",.5:"#ffff01",.5625:"#ffe001",.625:"#fe8d00",.6875:"#fb5e01",.75:"#f50000",.8125:"#f501c1"};n={.25:"#0000ff",.55:"#00ff00",.85:"#ffff00","1.0":"#ff0000"};var l=o.canvas;if("article"==o.currentCampaign.current.content_type){var c="article",h=t.articles();if(1!=h.length)return o.hide(),void i.Dialog.alert({title:"Sumo Content Analytics",message:"Unable to find the content area to display the data."});o.$article=h[0]}else{var c="page";o.$article=t(document)}var u=t(o.$article),d="article"==c?u.offset():{top:0,left:0},p=d.top;if("_footer"in o.$article&&o.$article._footer&&o.$article._footer.is(":visible")&&!o.$article._footer.hasClass("aside"))var m=o.$article._footer.offset().top-p;else var m=u.outerHeight();var f=u.outerWidth(),g=t(window).scrollTop(),v=p-g,b=d.left,_=v<0?Math.abs(v):0;v=Math.max(0,v);var y=f,w=Math.max(0,Math.min(t(window).height()-v,m-_)),x=w/m;o.$containerEl.css({top:v+"px",left:b+"px"}),o.$containerEl.width(y),o.$containerEl.height(w),l.width=y,l.height=w;var k=l.getContext("2d"),C=o.currentData.points,S=C.reduce(function(t,e){return t<e?t:e}),T=C.reduce(function(t,e){return t>e?t:e});k.clearRect(0,0,l.width,l.height);for(var E=k.createLinearGradient(0,-_,0,m-_),I={},P=null,A=0;A<C.length;A++){var $=A/100,O=T>0?C[A]/T:0;null!=P&&O==P||(I[$]=O,P=O)}var L=null,B=0,P=null,D={};Object.keys(I).sort(function(t,e){return t-e}).forEach(function(t){var e=Math.min(I[t],null!=P?P:I[t]),i;null!==P&&P-e>B&&parseFloat(t)>0&&(B=P-e,L=parseFloat(t));try{Object.keys(n).sort(function(t,e){return t-e}).forEach(function(t){if(i=n[t],(t=parseFloat(t))>e)throw D})}catch(t){}i=new s(i),i="rgba("+i.r+","+i.g+","+i.b+",0.5)",I[t]=i,P=e});var M=Object.keys(I).sort(function(t,e){return t-e}),N=null;M.forEach(function(t){var e=I[t];e!=N&&(N=e,E.addColorStop(t,e))}),k.fillStyle=E,k.fillRect(0,0,f,m);var z=o.currentData.ticks,R=1/x,j=o.currentCampaign,H=parseFloat(j.current.average_read)/100,U=Math.round(H*R*l.height)-_;U>=0&&U<=w&&(U=Math.max(1,U),U=Math.min(w-3,U),k.beginPath(),k.shadowColor="rgba(0,0,0,1)",k.shadowBlur=1,k.shadowOffsetX=1,k.shadowOffsetY=1,k.lineWidth=2,k.lineCap="round",k.strokeStyle="#ffffff",a(k,0,U,l.width,U,5),k.stroke(),k.save(),k.beginPath(),k.shadowColor="rgba(0,0,0,1)",k.shadowBlur=8,k.shadowOffsetX=1,k.shadowOffsetY=1,k.font='normal 14px "Open Sans", "Open Sans", "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif',k.fillStyle="#ffffff",k.textAlign="center",k.textBaseline="middle",k.fillText("Average Read",l.width/2,U<=14?U+15:U-15),k.save(),k.beginPath(),k.shadowColor="rgba(0,0,0,1)",k.shadowBlur=1,k.shadowOffsetX=1,k.shadowOffsetY=1,k.font='normal 14px "Open Sans", "Open Sans", "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif',k.fillStyle="#ffffff",k.textAlign="center",k.textBaseline="middle",k.fillText("Average Read",l.width/2,U<=14?U+15:U-15),k.save());var U;for(var F in z){var O=z[F],U=Math.round(parseFloat(F)/100*R*l.height)-_,q=O/T;U<0||U>w||(isNaN(q)&&(q=0),U=Math.max(1,U),U=Math.min(w-3,U),k.beginPath(),k.shadowColor="rgba(0,0,0,1)",k.shadowBlur=1,k.shadowOffsetX=1,k.shadowOffsetY=1,k.moveTo(l.width-25,U),k.lineTo(l.width,U),k.lineWidth=2,k.lineCap="round",k.strokeStyle="yellow",k.stroke(),k.save(),k.beginPath(),k.shadowColor="rgba(0,0,0,1)",k.shadowBlur=1,k.shadowOffsetX=1,k.shadowOffsetY=1,k.moveTo(0,U),k.lineTo(25,U),k.lineWidth=2,k.lineCap="round",k.strokeStyle="yellow",k.stroke(),k.save(),k.beginPath(),k.shadowColor="rgba(0,0,0,1)",k.shadowBlur=8,k.shadowOffsetX=1,k.shadowOffsetY=1,k.font='normal 14px "Open Sans", "Open Sans", "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif',k.fillStyle="#ffffff",k.textAlign="right",k.textBaseline="middle",k.fillText(r(O)+" ("+(100*q).toFixed()+"%) readers",l.width-35,Math.min(w-14,Math.max(14,U))),k.save(),k.beginPath(),k.shadowColor="rgba(0,0,0,1)",k.shadowBlur=8,k.shadowOffsetX=1,k.shadowOffsetY=1,k.font='normal 14px "Open Sans", "Open Sans", "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif',k.fillStyle="yellow",k.textAlign="left",k.textBaseline="middle",k.fillText(F+"%",35,Math.min(w-14,Math.max(14,U))),k.save(),k.beginPath(),k.shadowColor="rgba(0,0,0,1)",k.shadowBlur=1,k.shadowOffsetX=1,k.shadowOffsetY=1,k.font='normal 14px "Open Sans", "Open Sans", "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif',k.fillStyle="#ffffff",k.textAlign="right",k.textBaseline="middle",k.fillText(r(O)+" ("+(100*q).toFixed()+"%) readers",l.width-35,Math.min(w-14,Math.max(14,U))),k.save(),k.beginPath(),k.shadowColor="rgba(0,0,0,1)",k.shadowBlur=1,k.shadowOffsetX=1,k.shadowOffsetY=1,k.font='normal 14px "Open Sans", "Open Sans", "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif',k.fillStyle="yellow",k.textAlign="left",k.textBaseline="middle",k.fillText(F+"%",35,Math.min(w-14,Math.max(14,U))),k.save())}t.updateMask(o.$containerEl)},show:function i(s){if(n.enableTracking(),s&&(o.reopenApp=!0),o.isShown)return void o.load(s);o.api.emit("a25489e9-848c-4356-97ff-161b0852c509/widget/show"),o.isShown=!0,o.api.emit("hideControl");var a=t("<div />").addClass("sumome-content-analytics").appendTo(document.body);o.$control=t('<div class="sumome-content-analytics-control sumome-content-analytics-control-show" />'),o.$close=t('<a class="sumome-content-analytics-close">&#x2715;</a>').appendTo(o.$control),o.$title=t('<span class="sumome-content-analytics-title" />').text("Loading...").appendTo(o.$control),o.$clicks=t('<span class="sumome-content-analytics-clicks" />').text("").appendTo(o.$control),o.$controls=t('<div class="sumome-content-analytics-controls" />'),o.$prev=t('<a class="sumome-content-analytics-prev sumome-content-analytics-disabled" />').appendTo(o.$controls).text("Previous Campaign").attr("title","Previous Campaign").click(o.previous),o.$stop=t('<a class="sumome-content-analytics-stop sumome-content-analytics-disabled" />').appendTo(o.$controls).text("STOP").attr("title","Stop Campaign").click(o.stop),o.$record=t('<a class="sumome-content-analytics-record sumome-content-analytics-disabled" />').appendTo(o.$controls).text("RECORD").css("display","none").attr("title","Record New Campaign").click(o.record),o.$next=t('<a class="sumome-content-analytics-next sumome-content-analytics-disabled" />').appendTo(o.$controls).text("Next Campaign").attr("title","Next Campaign").click(o.next),o.$wrapper=t('<div class="sumome-content-analytics-control-wrapper" />'),o.$controls.appendTo(o.$control),o.$control.appendTo(o.$wrapper),o.$wrapper.appendTo(a),o.$close.click(function(t){t.preventDefault(),o.hide()}),o.containerEl=a,o.$containerEl=t("<div />"),o.$canvasEl=t("<canvas />"),o.$containerEl.css({position:"fixed"}),o.$canvasEl.appendTo(o.$containerEl),o.$containerEl.appendTo(a),o.canvas=o.$canvasEl.get(0),o.load(s),t(window).on("scroll.sumome-content-analytics-widget",e.debounce(function(){o.redraw()},1)),t(window).on("resize.sumome-content-analytics-widget",e.debounce(function(){o.redraw()},1)),t(document).on("keyup.sumome-content-analytics-widget",function(t){27==t.which&&o.hide()}),document.documentElement.style.overflow="auto"},hide:function e(){n.disableTracking(),t(window).off(".sumome-content-analytics-widget"),t(document).off(".sumome-content-analytics-widget"),t.unmask(),t(".sumome-content-analytics").remove(),o.api.emit("showControl"),o.reopenApp&&(t(document.body).find(".s.u.m.o.me.sumome-react-modal-container").fadeIn(200),t(document.body).css({overflow:"hidden"}),o.api.on("a25489e9-848c-4356-97ff-161b0852c509/app/started",function(t){o.api.off("a25489e9-848c-4356-97ff-161b0852c509/app/started"),o.api.emit("a25489e9-848c-4356-97ff-161b0852c509/app/route","campaigns")}),o.reopenApp=!1),o.isShown=!1,o.api.emit("a25489e9-848c-4356-97ff-161b0852c509/widget/hide")},previous:function e(){if(!t(this).hasClass("sumome-content-analytics-disabled")){var i=o.currentCampaign;i&&i.previous&&o.load(i.previous)}},next:function e(){if(!t(this).hasClass("sumome-content-analytics-disabled")){var i=o.currentCampaign;i&&i.next&&o.load(i.next)}},stop:function e(){t(this).hasClass("sumome-content-analytics-disabled")||i.Dialog.confirm({title:"Sumo Content Analytics",message:"Are you sure you want to stop recording user reads?",callback:t.proxy(function(e){"yes"==e&&t.ajax({type:"POST",dataType:"json",beforeSend:function e(i){i.setRequestHeader("X-Sumo-Auth",t.cookie("__smToken"))},xhrFields:{withCredentials:!1},crossDomain:!0,url:o.sumoProperties.sumoUrl+"/apps/contentanalytics/stop",data:{site_id:o.sumoProperties.siteId,path:window.location.pathname+window.location.search},success:function t(e){e.success&&(o.api.emit("a25489e9-848c-4356-97ff-161b0852c509/campaign/stop"),o.load())}})},this)})},record:function e(){if(!t(this).hasClass("sumome-content-analytics-disabled")){var i="article";1!=t.articles().length&&(i="page"),t.ajax({type:"POST",dataType:"json",beforeSend:function e(i){i.setRequestHeader("X-Sumo-Auth",t.cookie("__smToken"))},xhrFields:{withCredentials:!1},crossDomain:!0,url:o.sumoProperties.sumoUrl+"/apps/contentanalytics/start",data:{site_id:o.sumoProperties.siteId,path:window.location.pathname+window.location.search,content_type:i},success:function t(e){e.success&&(o.show(),o.api.emit("a25489e9-848c-4356-97ff-161b0852c509/campaign/start"))}})}},autoRecord:function e(i,n,s){if(null==i&&(i=o.sumoProperties.siteId),null==n&&(n=o.sumoProperties.sumoUrl),!t(this).hasClass("sumome-content-analytics-disabled")){var a="article";1!=t.articles().length&&(a="page"),t.ajax({type:"POST",dataType:"json",beforeSend:function e(i){i.setRequestHeader("X-Sumo-Auth",t.cookie("__smToken"))},xhrFields:{withCredentials:!1},crossDomain:!0,url:n+"/apps/contentanalytics/start/auto",data:{site_id:i,path:window.location.pathname+window.location.search,content_type:a},success:s})}},updateControl:function t(){var e=o.currentCampaign;if(o.$control&&o.$title){if(e&&e.current){var i="";if(e.current.started_at){var n=new Date(e.current.started_at);i=n.toLocaleDateString()+" "+n.toLocaleTimeString()}if(e.current.finished_at){var s=new Date(e.current.finished_at);i+=" - "+s.toLocaleDateString()+" "+s.toLocaleTimeString()}else i+=" - ACTIVE CAMPAIGN";o.$title.text(i),o.$clicks.html('AVERAGE READ <span class="sumome-content-analytics-clicks-count">'+parseFloat(e.current.average_read).toFixed()+"%</span>")}else o.$title.text(""),o.$clicks.text("");o.$prev.toggleClass("sumome-content-analytics-disabled",!(null!=e&&null!=e.previous)),o.$stop.toggleClass("sumome-content-analytics-disabled",0==o.isRecording),o.$record.toggleClass("sumome-content-analytics-disabled",1==o.isRecording),o.isRecording?(o.$record.hide(),o.$stop.show()):(o.$stop.hide(),o.$record.show()),o.$next.toggleClass("sumome-content-analytics-disabled",!(null!=e&&null!=e.next))}},setRecording:function t(e){o.isRecording=e,o.isShown&&o.updateControl()}};return o}),sumo.define("jquery.elementMask",["jquery"],function(t){function e(){i(l)}function i(e){var i=t(window).height(),n=t(window).width();if(e){var l=e.offset();s.height(0),r.height(0),a.height(0),o.height(0),s.css("left",0),s.css("top",0),s.css("width",l.left),s.css("height",t(document).outerHeight()),r.css("left",l.left+e.outerWidth()),r.css("top",0),r.css("width",t(document).outerWidth()-l.left-e.outerWidth()),r.css("height",t(document).outerHeight()),a.css("left",l.left),a.css("top",0),a.css("width",e.outerWidth()),a.css("height",l.top),o.css("left",l.left),o.css("top",l.top+e.outerHeight()),o.css("width",e.outerWidth()),o.css("height",t(document).outerHeight()-l.top-e.outerHeight()),s.show(),r.show(),a.show(),o.show()}}function n(e){s||(s=t('<div class="sumome-element-mask sumome-ignore" />'),t("body").append(s)),r||(r=t('<div class="sumome-element-mask sumome-ignore" />'),t("body").append(r)),a||(a=t('<div class="sumome-element-mask sumome-ignore" />'),t("body").append(a)),o||(o=t('<div class="sumome-element-mask sumome-ignore" />'),t("body").append(o))}var s,a,r,o,l;t.maskElement=function(s,a){n(a),i(s),l=s,t(window).unbind("resize",e),t(window).bind("resize",e)},t.updateMask=function(t){l=t,i(t)},t.unmask=function(){t(window).unbind("resize",e),s&&s.hide(),r&&r.hide(),a&&a.hide(),o&&o.hide()}}),sumo.define("es6!services/content-analytics/index",["jquery","underscore","content-analytics/content","jquery.article","jquery.elementMask"],function(t,e,i){return function(n){var s=!1,a=!1,r=0,o=null,l=!1,c=!0,h=!0,u=!1,d="article",p=n.properties;i.sumoProperties=n.properties;var m=function t(e){for(var i=(new Date).getTime();(new Date).getTime()<i+e;);},f=function i(){function n(){var e="article"==d?o.offset():{top:0,left:0},i=e.top;if("_footer"in r&&r._footer&&r._footer.is(":visible")&&!r._footer.hasClass("aside"))var n=r._footer.offset().top-i;else var n=o.outerHeight();var s=i+n,a=t(window).scrollTop(),c=t(window).height(),h=a+c,u=Math.max(a,i),m=Math.min(s,h),f=m-u,g=f/n,v=Math.min(a+c-i,n),b=Math.max(v-c,0),_=Math.max(0,(v-c)/(n-c)).toFixed(0),y=i>=a&&i<=h,w=s>=a&&s<=h,x=Math.min(100,Math.max(0,Math.round((m-i)/n*100)));if(null==l||x>l){var k={site_id:p.siteId,last:l,read:x,path:window.location.pathname+window.location.search,_:Math.random()},C=t("<img />").css({display:"none"}).attr("src",p.sumoUrl+"/apps/contentanalytics/scroll?"+t.param(k));C.on("error",function(){t(this).remove()}),C.on("load",function(){t(this).remove()}),t(document.body).append(C),l=x}}if(!a){if("article"==d){var s=t.articles();if(1!=s.length)return;var r=s[0]}else var r=t(document);var o=t(r),l=null;t(window).on("scroll.sumome-content-analytics",e.debounce(n,1e3)),c&&(c=!1,"complete"==document.readyState?n():t(window).on("load.sumome-content-analytics",n)),a=!0}},g=function e(){a&&(t(window).off(".sumome-content-analytics"),a=!1)},v=function e(){t.ajax({type:"POST",dataType:"json",beforeSend:function e(i){i.setRequestHeader("X-Sumo-Auth",t.cookie("__smToken"))},xhrFields:{withCredentials:!1},crossDomain:!0,url:p.sumoUrl+"/apps/contentanalytics/status",data:{site_id:p.siteId,path:window.location.pathname+window.location.search},success:function e(a){a.success?(l=!0,s=null!=a.campaign&&null==a.campaign.finished_at,r=a.count,h=a.track_all_users,o=a.campaign,d=null!=a.campaign?a.campaign.content_type:"article"):s=!1,n.emit("a25489e9-848c-4356-97ff-161b0852c509/campaign/status",{campaign:o,haveStatus:l,recording:s,campaignCount:r});var c=!(!p.geoLocation||!p.geoLocation.ctry)&&p.geoLocation.ctry,m=p.views?p.views:1;a.hasContentAnalytics&&a.count<=0&&a.display_rules.length>0&&t.isCurrentUrlAllowed(a.display_rules,null,c,m)?i.autoRecord(p.siteId,p.sumoUrl,function(t){t.success&&(l=!0,s=!0,r=1,o=t.campaign,d=null!=t.campaign?t.campaign.content_type:"article",n.emit("a25489e9-848c-4356-97ff-161b0852c509/campaign/status",{campaign:o,haveStatus:l,recording:s,campaignCount:r}),f())}):u||(g(),s&&(1==h||0==h&&null==p.user)&&f())}})};return{init:function t(e,i){n.on("a25489e9-848c-4356-97ff-161b0852c509/campaign/checkStatus",function(){n.emit("a25489e9-848c-4356-97ff-161b0852c509/campaign/status",{campaign:o,haveStatus:l,recording:s,campaignCount:r})}),n.on("a25489e9-848c-4356-97ff-161b0852c509/campaign/start",function(){v()}),n.on("a25489e9-848c-4356-97ff-161b0852c509/campaign/stop",function(){v()}),n.on("a25489e9-848c-4356-97ff-161b0852c509/widget/show",function(){u=!0,g()}),n.on("a25489e9-848c-4356-97ff-161b0852c509/widget/hide",function(){u=!1,g(),s&&(1==h||0==h&&null==p.user)&&f()}),v(),i()},destroy:function t(e){e()}}}}),sumo.define("googleanalytics/trackingcode",["jquery","postscribe"],function(t,e){return{initialize:function e(){this.api.on("674d3d92-3a9f-4620-99f6-ff856d18423d/service/reload",t.proxy(function(){this.load()},this)),this.load()},load:function i(){t.ajax({type:"POST",dataType:"json",url:this.sumoProperties.sumoUrl+"/apps/googleanalytics/load",data:{site_id:this.sumoProperties.siteId},xhrFields:{withCredentials:!1},crossDomain:!0}).done(t.proxy(function(i){if(delete window.__gaSumome,t("script[data-sumome-ga-tracking]").remove(),i&&"success"in i&&i.success&&"tracking_id"in i&&"inject_code"in i&&i.tracking_id&&i.inject_code){var n="<script data-sumome-ga-tracking>\n            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n            })(window,document,'script','//www.google-analytics.com/analytics.js','__gaSumome');\n            __gaSumome('create', '"+i.tracking_id+"', 'auto');\n            __gaSumome('send', 'pageview');\n            <\/script>\n";e.postscribe(t("head"),n)}},this))}}}),function(e,i){void 0!==t?i(e,t,require("underscore")):"function"==typeof sumo.define&&sumo.define.amd?sumo.define("backbone-lib",["underscore","jquery","exports"],function(t,n,s){e.Backbone=i(e,s,t,n)}):e.Backbone=i(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(t,e,i,n){var s=t.Backbone,a=[],r=a.push,o=a.slice,l=a.splice;e.VERSION="1.1.0",e.$=n,e.noConflict=function(){return t.Backbone=s,this},e.emulateHTTP=!1,e.emulateJSON=!1;var c=e.Events={on:function(t,e,i){return u(this,"on",t,[e,i])&&e?(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:i,ctx:i||this}),this):this},once:function(t,e,n){if(!u(this,"once",t,[e,n])||!e)return this;var s=this,a=i.once(function(){s.off(t,a),
e.apply(this,arguments)});return a._callback=e,this.on(t,a,n)},off:function(t,e,n){var s,a,r,o,l,c,h,d;if(!this._events||!u(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(o=t?[t]:i.keys(this._events),l=0,c=o.length;l<c;l++)if(t=o[l],r=this._events[t]){if(this._events[t]=s=[],e||n)for(h=0,d=r.length;h<d;h++)a=r[h],(e&&e!==a.callback&&e!==a.callback._callback||n&&n!==a.context)&&s.push(a);s.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=o.call(arguments,1);if(!u(this,"trigger",t,e))return this;var i=this._events[t],n=this._events.all;return i&&d(i,e),n&&d(n,arguments),this},stopListening:function(t,e,n){var s=this._listeningTo;if(!s)return this;var a=!e&&!n;n||"object"!=typeof e||(n=this),t&&((s={})[t._listenId]=t);for(var r in s)t=s[r],t.off(e,n,this),(a||i.isEmpty(t._events))&&delete this._listeningTo[r];return this}},h=/\s+/,u=function(t,e,i,n){if(!i)return!0;if("object"==typeof i){for(var s in i)t[e].apply(t,[s,i[s]].concat(n));return!1}if(h.test(i)){for(var a=i.split(h),r=0,o=a.length;r<o;r++)t[e].apply(t,[a[r]].concat(n));return!1}return!0},d=function(t,e){var i,n=-1,s=t.length,a=e[0],r=e[1],o=e[2];switch(e.length){case 0:for(;++n<s;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<s;)(i=t[n]).callback.call(i.ctx,a);return;case 2:for(;++n<s;)(i=t[n]).callback.call(i.ctx,a,r);return;case 3:for(;++n<s;)(i=t[n]).callback.call(i.ctx,a,r,o);return;default:for(;++n<s;)(i=t[n]).callback.apply(i.ctx,e)}},p={listenTo:"on",listenToOnce:"once"};i.each(p,function(t,e){c[e]=function(e,n,s){return(this._listeningTo||(this._listeningTo={}))[e._listenId||(e._listenId=i.uniqueId("l"))]=e,s||"object"!=typeof n||(s=this),e[t](n,s,this),this}}),c.bind=c.on,c.unbind=c.off,i.extend(e,c);var m=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{}),n=i.defaults({},n,i.result(this,"defaults")),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(m.prototype,c,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var s,a,r,o,l,c,h,u;if(null==t)return this;if("object"==typeof t?(a=t,n=e):(a={})[t]=e,n||(n={}),!this._validate(a,n))return!1;r=n.unset,l=n.silent,o=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=i.clone(this.attributes),this.changed={}),u=this.attributes,h=this._previousAttributes,this.idAttribute in a&&(this.id=a[this.idAttribute]);for(s in a)e=a[s],i.isEqual(u[s],e)||o.push(s),i.isEqual(h[s],e)?delete this.changed[s]:this.changed[s]=e,r?delete u[s]:u[s]=e;if(!l){o.length&&(this._pending=!0);for(var d=0,p=o.length;d<p;d++)this.trigger("change:"+o[d],this,u[o[d]],n)}if(c)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e,n=!1,s=this._changing?this._previousAttributes:this.attributes;for(var a in t)i.isEqual(s[a],e=t[a])||((n||(n={}))[a]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=t?i.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,n=t.success;return t.success=function(i){if(!e.set(e.parse(i,t),t))return!1;n&&n(e,i,t),e.trigger("sync",e,i,t)},R(this,t),this.sync("read",this,t)},save:function(t,e,n){var s,a,r,o=this.attributes;if(null==t||"object"==typeof t?(s=t,n=e):(s={})[t]=e,n=i.extend({validate:!0},n),s&&!n.wait){if(!this.set(s,n))return!1}else if(!this._validate(s,n))return!1;s&&n.wait&&(this.attributes=i.extend({},o,s)),void 0===n.parse&&(n.parse=!0);var l=this,c=n.success;return n.success=function(t){l.attributes=o;var e=l.parse(t,n);if(n.wait&&(e=i.extend(s||{},e)),i.isObject(e)&&!l.set(e,n))return!1;c&&c(l,t,n),l.trigger("sync",l,t,n)},R(this,n),a=this.isNew()?"create":n.patch?"patch":"update","patch"===a&&(n.attrs=s),r=this.sync(a,this,n),s&&n.wait&&(this.attributes=o),r},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,s=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(i){(t.wait||e.isNew())&&s(),n&&n(e,i,t),e.isNew()||e.trigger("sync",e,i,t)},this.isNew())return t.success(),!1;R(this,t);var a=this.sync("delete",this,t);return t.wait||s(),a},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||z();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},i.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1)}});var f=["keys","values","pairs","invert","pick","omit"];i.each(f,function(t){m.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.attributes),i[t].apply(i,e)}});var g=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},v={add:!0,remove:!0,merge:!0},b={add:!0,remove:!1};i.extend(g.prototype,c,{model:m,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,b))},remove:function(t,e){var n=!i.isArray(t);t=n?[t]:i.clone(t),e||(e={});var s,a,r,o;for(s=0,a=t.length;s<a;s++)(o=t[s]=this.get(t[s]))&&(delete this._byId[o.id],delete this._byId[o.cid],r=this.indexOf(o),this.models.splice(r,1),this.length--,e.silent||(e.index=r,o.trigger("remove",o,this,e)),this._removeReference(o));return n?t[0]:t},set:function(t,e){e=i.defaults({},e,v),e.parse&&(t=this.parse(t,e));var n=!i.isArray(t);t=n?t?[t]:[]:i.clone(t);var s,a,r,o,l,c,h,u=e.at,d=this.model,p=this.comparator&&null==u&&!1!==e.sort,f=i.isString(this.comparator)?this.comparator:null,g=[],b=[],_={},y=e.add,w=e.merge,x=e.remove,k=!(p||!y||!x)&&[];for(s=0,a=t.length;s<a;s++){if(l=t[s],r=l instanceof m?o=l:l[d.prototype.idAttribute],c=this.get(r))x&&(_[c.cid]=!0),w&&(l=l===o?o.attributes:l,e.parse&&(l=c.parse(l,e)),c.set(l,e),p&&!h&&c.hasChanged(f)&&(h=!0)),t[s]=c;else if(y){if(!(o=t[s]=this._prepareModel(l,e)))continue;g.push(o),o.on("all",this._onModelEvent,this),this._byId[o.cid]=o,null!=o.id&&(this._byId[o.id]=o)}k&&k.push(c||o)}if(x){for(s=0,a=this.length;s<a;++s)_[(o=this.models[s]).cid]||b.push(o);b.length&&this.remove(b,e)}if(g.length||k&&k.length)if(p&&(h=!0),this.length+=g.length,null!=u)for(s=0,a=g.length;s<a;s++)this.models.splice(u+s,0,g[s]);else{k&&(this.models.length=0);var C=k||g;for(s=0,a=C.length;s<a;s++)this.models.push(C[s])}if(h&&this.sort({silent:!0}),!e.silent){for(s=0,a=g.length;s<a;s++)(o=g[s]).trigger("add",o,this,e);(h||k&&k.length)&&this.trigger("sort",this,e)}return n?t[0]:t},reset:function(t,e){e||(e={});for(var n=0,s=this.models.length;n<s;n++)this._removeReference(this.models[n]);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t.id]||this._byId[t.cid]||this._byId[t]},at:function(t){return this.models[t]},where:function(t,e){return i.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var i in t)if(t[i]!==e.get(i))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),i.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(i.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return i.invoke(this.models,"get",t)},fetch:function(t){t=t?i.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,n=this;return t.success=function(i){var s=t.reset?"reset":"set";n[s](i,t),e&&e(n,i,t),n.trigger("sync",n,i,t)},R(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?i.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var n=this,s=e.success;return e.success=function(t,e,i){i.wait&&n.add(t,i),s&&s(t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof m)return t.collection||(t.collection=this),t;e=e?i.clone(e):{},e.collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){("add"!==t&&"remove"!==t||i===this)&&("destroy"===t&&this.remove(e,n),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var _=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];i.each(_,function(t){g.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.models),i[t].apply(i,e)}});var y=["groupBy","countBy","sortBy"];i.each(y,function(t){g.prototype[t]=function(e,n){var s=i.isFunction(e)?e:function(t){return t.get(e)};return i[t](this.models,s,n)}});var w=e.View=function(t){this.cid=i.uniqueId("view"),t||(t={}),i.extend(this,i.pick(t,k)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},x=/^(\S+)\s*(.*)$/,k=["model","collection","el","id","attributes","className","tagName","events"];i.extend(w.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,i){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],!1!==i&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=i.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var n=t[e];if(i.isFunction(n)||(n=this[t[e]]),n){var s=e.match(x),a=s[1],r=s[2];n=i.bind(n,this),a+=".delegateEvents"+this.cid,""===r?this.$el.on(a,n):this.$el.on(a,r,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"),!1);else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t.class=i.result(this,"className"));var n=e.$("<"+i.result(this,"tagName")+">").attr(t);this.setElement(n,!1)}}}),e.sync=function(t,n,s){var a=S[t];i.defaults(s||(s={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var r={type:a,dataType:"json"};if(s.url||(r.url=i.result(n,"url")||z()),null!=s.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(r.contentType="application/json",r.data=JSON.stringify(s.attrs||n.toJSON(s))),s.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),s.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){r.type="POST",s.emulateJSON&&(r.data._method=a);var o=s.beforeSend;s.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",a),o)return o.apply(this,arguments)}}"GET"===r.type||s.emulateJSON||(r.processData=!1),"PATCH"===r.type&&C&&(r.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=s.xhr=e.ajax(i.extend(r,s));return n.trigger("request",n,l,s),l};var C=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),S={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var T=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},E=/\((.*?)\)/g,I=/(\(\?)?:\w+/g,P=/\*\w+/g,A=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(T.prototype,c,{initialize:function(){},route:function(t,n,s){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(s=n,n=""),s||(s=this[n]);var a=this;return e.history.route(t,function(i){var r=a._extractParameters(t,i);s&&s.apply(a,r),a.trigger.apply(a,["route:"+n].concat(r)),a.trigger("route",n,r),e.history.trigger("route",a,n,r)}),this},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(A,"\\$&").replace(E,"(?:$1)?").replace(I,function(t,e){return e?t:"([^/]+)"}).replace(P,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,function(t){return t?decodeURIComponent(t):null})}});var $=e.History=function(){this.handlers=[],i.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},O=/^[#\/]|\s+$/g,L=/^\/+|\/+$/g,B=/msie [\w.]+/,D=/\/$/,M=/[?#].*$/;$.started=!1,i.extend($.prototype,c,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var i=this.root.replace(D,"");t.indexOf(i)||(t=t.slice(i.length))}else t=this.getHash();return t.replace(O,"")},start:function(t){if($.started)throw new Error("Backbone.history has already been started");$.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),s=document.documentMode,a=B.exec(navigator.userAgent.toLowerCase())&&(!s||s<=7);this.root=("/"+this.root+"/").replace(L,"/"),a&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!a?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var r=this.location,o=r.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!o)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&o&&r.hash&&(this.fragment=this.getHash().replace(O,""),this.history.replaceState({},document.title,this.root+this.fragment+r.search))}if(!this.options.silent)return this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),$.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return t=this.fragment=this.getFragment(t),i.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0})},navigate:function(t,e){if(!$.started)return!1;e&&!0!==e||(e={trigger:!!e});var i=this.root+(t=this.getFragment(t||""));if(t=t.replace(M,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==i&&(i=i.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new $;var N=function(t,e){var n=this,s;s=t&&i.has(t,"constructor")?t.constructor:function(){return n.apply(this,arguments)},i.extend(s,n,e);var a=function(){this.constructor=s};return a.prototype=n.prototype,s.prototype=new a,t&&i.extend(s.prototype,t),s.__super__=n.prototype,s};m.extend=g.extend=T.extend=w.extend=$.extend=N;var z=function(){throw new Error('A "url" property or function must be specified')},R=function(t,e){var i=e.error;e.error=function(n){i&&i(t,n,e),t.trigger("error",t,n,e)}};return e}),function(t){"function"==typeof require&&void 0!==e&&e.exports?e.exports=t(require("underscore")):"function"==typeof sumo.define?sumo.define("cocktail",["underscore","jquery"],t):this.Cocktail=t(_)}(function(t,e){var i={};i.mixins={},i.mixin=function e(n){var s=t.chain(arguments).toArray().rest().flatten().value(),a=n.prototype||n,r={};return t(s).each(function(e){t.isString(e)&&(e=i.mixins[e]),t(e).each(function(e,i){if(t.isFunction(e)){if(a[i]===e)return;a[i]&&(r[i]=r.hasOwnProperty(i)?r[i]:[a[i]],r[i].push(e)),a[i]=e}else t.isArray(e)?a[i]=t.union(e,a[i]||[]):t.isObject(e)?a[i]=t.extend({},e,a[i]||{}):i in a||(a[i]=e)})}),t(r).each(function(e,i){a[i]=function(){var i=this,n=arguments,s;return t(e).each(function(e){var a=t.isFunction(e)?e.apply(i,n):e;s=void 0===a?s:a}),s}}),n};var n;return i.patch=function s(a){n=a.Model.extend;var r=function(n,s){var a=this,r;r=n&&t.has(n,"constructor")?n.constructor:function(){if("defaultProps"in this){var t=this.defaultProps;e.extend(!0,this,t)}return a.apply(this,arguments)},t.extend(r,a,s);var o=function(){this.constructor=r};o.prototype=a.prototype,r.prototype=new o,n&&t.extend(r.prototype,n),r.__super__=a.prototype,klass=r;var l=klass.prototype.mixins;return l&&klass.prototype.hasOwnProperty("mixins")&&i.mixin(klass,l),klass};t([a.Model,a.Collection,a.Router,a.View]).each(function(e){e.mixin=function e(){i.mixin(this,t.toArray(arguments))},e.extend=r})},i.unpatch=function e(i){t([i.Model,i.Collection,i.Router,i.View]).each(function(t){t.mixin=void 0,t.extend=n})},i}),sumo.define("backbone",["backbone-lib","cocktail"],function(t,e){return e.patch(t),t.noConflict()}),sumo.define("handlebars/safe-string",["exports"],function(t){function e(t){this.string=t}e.prototype.toString=function(){return""+this.string},t.default=e}),sumo.define("handlebars/utils",["./safe-string","exports"],function(t,e){function i(t){return o[t]||"&amp;"}function n(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}function s(t){return t instanceof r?t.toString():t||0===t?(t=""+t,c.test(t)?t.replace(l,i):t):""}function a(t){return!t&&0!==t||!(!d(t)||0!==t.length)}var r=t.default,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,c=/[&<>"'`]/;e.extend=n;var h=Object.prototype.toString;e.toString=h;var u=function(t){return"function"==typeof t};u(/x/)&&(u=function(t){return"function"==typeof t&&"[object Function]"===h.call(t)});var u;e.isFunction=u;var d=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===h.call(t)};e.isArray=d,e.escapeExpression=s,e.isEmpty=a}),sumo.define("handlebars/exception",["exports"],function(t){function e(t,e){var n;e&&e.firstLine&&(n=e.firstLine,t+=" - "+n+":"+e.firstColumn);for(var s=Error.prototype.constructor.call(this,t),a=0;a<i.length;a++)this[i[a]]=s[i[a]];n&&(this.lineNumber=n,this.column=e.firstColumn)}var i=["description","fileName","lineNumber","message","name","number","stack"];e.prototype=new Error,t.default=e}),sumo.define("handlebars/base",["./utils","./exception","exports"],function(t,e,i){function n(t,e){this.helpers=t||{},this.partials=e||{},s(this)}function s(t){t.registerHelper("helperMissing",function(t){if(2!==arguments.length)throw new o("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,i){var n=i.inverse||function(){},s=i.fn;return d(e)&&(e=e.call(this)),!0===e?s(this):!1===e||null==e?n(this):u(e)?e.length>0?t.helpers.each(e,i):n(this):s(e)}),t.registerHelper("each",function(t,e){var i=e.fn,n=e.inverse,s=0,a="",r;if(d(t)&&(t=t.call(this)),e.data&&(r=g(e.data)),t&&"object"==typeof t)if(u(t))for(var o=t.length;s<o;s++)r&&(r.index=s,r.first=0===s,r.last=s===t.length-1),a+=i(t[s],{data:r});else for(var l in t)t.hasOwnProperty(l)&&(r&&(r.key=l,r.index=s,r.first=0===s),a+=i(t[l],{data:r}),s++);return 0===s&&(a=n(this)),a}),t.registerHelper("if",function(t,e){return d(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||r.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,i){return t.helpers.if.call(this,e,{fn:i.inverse,inverse:i.fn,hash:i.hash})}),t.registerHelper("with",function(t,e){if(d(t)&&(t=t.call(this)),!r.isEmpty(t))return e.fn(t)}),t.registerHelper("log",function(e,i){var n=i.data&&null!=i.data.level?parseInt(i.data.level,10):1;t.log(n,e)}),t.registerHelper("capitalize",function(t){return t.charAt(0).toUpperCase()+t.slice(1)})}function a(t,e){f.log(t,e)}var r=t,o=e.default,l="1.3.0";i.VERSION="1.3.0";var c=4;i.COMPILER_REVISION=4;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};i.REVISION_CHANGES=h;var u=r.isArray,d=r.isFunction,p=r.toString,m="[object Object]";i.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:f,log:a,registerHelper:function(t,e,i){if(p.call(t)===m){if(i||e)throw new o("Arg not supported with multiple helpers");r.extend(this.helpers,t)}else i&&(e.not=i),this.helpers[t]=e},registerPartial:function(t,e){p.call(t)===m?r.extend(this.partials,t):this.partials[t]=e}};var f={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){if(f.level<=t){var i=f.methodMap[t];"undefined"!=typeof console&&console[i]}}};i.logger=f,i.log=a;var g=function(t){var e={};return r.extend(e,t),e};i.createFrame=g}),sumo.define("handlebars/runtime",["./utils","./exception","./base","exports"],function(t,e,i,n){function s(t){var e=t&&t[0]||1,i=d;if(e!==i){if(e<i){var n=p[i],s=p[e];throw new u("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+s+").")}throw new u("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function a(t,e){if(!e)throw new u("No environment passed to template");var i=function(t,i,n,s,a,r){var o=e.VM.invokePartial.apply(this,arguments);if(null!=o)return o;if(e.compile){var l={helpers:s,partials:a,data:r};return a[i]=e.compile(t,{data:void 0!==r},e),a[i](n,l)}throw new u("The partial "+i+" could not be compiled when running in runtime-only mode")},n={escapeExpression:h.escapeExpression,invokePartial:i,programs:[],program:function(t,e,i){var n=this.programs[t];return i?n=o(t,e,i):n||(n=this.programs[t]=o(t,e)),n},merge:function(t,e){var i=t||e;return t&&e&&t!==e&&(i={},h.extend(i,e),h.extend(i,t)),i},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(i,s){s=s||{};var a=s.partial?s:e,r,o;s.partial||(r=s.helpers,o=s.partials);var l=t.call(n,a,i,r,o,s.data);return s.partial||e.VM.checkRevision(n.compilerInfo),l}}function r(t,e,i){var n=Array.prototype.slice.call(arguments,3),s=function(t,s){return s=s||{},e.apply(this,[t,s.data||i].concat(n))};return s.program=t,s.depth=n.length,s}function o(t,e,i){var n=function(t,n){return n=n||{},e(t,n.data||i)};return n.program=t,n.depth=0,n}function l(t,e,i,n,s,a){var r={partial:!0,helpers:n,partials:s,data:a};if(void 0===t)throw new u("The partial "+e+" could not be found");if(t instanceof Function)return t(i,r)}function c(){return""}var h=t,u=e.default,d=i.COMPILER_REVISION,p=i.REVISION_CHANGES;n.checkRevision=s,n.template=a,n.programWithDepth=r,n.program=o,n.invokePartial=l,n.noop=c}),sumo.define("handlebars.runtime",["./handlebars/base","./handlebars/safe-string","./handlebars/exception","./handlebars/utils","./handlebars/runtime","exports"],function(t,e,i,n,s,a){var r=t,o=e.default,l=i.default,c=n,h=s,u=function(){var t=new r.HandlebarsEnvironment;return c.extend(t,r),t.SafeString=o,t.Exception=l,t.Utils=c,t.VM=h,t.template=function(e){return h.template(e,t)},t},d=u();d.create=u,a.default=d}),sumo.define("handlebars/compiler/ast",["../exception","exports"],function(t,e){function i(t){t=t||{},this.firstLine=t.first_line,this.firstColumn=t.first_column,this.lastColumn=t.last_column,this.lastLine=t.last_line}var n=t.default,s={ProgramNode:function(t,e,n,a){var r,o;3===arguments.length?(a=n,n=null):2===arguments.length&&(a=e,e=null),i.call(this,a),this.type="program",this.statements=t,this.strip={},n?(o=n[0],o?(r={first_line:o.firstLine,last_line:o.lastLine,last_column:o.lastColumn,first_column:o.firstColumn},this.inverse=new s.ProgramNode(n,e,r)):this.inverse=new s.ProgramNode(n,e),this.strip.right=e.left):e&&(this.strip.left=e.right)},MustacheNode:function(t,e,n,a,r){if(i.call(this,r),this.type="mustache",this.strip=a,null!=n&&n.charAt){var o=n.charAt(3)||n.charAt(2);this.escaped="{"!==o&&"&"!==o}else this.escaped=!!n;t instanceof s.SexprNode?this.sexpr=t:this.sexpr=new s.SexprNode(t,e),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(t,e,n){i.call(this,n),this.type="sexpr",this.hash=e;var s=this.id=t[0],a=this.params=t.slice(1),r=this.eligibleHelper=s.isSimple;this.isHelper=r&&(a.length||e)},PartialNode:function(t,e,n,s){i.call(this,s),this.type="partial",this.partialName=t,this.context=e,this.strip=n},BlockNode:function(t,e,s,a,r){if(i.call(this,r),t.sexpr.id.original!==a.path.original)throw new n(t.sexpr.id.original+" doesn't match "+a.path.original,this);this.type="block",this.mustache=t,this.program=e,this.inverse=s,this.strip={left:t.strip.left,right:a.strip.right},(e||s).strip.left=t.strip.right,(s||e).strip.right=a.strip.left,s&&!e&&(this.isInverse=!0)},ContentNode:function(t,e){i.call(this,e),this.type="content",this.string=t},HashNode:function(t,e){i.call(this,e),this.type="hash",this.pairs=t},IdNode:function(t,e){i.call(this,e),this.type="ID";for(var s="",a=[],r=0,o=0,l=t.length;o<l;o++){var c=t[o].part;if(s+=(t[o].separator||"")+c,".."===c||"."===c||"this"===c){if(a.length>0)throw new n("Invalid path: "+s,this);".."===c?r++:this.isScoped=!0}else a.push(c)}this.original=s,this.parts=a,this.string=a.join("."),this.depth=r,this.isSimple=1===t.length&&!this.isScoped&&0===r,this.stringModeValue=this.string},PartialNameNode:function(t,e){i.call(this,e),this.type="PARTIAL_NAME",this.name=t.original},DataNode:function(t,e){i.call(this,e),this.type="DATA",this.id=t},StringNode:function(t,e){i.call(this,e),this.type="STRING",this.original=this.string=this.stringModeValue=t},IntegerNode:function(t,e){i.call(this,e),this.type="INTEGER",this.original=this.integer=t,this.stringModeValue=Number(t)},BooleanNode:function(t,e){i.call(this,e),this.type="BOOLEAN",this.bool=t,this.stringModeValue="true"===t},CommentNode:function(t,e){i.call(this,e),this.type="comment",this.comment=t}};e.default=s}),sumo.define("handlebars/compiler/parser",["exports"],function(t){var e=function(){function t(t,e){return{left:"~"===t.charAt(2),right:"~"===e.charAt(0)||"~"===e.charAt(1)}}function e(){this.yy={}}var i={trace:function t(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function e(i,n,s,a,r,o,l){var c=o.length-1;switch(r){case 1:return new a.ProgramNode(o[c-1],this._$);case 2:return new a.ProgramNode([],this._$);case 3:this.$=new a.ProgramNode([],o[c-1],o[c],this._$);break;case 4:this.$=new a.ProgramNode(o[c-2],o[c-1],o[c],this._$);break;case 5:this.$=new a.ProgramNode(o[c-1],o[c],[],this._$);break;case 6:this.$=new a.ProgramNode(o[c],this._$);break;case 7:case 8:this.$=new a.ProgramNode([],this._$);break;case 9:this.$=[o[c]];break;case 10:o[c-1].push(o[c]),this.$=o[c-1];break;case 11:this.$=new a.BlockNode(o[c-2],o[c-1].inverse,o[c-1],o[c],this._$);break;case 12:this.$=new a.BlockNode(o[c-2],o[c-1],o[c-1].inverse,o[c],this._$);break;case 13:case 14:this.$=o[c];break;case 15:this.$=new a.ContentNode(o[c],this._$);break;case 16:this.$=new a.CommentNode(o[c],this._$);break;case 17:case 18:this.$=new a.MustacheNode(o[c-1],null,o[c-2],t(o[c-2],o[c]),this._$);break;case 19:this.$={path:o[c-1],strip:t(o[c-2],o[c])};break;case 20:case 21:this.$=new a.MustacheNode(o[c-1],null,o[c-2],t(o[c-2],o[c]),this._$);break;case 22:this.$=new a.PartialNode(o[c-2],o[c-1],t(o[c-3],o[c]),this._$);break;case 23:this.$=t(o[c-1],o[c]);break;case 24:this.$=new a.SexprNode([o[c-2]].concat(o[c-1]),o[c],this._$);break;case 25:this.$=new a.SexprNode([o[c]],null,this._$);break;case 26:this.$=o[c];break;case 27:this.$=new a.StringNode(o[c],this._$);break;case 28:this.$=new a.IntegerNode(o[c],this._$);break;case 29:this.$=new a.BooleanNode(o[c],this._$);break;case 30:this.$=o[c];break;case 31:o[c-1].isHelper=!0,this.$=o[c-1];break;case 32:this.$=new a.HashNode(o[c],this._$);break;case 33:this.$=[o[c-2],o[c]];break;case 34:this.$=new a.PartialNameNode(o[c],this._$);break;case 35:this.$=new a.PartialNameNode(new a.StringNode(o[c],this._$),this._$);break;case 36:
this.$=new a.PartialNameNode(new a.IntegerNode(o[c],this._$));break;case 37:this.$=new a.DataNode(o[c],this._$);break;case 38:this.$=new a.IdNode(o[c],this._$);break;case 39:o[c-2].push({part:o[c],separator:o[c-1]}),this.$=o[c-2];break;case 40:this.$=[{part:o[c]}];break;case 43:this.$=[];break;case 44:o[c-1].push(o[c]);break;case 47:this.$=[o[c]];break;case 48:o[c-1].push(o[c])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function t(e,i){throw new Error(e)},parse:function t(e){function i(t){a.length=a.length-2*t,r.length=r.length-t,o.length=o.length-t}function n(){var t;return t=s.lexer.lex()||1,"number"!=typeof t&&(t=s.symbols_[t]||t),t}var s=this,a=[0],r=[null],o=[],l=this.table,c="",h=0,u=0,d=0,p=2,m=1;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var f=this.lexer.yylloc;o.push(f);var g=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var v,b,_,y,w,x,k={},C,S,T,E;;){if(_=a[a.length-1],this.defaultActions[_]?y=this.defaultActions[_]:(null!==v&&void 0!==v||(v=n()),y=l[_]&&l[_][v]),void 0===y||!y.length||!y[0]){var I="";if(!d){E=[];for(C in l[_])this.terminals_[C]&&C>2&&E.push("'"+this.terminals_[C]+"'");I=this.lexer.showPosition?"Parse error on line "+(h+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(h+1)+": Unexpected "+(1==v?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(I,{text:this.lexer.match,token:this.terminals_[v]||v,line:this.lexer.yylineno,loc:f,expected:E})}}if(y[0]instanceof Array&&y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+v);switch(y[0]){case 1:a.push(v),r.push(this.lexer.yytext),o.push(this.lexer.yylloc),a.push(y[1]),v=null,b?(v=b,b=null):(u=this.lexer.yyleng,c=this.lexer.yytext,h=this.lexer.yylineno,f=this.lexer.yylloc,d>0&&d--);break;case 2:if(S=this.productions_[y[1]][1],k.$=r[r.length-S],k._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},g&&(k._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(x=this.performAction.call(k,c,u,h,this.yy,y[1],r,o)))return x;S&&(a=a.slice(0,-1*S*2),r=r.slice(0,-1*S),o=o.slice(0,-1*S)),a.push(this.productions_[y[1]][0]),r.push(k.$),o.push(k._$),T=l[a[a.length-2]][a[a.length-1]],a.push(T);break;case 3:return!0}}return!0}},n=function(){var t={EOF:1,parseError:function t(e,i){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,i)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,i,n,s,a;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length&&(!(i=this._input.match(this.rules[r[o]]))||e&&!(i[0].length>e[0].length)||(e=i,n=o,this.options.flex));o++);return e?(a=e[0].match(/(?:\r\n?|\n).*/g),a&&(this.yylineno+=a.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:a?a[a.length-1].length-a[a.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,r[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function t(){var e=this.next();return void 0!==e?e:this.lex()},begin:function t(e){this.conditionStack.push(e)},popState:function t(){return this.conditionStack.pop()},_currentRules:function t(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function t(e){this.begin(e)}};return t.options={},t.performAction=function t(e,i,n,s){function a(t,e){return i.yytext=i.yytext.substr(t,i.yyleng-e)}var r=s;switch(n){case 0:if("\\\\"===i.yytext.slice(-2)?(a(0,1),this.begin("mu")):"\\"===i.yytext.slice(-1)?(a(0,1),this.begin("emu")):this.begin("mu"),i.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return a(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return a(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return i.yytext=a(1,2).replace(/\\"/g,'"'),32;case 24:return i.yytext=a(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:case 27:return 34;case 28:return 33;case 29:return 40;case 30:return i.yytext=a(1,2),40;case 31:return"INVALID";case 32:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},t}();return i.lexer=n,e.prototype=i,i.Parser=e,new e}();t.default=e}),sumo.define("handlebars/compiler/base",["./parser","./ast","exports"],function(t,e,i){function n(t){return t.constructor===a.ProgramNode?t:(s.yy=a,s.parse(t))}var s=t.default,a=e.default;i.parser=s,i.parse=n}),sumo.define("handlebars/compiler/compiler",["../exception","exports"],function(t,e){function i(){}function n(t,e,i){if(null==t||"string"!=typeof t&&t.constructor!==i.AST.ProgramNode)throw new a("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);"data"in(e=e||{})||(e.data=!0);var n=i.parse(t),s=(new i.Compiler).compile(n,e);return(new i.JavaScriptCompiler).compile(s,e)}function s(t,e,i){function n(){var n=i.parse(t),s=(new i.Compiler).compile(n,e),a=(new i.JavaScriptCompiler).compile(s,e,void 0,!0);return i.template(a)}if(null==t||"string"!=typeof t&&t.constructor!==i.AST.ProgramNode)throw new a("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in(e=e||{})||(e.data=!0);var s;return function(t,e){return s||(s=n()),s.call(this,t,e)}}var a=t.default;e.Compiler=i,i.prototype={compiler:i,disassemble:function(){for(var t=this.opcodes,e,i=[],n,s,a=0,r=t.length;a<r;a++)if(e=t[a],"DECLARE"===e.opcode)i.push("DECLARE "+e.name+"="+e.value);else{n=[];for(var o=0;o<e.args.length;o++)s=e.args[o],"string"==typeof s&&(s='"'+s.replace("\n","\\n")+'"'),n.push(s);i.push(e.opcode+" "+n.join(" "))}return i.join("\n")},equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var i=0;i<e;i++){var n=this.opcodes[i],s=t.opcodes[i];if(n.opcode!==s.opcode||n.args.length!==s.args.length)return!1;for(var a=0;a<n.args.length;a++)if(n.args[a]!==s.args[a])return!1}if(e=this.children.length,t.children.length!==e)return!1;for(i=0;i<e;i++)if(!this.children[i].equals(t.children[i]))return!1;return!0},guid:0,compile:function(t,e){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=e;var i=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0},i)for(var n in i)this.options.knownHelpers[n]=i[n];return this.accept(t)},accept:function(t){var e=t.strip||{},i;return e.left&&this.opcode("strip"),i=this[t.type](t),e.right&&this.opcode("strip"),i},program:function(t){for(var e=t.statements,i=0,n=e.length;i<n;i++)this.accept(e[i]);return this.isSimple=1===n,this.depths.list=this.depths.list.sort(function(t,e){return t-e}),this},compileProgram:function(t){var e=(new this.compiler).compile(t,this.options),i=this.guid++,n;this.usePartial=this.usePartial||e.usePartial,this.children[i]=e;for(var s=0,a=e.depths.list.length;s<a;s++)(n=e.depths.list[s])<2||this.addDepth(n-1);return i},block:function(t){var e=t.mustache,i=t.program,n=t.inverse;i&&(i=this.compileProgram(i)),n&&(n=this.compileProgram(n));var s=e.sexpr,a=this.classifySexpr(s);"helper"===a?this.helperSexpr(s,i,n):"simple"===a?(this.simpleSexpr(s),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(s,i,n),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(t){var e=t.pairs,i,n;this.opcode("pushHash");for(var s=0,a=e.length;s<a;s++)i=e[s],n=i[1],this.options.stringParams?(n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",n.stringModeValue,n.type),"sexpr"===n.type&&this.sexpr(n)):this.accept(n),this.opcode("assignToHash",i[0]);this.opcode("popHash")},partial:function(t){var e=t.partialName;this.usePartial=!0,t.context?this.ID(t.context):this.opcode("push","depth0"),this.opcode("invokePartial",e.name),this.opcode("append")},content:function(t){this.opcode("appendContent",t.string)},mustache:function(t){this.sexpr(t.sexpr),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(t,e,i){var n=t.id,s=n.parts[0],a=null!=e||null!=i;this.opcode("getContext",n.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("invokeAmbiguous",s,a)},simpleSexpr:function(t){var e=t.id;"DATA"===e.type?this.DATA(e):e.parts.length?this.ID(e):(this.addDepth(e.depth),this.opcode("getContext",e.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,i){var n=this.setupFullMustacheParams(t,e,i),s=t.id.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",n.length,s);else{if(this.options.knownHelpersOnly)throw new a("You specified knownHelpersOnly, but used the unknown helper "+s,t);this.opcode("invokeHelper",n.length,s,t.isRoot)}},sexpr:function(t){var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ID:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth),t.parts[0]?this.opcode("lookupOnContext",t.parts[0]):this.opcode("pushContext");for(var e=1,i=t.parts.length;e<i;e++)this.opcode("lookup",t.parts[e])},DATA:function(t){if(this.options.data=!0,t.id.isScoped||t.id.depth)throw new a("Scoped data references are not supported: "+t.original,t);this.opcode("lookupData");for(var e=t.id.parts,i=0,n=e.length;i<n;i++)this.opcode("lookup",e[i])},STRING:function(t){this.opcode("pushString",t.string)},INTEGER:function(t){this.opcode("pushLiteral",t.integer)},BOOLEAN:function(t){this.opcode("pushLiteral",t.bool)},comment:function(){},opcode:function(t){this.opcodes.push({opcode:t,args:[].slice.call(arguments,1)})},declare:function(t,e){this.opcodes.push({opcode:"DECLARE",name:t,value:e})},addDepth:function(t){0!==t&&(this.depths[t]||(this.depths[t]=!0,this.depths.list.push(t)))},classifySexpr:function(t){var e=t.isHelper,i=t.eligibleHelper,n=this.options;if(i&&!e){var s=t.id.parts[0];n.knownHelpers[s]?e=!0:n.knownHelpersOnly&&(i=!1)}return e?"helper":i?"ambiguous":"simple"},pushParams:function(t){for(var e=t.length,i;e--;)i=t[e],this.options.stringParams?(i.depth&&this.addDepth(i.depth),this.opcode("getContext",i.depth||0),this.opcode("pushStringParam",i.stringModeValue,i.type),"sexpr"===i.type&&this.sexpr(i)):this[i.type](i)},setupFullMustacheParams:function(t,e,i){var n=t.params;return this.pushParams(n),this.opcode("pushProgram",e),this.opcode("pushProgram",i),t.hash?this.hash(t.hash):this.opcode("emptyHash"),n}},e.precompile=n,e.compile=s}),sumo.define("handlebars/compiler/javascript-compiler",["../base","../exception","exports"],function(t,e,i){function n(t){this.value=t}function s(){}var a=t.COMPILER_REVISION,r=t.REVISION_CHANGES,o=t.log,l=e.default;s.prototype={nameLookup:function(t,e){var i,n;return 0===t.indexOf("depth")&&(i=!0),n=/^[0-9]+$/.test(e)?t+"["+e+"]":s.isValidJavaScriptVariableName(e)?t+"."+e:t+"['"+e+"']",i?"("+t+" && "+n+")":n},compilerInfo:function(){var t=a;return"this.compilerInfo = ["+t+",'"+r[t]+"'];\n"},appendToBuffer:function(t){return this.environment.isSimple?"return "+t+";":{appendToBuffer:!0,content:t,toString:function(){return"buffer += "+t+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(t,e,i,n){this.environment=t,this.options=e||{},o("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!i,this.context=i||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(t,e);var s=t.opcodes,a;this.i=0;for(var r=s.length;this.i<r;this.i++)a=s[this.i],"DECLARE"===a.opcode?this[a.name]=a.value:this[a.opcode].apply(this,a.args),a.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l("Compile completed with content left on stack");return this.createFunctionContext(n)},preamble:function(){var t=[];if(this.isChild)t.push("");else{var e=this.namespace,i="helpers = this.merge(helpers, "+e+".helpers);";this.environment.usePartial&&(i=i+" partials = this.merge(partials, "+e+".partials);"),this.options.data&&(i+=" data = data || {};"),t.push(i)}this.environment.isSimple?t.push(""):t.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=t},createFunctionContext:function(t){var e=this.stackVars.concat(this.registers.list);if(e.length>0&&(this.source[1]=this.source[1]+", "+e.join(", ")),!this.isChild)for(var i in this.context.aliases)this.context.aliases.hasOwnProperty(i)&&(this.source[1]=this.source[1]+", "+i+"="+this.context.aliases[i]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var n=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],s=0,a=this.environment.depths.list.length;s<a;s++)n.push("depth"+this.environment.depths.list[s]);var r=this.mergeSource();if(this.isChild||(r=this.compilerInfo()+r),t)return n.push(r),Function.apply(this,n);var l="function "+(this.name||"")+"("+n.join(",")+") {\n  "+r+"}";return o("debug",l+"\n\n"),l},mergeSource:function(){for(var t="",e,i=0,n=this.source.length;i<n;i++){var s=this.source[i];s.appendToBuffer?e=e?e+"\n    + "+s.content:s.content:(e&&(t+="buffer += "+e+";\n  ",e=void 0),t+=s+"\n  ")}return t},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t),this.replaceStack(function(e){return t.splice(1,0,e),"blockHelperMissing.call("+t.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t);var e=this.topStack();t.splice(1,0,e),this.pushSource("if (!"+this.lastHelper+") { "+e+" = blockHelperMissing.call("+t.join(", ")+"); }")},appendContent:function(t){this.pendingContent&&(t=this.pendingContent+t),this.stripNext&&(t=t.replace(/^\s+/,"")),this.pendingContent=t},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var t=this.popStack();this.pushSource("if("+t+" || "+t+" === 0) { "+this.appendToBuffer(t)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(t){this.lastContext!==t&&(this.lastContext=t)},lookupOnContext:function(t){this.push(this.nameLookup("depth"+this.lastContext,t,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(t){return"typeof "+t+" === functionType ? "+t+".apply(depth0) : "+t})},lookup:function(t){this.replaceStack(function(e){return e+" == null || "+e+" === false ? "+e+" : "+this.nameLookup(e,t,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(t,e){this.pushStackLiteral("depth"+this.lastContext),this.pushString(e),"sexpr"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+t.contexts.join(",")+"}"),this.push("{"+t.types.join(",")+"}")),this.push("{\n    "+t.values.join(",\n    ")+"\n  }")},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},push:function(t){return this.inlineStack.push(t),t},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},invokeHelper:function(t,e,i){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var n=this.lastHelper=this.setupHelper(t,e,!0),s=this.nameLookup("depth"+this.lastContext,e,"context"),a="helper = "+n.name+" || "+s;n.paramsInit&&(a+=","+n.paramsInit),this.push("("+a+",helper ? helper.call("+n.callParams+") : helperMissing.call("+n.helperMissingParams+"))"),i||this.flushInline()},invokeKnownHelper:function(t,e){var i=this.setupHelper(t,e);this.push(i.name+".call("+i.callParams+")")},invokeAmbiguous:function(t,e){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var i=this.setupHelper(0,t,e),n=this.lastHelper=this.nameLookup("helpers",t,"helper"),s=this.nameLookup("depth"+this.lastContext,t,"context"),a=this.nextStack();i.paramsInit&&this.pushSource(i.paramsInit),this.pushSource("if (helper = "+n+") { "+a+" = helper.call("+i.callParams+"); }"),this.pushSource("else { helper = "+s+"; "+a+" = typeof helper === functionType ? helper.call("+i.callParams+") : helper; }")},invokePartial:function(t){var e=[this.nameLookup("partials",t,"partial"),"'"+t+"'",this.popStack(),"helpers","partials"];this.options.data&&e.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+e.join(", ")+")")},assignToHash:function(t){var e=this.popStack(),i,n;this.options.stringParams&&(n=this.popStack(),i=this.popStack());var s=this.hash;i&&s.contexts.push("'"+t+"': "+i),n&&s.types.push("'"+t+"': "+n),s.values.push("'"+t+"': ("+e+")")},compiler:s,compileChildren:function(t,e){for(var i=t.children,n,s,a=0,r=i.length;a<r;a++){n=i[a],s=new this.compiler;var o=this.matchExistingProgram(n);null==o?(this.context.programs.push(""),o=this.context.programs.length,n.index=o,n.name="program"+o,this.context.programs[o]=s.compile(n,e,this.context),this.context.environments[o]=n):(n.index=o,n.name="program"+o)}},matchExistingProgram:function(t){for(var e=0,i=this.context.environments.length;e<i;e++){var n=this.context.environments[e];if(n&&n.equals(t))return e}},programExpression:function(t){if(this.context.aliases.self="this",null==t)return"self.noop";for(var e=this.environment.children[t],i=e.depths.list,n,s=[e.index,e.name,"data"],a=0,r=i.length;a<r;a++)n=i[a],1===n?s.push("depth0"):s.push("depth"+(n-1));return(0===i.length?"self.program(":"self.programWithDepth(")+s.join(", ")+")"},register:function(t,e){this.useRegister(t),this.pushSource(t+" = "+e+";")},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},pushStackLiteral:function(t){return this.push(new n(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),t&&this.source.push(t)},pushStack:function(t){this.flushInline();var e=this.incrStack();return t&&this.pushSource(e+" = "+t+";"),this.compileStack.push(e),e},replaceStack:function(t){var e="",i=this.isInline(),s,a,r;if(i){var o=this.popStack(!0);if(o instanceof n)s=o.value,r=!0;else{a=!this.stackSlot;var l=a?this.incrStack():this.topStackName();e="("+this.push(l)+" = "+o+"),",s=this.topStack()}}else s=this.topStack();var c=t.call(this,s);return i?(r||this.popStack(),a&&this.stackSlot--,this.push("("+e+c+")")):(/^stack/.test(s)||(s=this.nextStack()),this.pushSource(s+" = ("+e+c+");")),s},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;if(t.length){this.inlineStack=[];for(var e=0,i=t.length;e<i;e++){var s=t[e];s instanceof n?this.compileStack.push(s):this.pushStack(s)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),i=(e?this.inlineStack:this.compileStack).pop();if(!t&&i instanceof n)return i.value;if(!e){if(!this.stackSlot)throw new l("Invalid stack pop");this.stackSlot--}return i},topStack:function(t){var e=this.isInline()?this.inlineStack:this.compileStack,i=e[e.length-1];return!t&&i instanceof n?i.value:i},quotedString:function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(t,e,i){var n=[];return{params:n,paramsInit:this.setupParams(t,n,i),name:this.nameLookup("helpers",e,"helper"),callParams:["depth0"].concat(n).join(", "),helperMissingParams:i&&["depth0",this.quotedString(e)].concat(n).join(", ")}},setupOptions:function(t,e){var i=[],n=[],s=[],a,r,o;i.push("hash:"+this.popStack()),this.options.stringParams&&(i.push("hashTypes:"+this.popStack()),i.push("hashContexts:"+this.popStack())),r=this.popStack(),((o=this.popStack())||r)&&(o||(this.context.aliases.self="this",o="self.noop"),r||(this.context.aliases.self="this",r="self.noop"),i.push("inverse:"+r),i.push("fn:"+o));for(var l=0;l<t;l++)a=this.popStack(),e.push(a),this.options.stringParams&&(s.push(this.popStack()),n.push(this.popStack()));return this.options.stringParams&&(i.push("contexts:["+n.join(",")+"]"),i.push("types:["+s.join(",")+"]")),this.options.data&&i.push("data:data"),i},setupParams:function(t,e,i){var n="{"+this.setupOptions(t,e).join(",")+"}";return i?(this.useRegister("options"),e.push("options"),"options="+n):(e.push(n),"")}};for(var c="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),h=s.RESERVED_WORDS={},u=0,d=c.length;u<d;u++)h[c[u]]=!0;s.isValidJavaScriptVariableName=function(t){return!(s.RESERVED_WORDS[t]||!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t))},i.default=s}),sumo.define("handlebars",["./handlebars.runtime","./handlebars/compiler/ast","./handlebars/compiler/base","./handlebars/compiler/compiler","./handlebars/compiler/javascript-compiler","exports"],function(t,e,i,n,s,a){var r=t.default,o=e.default,l=i.parser,c=i.parse,h=n.Compiler,u=n.compile,d=n.precompile,p=s.default,m=r.create,f=function(){var t=m();return t.compile=function(e,i){return u(e,i,t)},t.precompile=function(e,i){return d(e,i,t)},t.AST=o,t.Compiler=h,t.JavaScriptCompiler=p,t.Parser=l,t.parse=c,t};return r=f(),r.create=f,a.default=r,r}),function(i,n){"function"==typeof sumo.define&&sumo.define.amd?sumo.define("tether",n):"object"==typeof t?e.exports=n(require,t,e):i.Tether=n()}(this,function(t,e,i){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t){var e=getComputedStyle(t),i=e.position;if("fixed"===i)return t;for(var n=t;n=n.parentNode;){var s=void 0;try{s=getComputedStyle(n)}catch(t){}if(void 0===s||null===s)return n;var a=s.overflow,r=s.overflowX;if(/(auto|scroll)/.test(a+s.overflowY+r)&&("absolute"!==i||["relative","absolute","fixed"].indexOf(s.position)>=0))return n}return document.body}
function a(t){var e=void 0;t===document?(e=document,t=document.documentElement):e=t.ownerDocument;var i=e.documentElement,n={},s=t.getBoundingClientRect();for(var a in s)n[a]=s[a];var r=C(e);return n.top-=r.top,n.left-=r.left,void 0===n.width&&(n.width=document.body.scrollWidth-n.left-n.right),void 0===n.height&&(n.height=document.body.scrollHeight-n.top-n.bottom),n.top=n.top-i.clientTop,n.left=n.left-i.clientLeft,n.right=e.body.clientWidth-n.width-n.left,n.bottom=e.body.clientHeight-n.height-n.top,n}function r(t){return t.offsetParent||document.documentElement}function o(){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");l(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var n=t.offsetWidth;i===n&&(n=e.clientWidth),document.body.removeChild(e);var s=i-n;return{width:s,height:s}}function l(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach(function(e){if(e)for(var i in e)({}).hasOwnProperty.call(e,i)&&(t[i]=e[i])}),t}function c(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.remove(e)});else{var i=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),n=d(t).replace(i," ");p(t,n)}}function h(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.add(e)});else{c(t,e);var i=d(t)+" "+e;p(t,i)}}function u(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=d(t);return new RegExp("(^| )"+e+"( |$)","gi").test(i)}function d(t){return t.className instanceof SVGAnimatedString?t.className.baseVal:t.className}function p(t,e){t.setAttribute("class",e)}function m(t,e,i){i.forEach(function(i){-1===e.indexOf(i)&&u(t,i)&&c(t,i)}),e.forEach(function(e){u(t,e)||h(t,e)})}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){var i=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t+i>=e&&e>=t-i}function g(){return"undefined"!=typeof performance&&void 0!==performance.now?performance.now():+new Date}function v(){for(var t={top:0,left:0},e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.forEach(function(e){var i=e.top,n=e.left;"string"==typeof i&&(i=parseFloat(i,10)),"string"==typeof n&&(n=parseFloat(n,10)),t.top+=i,t.left+=n}),t}function b(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t}function _(t,e){return"scrollParent"===e?e=t.scrollParent:"window"===e&&(e=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),e===document&&(e=e.documentElement),void 0!==e.nodeType&&function(){var t=a(e),i=t,n=getComputedStyle(e);e=[i.left,i.top,t.width+i.left,t.height+i.top],q.forEach(function(t,i){t=t[0].toUpperCase()+t.substr(1),"Top"===t||"Left"===t?e[i]+=parseFloat(n["border"+t+"Width"]):e[i]-=parseFloat(n["border"+t+"Width"])})}(),e}var y=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),w=void 0;void 0===w&&(w={modules:[]});var x=function(){var t=0;return function(){return++t}}(),k={},C=function t(e){var i=e._tetherZeroElement;void 0===i&&(i=e.createElement("div"),i.setAttribute("data-tether-id",x()),l(i.style,{top:0,left:0,position:"absolute"}),e.body.appendChild(i),e._tetherZeroElement=i);var n=i.getAttribute("data-tether-id");if(void 0===k[n]){k[n]={};var s=i.getBoundingClientRect();for(var a in s)k[n][a]=s[a];T(function(){delete k[n]})}return k[n]},S=[],T=function t(e){S.push(e)},E=function t(){for(var e=void 0;e=S.pop();)e()},I=function(){function t(){n(this,t)}return y(t,[{key:"on",value:function t(e,i,n){var s=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[e]&&(this.bindings[e]=[]),this.bindings[e].push({handler:i,ctx:n,once:s})}},{key:"once",value:function t(e,i,n){this.on(e,i,n,!0)}},{key:"off",value:function t(e,i){if(void 0===this.bindings||void 0===this.bindings[e])if(void 0===i)delete this.bindings[e];else for(var n=0;n<this.bindings[e].length;)this.bindings[e][n].handler===i?this.bindings[e].splice(n,1):++n}},{key:"trigger",value:function t(e){if(void 0!==this.bindings&&this.bindings[e])for(var i=0;i<this.bindings[e].length;){var n=this.bindings[e][i],s=n.handler,a=n.ctx,r=n.once,o=a;void 0===o&&(o=this);for(var l=arguments.length,c=Array(l>1?l-1:0),h=1;h<l;h++)c[h-1]=arguments[h];s.apply(o,c),r?this.bindings[e].splice(i,1):++i}}}]),t}();w.Utils={getScrollParent:s,getBounds:a,getOffsetParent:r,extend:l,addClass:h,removeClass:c,hasClass:u,updateClasses:m,defer:T,flush:E,uniqueId:x,Evented:I,getScrollBarSize:o};var P=function(){function t(t,e){var i=[],n=!0,s=!1,a=void 0;try{for(var r=t[Symbol.iterator](),o;!(n=(o=r.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){s=!0,a=t}finally{try{!n&&r.return&&r.return()}finally{if(s)throw a}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();if(void 0===w)throw new Error("You must include the utils.js file before tether.js");var A=w.Utils,s=A.getScrollParent,a=A.getBounds,r=A.getOffsetParent,l=A.extend,h=A.addClass,c=A.removeClass,m=A.updateClasses,T=A.defer,E=A.flush,o=A.getScrollBarSize,$=function(){for(var t=document.createElement("div"),e=["transform","webkitTransform","OTransform","MozTransform","msTransform"],i=0;i<e.length;++i){var n=e[i];if(void 0!==t.style[n])return n}}(),O=null,L=[],B=function t(){L.forEach(function(t){t.position(!1)}),E()};!function(){var t=null,e=null,i=null,n=function n(){if(void 0!==e&&e>16)return e=Math.min(e-16,250),void(i=setTimeout(n,250));void 0!==t&&g()-t<10||(void 0!==i&&(clearTimeout(i),i=null),t=g(),B(),e=g()-t)};["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,n)})}();var D={center:"center",left:"right",right:"left"},M={middle:"middle",top:"bottom",bottom:"top"},N={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},z=function t(e,i){var n=e.left,s=e.top;return"auto"===n&&(n=D[i.left]),"auto"===s&&(s=M[i.top]),{left:n,top:s}},R=function t(e){var i=e.left,n=e.top;return void 0!==N[e.left]&&(i=N[e.left]),void 0!==N[e.top]&&(n=N[e.top]),{left:i,top:n}},j=function t(e){var i=e.split(" "),n=P(i,2);return{top:n[0],left:n[1]}},H=j,U=function(){function t(e){var i=this;n(this,t),this.position=this.position.bind(this),L.push(this),null===O&&(O=window.setInterval(F.position,500)),this.history=[],this.setOptions(e,!1),w.modules.forEach(function(t){void 0!==t.initialize&&t.initialize.call(i)}),this.position()}return y(t,[{key:"getClass",value:function t(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],i=this.options.classes;return void 0!==i&&i[e]?this.options.classes[e]:this.options.classPrefix?this.options.classPrefix+"-"+e:e}},{key:"setOptions",value:function t(e){var i=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1],a={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=l(a,e);var r=this.options,o=r.element,c=r.target,u=r.targetModifier;if(this.element=o,this.target=c,this.targetModifier=u,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if(void 0===i[t])throw new Error("Tether Error: Both element and target must be defined");void 0!==i[t].jquery?i[t]=i[t][0]:"string"==typeof i[t]&&(i[t]=document.querySelector(i[t]))}),h(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&h(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=H(this.options.targetAttachment),this.attachment=H(this.options.attachment),this.offset=j(this.options.offset),this.targetOffset=j(this.options.targetOffset),void 0!==this.scrollParent&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParent=this.target:this.scrollParent=s(this.target),!1!==this.options.enabled&&this.enable(n)}},{key:"getTargetBounds",value:function t(){if(void 0===this.targetModifier)return a(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var e=a(this.target),i={height:e.height,width:e.width,top:e.top,left:e.left};return i.height=Math.min(i.height,e.height-(pageYOffset-e.top)),i.height=Math.min(i.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),i.height=Math.min(innerHeight,i.height),i.height-=2,i.width=Math.min(i.width,e.width-(pageXOffset-e.left)),i.width=Math.min(i.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),i.width=Math.min(innerWidth,i.width),i.width-=2,i.top<pageYOffset&&(i.top=pageYOffset),i.left<pageXOffset&&(i.left=pageXOffset),i}if("scroll-handle"===this.targetModifier){var e=void 0,n=this.target;n===document.body?(n=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=a(n);var s=getComputedStyle(n),r=n.scrollWidth>n.clientWidth||[s.overflow,s.overflowX].indexOf("scroll")>=0||this.target!==document.body,o=0;r&&(o=15);var l=e.height-parseFloat(s.borderTopWidth)-parseFloat(s.borderBottomWidth)-o,i={width:15,height:.975*l*(l/n.scrollHeight),left:e.left+e.width-parseFloat(s.borderLeftWidth)-15},c=0;l<408&&this.target===document.body&&(c=-11e-5*Math.pow(l,2)-.00727*l+22.58),this.target!==document.body&&(i.height=Math.max(i.height,24));var h=this.target.scrollTop/(n.scrollHeight-l);return i.top=h*(l-i.height-c)+e.top+parseFloat(s.borderTopWidth),this.target===document.body&&(i.height=Math.max(i.height,24)),i}}},{key:"clearCache",value:function t(){this._cache={}}},{key:"cache",value:function t(e,i){return void 0===this._cache&&(this._cache={}),void 0===this._cache[e]&&(this._cache[e]=i.call(this)),this._cache[e]}},{key:"enable",value:function t(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&h(this.target,this.getClass("enabled")),h(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParent!==document&&this.scrollParent.addEventListener("scroll",this.position),e&&this.position()}},{key:"disable",value:function t(){c(this.target,this.getClass("enabled")),c(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParent&&this.scrollParent.removeEventListener("scroll",this.position)}},{key:"destroy",value:function t(){var e=this;this.disable(),L.forEach(function(t,i){if(t===e)return void L.splice(i,1)}),0===L.length&&null!==O&&(window.clearInterval(O),O=null)}},{key:"updateAttachClasses",value:function t(e,i){var n=this;e=e||this.attachment,i=i||this.targetAttachment;var s=["left","top","bottom","right","middle","center"];void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]);var a=this._addAttachClasses;e.top&&a.push(this.getClass("element-attached")+"-"+e.top),e.left&&a.push(this.getClass("element-attached")+"-"+e.left),i.top&&a.push(this.getClass("target-attached")+"-"+i.top),i.left&&a.push(this.getClass("target-attached")+"-"+i.left);var r=[];s.forEach(function(t){r.push(n.getClass("element-attached")+"-"+t),r.push(n.getClass("target-attached")+"-"+t)}),T(function(){void 0!==n._addAttachClasses&&(m(n.element,n._addAttachClasses,r),!1!==n.options.addTargetClasses&&m(n.target,n._addAttachClasses,r),delete n._addAttachClasses)})}},{key:"position",value:function t(){var e=this,i=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var n=z(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,n);var s=this.cache("element-bounds",function(){return a(e.element)}),l=s.width,c=s.height;if(0===l&&0===c&&void 0!==this.lastSize){var h=this.lastSize;l=h.width,c=h.height}else this.lastSize={width:l,height:c};var u=this.cache("target-bounds",function(){return e.getTargetBounds()}),d=u,p=b(R(this.attachment),{width:l,height:c}),m=b(R(n),d),f=b(this.offset,{width:l,height:c}),g=b(this.targetOffset,d);p=v(p,f),m=v(m,g);for(var _=u.left+m.left-p.left,y=u.top+m.top-p.top,x=0;x<w.modules.length;++x){var k=w.modules[x],C=k.position.call(this,{left:_,top:y,targetAttachment:n,targetPos:u,elementPos:s,offset:p,targetOffset:m,manualOffset:f,manualTargetOffset:g,scrollbarSize:T,attachment:this.attachment});if(!1===C)return!1;void 0!==C&&"object"==typeof C&&(y=C.top,_=C.left)}var S={page:{top:y,left:_},viewport:{top:y-pageYOffset,bottom:pageYOffset-y-c+innerHeight,left:_-pageXOffset,right:pageXOffset-_-l+innerWidth}},T=void 0;return document.body.scrollWidth>window.innerWidth&&(T=this.cache("scrollbar-size",o),S.viewport.bottom-=T.height),document.body.scrollHeight>window.innerHeight&&(T=this.cache("scrollbar-size",o),S.viewport.right-=T.width),-1!==["","static"].indexOf(document.body.style.position)&&-1!==["","static"].indexOf(document.body.parentElement.style.position)||(S.page.bottom=document.body.scrollHeight-y-c,S.page.right=document.body.scrollWidth-_-l),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&function(){var t=e.cache("target-offsetparent",function(){return r(e.target)}),i=e.cache("target-offsetparent-bounds",function(){return a(t)}),n=getComputedStyle(t),s=i,o={};if(["Top","Left","Bottom","Right"].forEach(function(t){o[t.toLowerCase()]=parseFloat(n["border"+t+"Width"])}),i.right=document.body.scrollWidth-i.left-s.width+o.right,i.bottom=document.body.scrollHeight-i.top-s.height+o.bottom,S.page.top>=i.top+o.top&&S.page.bottom>=i.bottom&&S.page.left>=i.left+o.left&&S.page.right>=i.right){var l=t.scrollTop,c=t.scrollLeft;S.offset={top:S.page.top-i.top+l-o.top,left:S.page.left-i.left+c-o.left}}}(),this.move(S),this.history.unshift(S),this.history.length>3&&this.history.pop(),i&&E(),!0}}},{key:"move",value:function t(e){var i=this;if(void 0!==this.element.parentNode){var n={};for(var s in e){n[s]={};for(var a in e[s]){for(var o=!1,c=0;c<this.history.length;++c){var h=this.history[c];if(void 0!==h[s]&&!f(h[s][a],e[s][a])){o=!0;break}}o||(n[s][a]=!0)}}var u={top:"",left:"",right:"",bottom:""},d=function t(e,n){if(!1!==(void 0!==i.options.optimizations?i.options.optimizations.gpu:null)){var s=void 0,a=void 0;e.top?(u.top=0,s=n.top):(u.bottom=0,s=-n.bottom),e.left?(u.left=0,a=n.left):(u.right=0,a=-n.right),u[$]="translateX("+Math.round(a)+"px) translateY("+Math.round(s)+"px)","msTransform"!==$&&(u[$]+=" translateZ(0)")}else e.top?u.top=n.top+"px":u.bottom=n.bottom+"px",e.left?u.left=n.left+"px":u.right=n.right+"px"},p=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(u.position="absolute",d(n.page,e.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(u.position="fixed",d(n.viewport,e.viewport)):void 0!==n.offset&&n.offset.top&&n.offset.left?function(){u.position="absolute";var t=i.cache("target-offsetparent",function(){return r(i.target)});r(i.element)!==t&&T(function(){i.element.parentNode.removeChild(i.element),t.appendChild(i.element)}),d(n.offset,e.offset),p=!0}():(u.position="absolute",d({top:!0,left:!0},e.page)),!p){for(var m=!0,g=this.element.parentNode;g&&"BODY"!==g.tagName;){if("static"!==getComputedStyle(g).position){m=!1;break}g=g.parentNode}m||(this.element.parentNode.removeChild(this.element),document.body.appendChild(this.element))}var v={},b=!1;for(var a in u){var _=u[a],y=this.element.style[a];""!==y&&""!==_&&["top","left","bottom","right"].indexOf(a)>=0&&(y=parseFloat(y),_=parseFloat(_)),y!==_&&(b=!0,v[a]=_)}b&&T(function(){l(i.element.style,v)})}}}]),t}();U.modules=[],w.position=B;var F=l(U,w),P=function(){function t(t,e){var i=[],n=!0,s=!1,a=void 0;try{for(var r=t[Symbol.iterator](),o;!(n=(o=r.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){s=!0,a=t}finally{try{!n&&r.return&&r.return()}finally{if(s)throw a}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),A=w.Utils,a=A.getBounds,l=A.extend,m=A.updateClasses,T=A.defer,q=["left","top","right","bottom"];w.modules.push({position:function t(e){var i=this,n=e.top,s=e.left,r=e.targetAttachment;if(!this.options.constraints)return!0;var o=this.cache("element-bounds",function(){return a(i.element)}),c=o.height,h=o.width;if(0===h&&0===c&&void 0!==this.lastSize){var u=this.lastSize;h=u.width,c=u.height}var d=this.cache("target-bounds",function(){return i.getTargetBounds()}),p=d.height,f=d.width,g=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,i=t.pinnedClass;e&&g.push(e),i&&g.push(i)}),g.forEach(function(t){["left","top","right","bottom"].forEach(function(e){g.push(t+"-"+e)})});var v=[],b=l({},r),y=l({},this.attachment);return this.options.constraints.forEach(function(t){var e=t.to,a=t.attachment,o=t.pin;void 0===a&&(a="");var l=void 0,u=void 0;if(a.indexOf(" ")>=0){var d=a.split(" "),m=P(d,2);u=m[0],l=m[1]}else l=u=a;var g=_(i,e);"target"!==u&&"both"!==u||(n<g[1]&&"top"===b.top&&(n+=p,b.top="bottom"),n+c>g[3]&&"bottom"===b.top&&(n-=p,b.top="top")),"together"===u&&(n<g[1]&&"top"===b.top&&("bottom"===y.top?(n+=p,b.top="bottom",n+=c,y.top="top"):"top"===y.top&&(n+=p,b.top="bottom",n-=c,y.top="bottom")),n+c>g[3]&&"bottom"===b.top&&("top"===y.top?(n-=p,b.top="top",n-=c,y.top="bottom"):"bottom"===y.top&&(n-=p,b.top="top",n+=c,y.top="top")),"middle"===b.top&&(n+c>g[3]&&"top"===y.top?(n-=c,y.top="bottom"):n<g[1]&&"bottom"===y.top&&(n+=c,y.top="top"))),"target"!==l&&"both"!==l||(s<g[0]&&"left"===b.left&&(s+=f,b.left="right"),s+h>g[2]&&"right"===b.left&&(s-=f,b.left="left")),"together"===l&&(s<g[0]&&"left"===b.left?"right"===y.left?(s+=f,b.left="right",s+=h,y.left="left"):"left"===y.left&&(s+=f,b.left="right",s-=h,y.left="right"):s+h>g[2]&&"right"===b.left?"left"===y.left?(s-=f,b.left="left",s-=h,y.left="right"):"right"===y.left&&(s-=f,b.left="left",s+=h,y.left="left"):"center"===b.left&&(s+h>g[2]&&"left"===y.left?(s-=h,y.left="right"):s<g[0]&&"right"===y.left&&(s+=h,y.left="left"))),"element"!==u&&"both"!==u||(n<g[1]&&"bottom"===y.top&&(n+=c,y.top="top"),n+c>g[3]&&"top"===y.top&&(n-=c,y.top="bottom")),"element"!==l&&"both"!==l||(s<g[0]&&"right"===y.left&&(s+=h,y.left="left"),s+h>g[2]&&"left"===y.left&&(s-=h,y.left="right")),"string"==typeof o?o=o.split(",").map(function(t){return t.trim()}):!0===o&&(o=["top","left","right","bottom"]),o=o||[];var w=[],x=[];n<g[1]&&(o.indexOf("top")>=0?(n=g[1],w.push("top")):x.push("top")),n+c>g[3]&&(o.indexOf("bottom")>=0?(n=g[3]-c,w.push("bottom")):x.push("bottom")),s<g[0]&&(o.indexOf("left")>=0?(s=g[0],w.push("left")):x.push("left")),s+h>g[2]&&(o.indexOf("right")>=0?(s=g[2]-h,w.push("right")):x.push("right")),w.length&&function(){var t=void 0;t=void 0!==i.options.pinnedClass?i.options.pinnedClass:i.getClass("pinned"),v.push(t),w.forEach(function(e){v.push(t+"-"+e)})}(),x.length&&function(){var t=void 0;t=void 0!==i.options.outOfBoundsClass?i.options.outOfBoundsClass:i.getClass("out-of-bounds"),v.push(t),x.forEach(function(e){v.push(t+"-"+e)})}(),(w.indexOf("left")>=0||w.indexOf("right")>=0)&&(y.left=b.left=!1),(w.indexOf("top")>=0||w.indexOf("bottom")>=0)&&(y.top=b.top=!1),b.top===r.top&&b.left===r.left&&y.top===i.attachment.top&&y.left===i.attachment.left||i.updateAttachClasses(y,b)}),T(function(){!1!==i.options.addTargetClasses&&m(i.target,v,g),m(i.element,v,g)}),{top:n,left:s}}});var A=w.Utils,a=A.getBounds,m=A.updateClasses,T=A.defer;w.modules.push({position:function t(e){var i=this,n=e.top,s=e.left,r=this.cache("element-bounds",function(){return a(i.element)}),o=r.height,l=r.width,c=this.getTargetBounds(),h=n+o,u=s+l,d=[];n<=c.bottom&&h>=c.top&&["left","right"].forEach(function(t){var e=c[t];e!==s&&e!==u||d.push(t)}),s<=c.right&&u>=c.left&&["top","bottom"].forEach(function(t){var e=c[t];e!==n&&e!==h||d.push(t)});var p=[],f=[],g=["left","top","right","bottom"];return p.push(this.getClass("abutted")),g.forEach(function(t){p.push(i.getClass("abutted")+"-"+t)}),d.length&&f.push(this.getClass("abutted")),d.forEach(function(t){f.push(i.getClass("abutted")+"-"+t)}),T(function(){!1!==i.options.addTargetClasses&&m(i.target,f,p),m(i.element,f,p)}),!0}});var P=function(){function t(t,e){var i=[],n=!0,s=!1,a=void 0;try{for(var r=t[Symbol.iterator](),o;!(n=(o=r.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){s=!0,a=t}finally{try{!n&&r.return&&r.return()}finally{if(s)throw a}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return w.modules.push({position:function t(e){var i=e.top,n=e.left;if(this.options.shift){var s=this.options.shift;"function"==typeof this.options.shift&&(s=this.options.shift.call(this,{top:i,left:n}));var a=void 0,r=void 0;if("string"==typeof s){s=s.split(" "),s[1]=s[1]||s[0];var o=P(s,2);a=o[0],r=o[1],a=parseFloat(a,10),r=parseFloat(r,10)}else a=s.top,r=s.left;return i+=a,n+=r,{top:i,left:n}}}}),F}),function(i,n){"function"==typeof sumo.define&&sumo.define.amd?sumo.define("shepherd",["tether"],n):"object"==typeof t?e.exports=n(require("tether")):i.Shepherd=n(i.Tether)}(this,function(t){function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}function n(t){var e=document.createElement("div");return e.innerHTML=t,e.children[0]}function s(t,e){var i=void 0;return void 0!==t.matches?i=t.matches:void 0!==t.matchesSelector?i=t.matchesSelector:void 0!==t.msMatchesSelector?i=t.msMatchesSelector:void 0!==t.webkitMatchesSelector?i=t.webkitMatchesSelector:void 0!==t.mozMatchesSelector?i=t.mozMatchesSelector:void 0!==t.oMatchesSelector&&(i=t.oMatchesSelector),i.call(t,e)}function a(t,e){if(null===t||void 0===t)return t;if("object"==typeof t)return t;var i=t.split(" "),n=i.length,s=e.length;n>s&&(i[0]=i.slice(0,n-s+1).join(" "),i.splice(1,s));for(var a={},r=0;r<s;++r){a[e[r]]=i[r]}return a}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function t(e,i,n){for(var s=!0;s;){var a=e,r=i,o=n;l=h=c=void 0,s=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,r);if(void 0!==l){if("value"in l)return l.value;var c=l.get;if(void 0===c)return;return c.call(o)}var h=Object.getPrototypeOf(a);if(null===h)return;e=h,i=r,n=o,s=!0}},l=t.Utils,c=l.Evented,h=l.addClass,u=l.extend,d=l.hasClass,p=l.removeClass,m=l.uniqueId,f=new c,g={"top right":"bottom left","top left":"bottom right","top center":"bottom center","middle right":"middle left","middle left":"middle right","middle center":"middle center","bottom left":"top right","bottom right":"top left","bottom center":"top center",top:"bottom center",left:"middle right",right:"middle left",bottom:"top center",center:"middle center",middle:"middle center"},v=function(l){function c(t,i){return e(this,c),o(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,t,i),this.tour=t,this.bindMethods(),this.setOptions(i),this}return i(c,l),r(c,[{key:"bindMethods",value:function t(){var e=this;["_show","show","hide","isOpen","cancel","complete","scrollTo","destroy"].map(function(t){e[t]=e[t].bind(e)})}},{key:"setOptions",value:function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e,this.destroy(),this.id=this.options.id||this.id||"step-"+m();var i=this.options.when;if(i)for(var n in i)if({}.hasOwnProperty.call(i,n)){var s=i[n];this.on(n,s,this)}this.options.buttons}},{key:"getTour",value:function t(){return this.tour}},{key:"bindAdvance",value:function t(){var e=this,i=a(this.options.advanceOn,["selector","event"]),n=i.event,r=i.selector,o=function t(i){e.isOpen()&&(void 0!==r?s(i.target,r)&&e.tour.next():e.el&&i.target===e.el&&e.tour.next())};document.body.addEventListener(n,o),this.on("destroy",function(){return document.body.removeEventListener(n,o)})}},{key:"getAttachTo",value:function t(){var e=a(this.options.attachTo,["element","on"])||{},i=e.element;if("string"==typeof i&&(e.element=document.querySelector(i),!e.element))throw new Error("The element for this Shepherd step was not found "+i);return e}},{key:"setupTether",value:function e(){if(void 0===t)throw new Error("Using the attachment feature of Shepherd requires the Tether library");var i=this.getAttachTo(),n=i.on in g?g[i.on]:g.right;void 0===i.element&&(i.element="viewport",n="middle center");var s={classPrefix:"sumome-shepherd",element:this.el,constraints:[{to:"window",pin:!0,attachment:"together"}],target:i.element,offset:i.offset||"0 0",attachment:n};this.tether&&this.tether.destroy(),this.tether=new t(u(s,this.options.tetherOptions))}},{key:"show",value:function t(){var e=this;if(void 0!==this.options.beforeShowPromise){var i=this.options.beforeShowPromise();if(void 0!==i)return i.then(function(){return e._show()})}this._show()}},{key:"_show",value:function t(){var e=this;this.trigger("before-show"),this.el||this.render(),h(this.el,"sumome-shepherd-open"),document.body.setAttribute("data-shepherd-step",this.id),this.setupTether(),this.options.scrollTo&&setTimeout(function(){e.scrollTo()}),this.trigger("show")}},{key:"hide",value:function t(){this.trigger("before-hide"),p(this.el,"sumome-shepherd-open"),document.body.removeAttribute("data-shepherd-step"),this.tether&&this.tether.destroy(),this.tether=null,this.trigger("hide")}},{key:"isOpen",value:function t(){return d(this.el,"sumome-shepherd-open")}},{key:"cancel",value:function t(){this.tour.cancel(),this.trigger("cancel")}},{key:"complete",value:function t(){this.tour.complete(),this.trigger("complete")}},{key:"scrollTo",value:function t(){var e=this.getAttachTo(),i=e.element;void 0!==this.options.scrollToHandler?this.options.scrollToHandler(i):void 0!==i&&i.scrollIntoView()}},{key:"destroy",value:function t(){void 0!==this.el&&(document.body.removeChild(this.el),delete this.el),this.tether&&this.tether.destroy(),this.tether=null,this.trigger("destroy")}},{key:"render",value:function t(){var e=this;void 0!==this.el&&this.destroy(),this.el=n("<div class='sumome-shepherd-step "+(this.options.classes||"")+"' data-id='"+this.id+"' "+(this.options.idAttribute?'id="'+this.options.idAttribute+'"':"")+"></div>");var i=document.createElement("div");i.className="sumome-shepherd-content",this.el.appendChild(i);var s=document.createElement("header");if(i.appendChild(s),void 0!==this.options.title&&(s.innerHTML+="<h3 class='sumome-shepherd-title'>"+this.options.title+"</h3>",this.el.className+=" shepherd-has-title"),this.options.showCancelLink){var a=n("<a href class='sumome-shepherd-cancel-link'>✕</a>");s.appendChild(a),this.el.className+=" sumome-shepherd-has-cancel-link",this.bindCancelLink(a)}void 0!==this.options.text&&function(){var t=n("<div class='sumome-shepherd-text'></div>"),s=e.options.text;"function"==typeof s&&(s=s.call(e,t)),s instanceof HTMLElement?t.appendChild(s):("string"==typeof s&&(s=[s]),s.map(function(e){t.innerHTML+="<p>"+e+"</p>"})),i.appendChild(t)}();var r=document.createElement("footer");this.options.buttons&&function(){var t=n("<ul class='sumome-shepherd-buttons'></ul>");e.options.buttons.map(function(i){var s=n("<li><a class='sumome-shepherd-button "+(i.classes||"")+"'>"+i.text+"</a>");t.appendChild(s),e.bindButtonEvents(i,s.querySelector("a"))}),r.appendChild(t)}(),i.appendChild(r),document.body.appendChild(this.el),this.setupTether(),this.options.advanceOn&&this.bindAdvance()}},{key:"bindCancelLink",value:function t(e){var i=this;e.addEventListener("click",function(t){t.preventDefault(),i.tour.trigger("close")})}},{key:"bindButtonEvents",value:function t(e,i){var n=this;e.events=e.events||{},void 0!==e.action&&(e.events.click=e.action);for(var s in e.events)if({}.hasOwnProperty.call(e.events,s)){var a=e.events[s];"string"==typeof a&&function(){var t=a;a=function(){return n.tour.show(t)}}(),i.addEventListener(s,a)}this.on("destroy",function(){for(var t in e.events)if({}.hasOwnProperty.call(e.events,t)){var n=e.events[t];i.removeEventListener(t,n)}})}}]),c}(c),b=function(t){function n(){var t=this,i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return e(this,n),o(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,i),this.bindMethods(),this.options=i,this.steps=this.options.steps||[],["complete","cancel","close","hide","start","show","active","inactive"].map(function(e){!function(e){t.on(e,function(i){i=i||{},i.tour=t,f.trigger(e,i)})}(e)}),this}return i(n,t),r(n,[{key:"bindMethods",value:function t(){var e=this;["next","back","cancel","complete","hide"].map(function(t){e[t]=e[t].bind(e)})}},{key:"addStep",value:function t(e,i){return void 0===i&&(i=e),i instanceof v?i.tour=this:("string"!=typeof e&&"number"!=typeof e||(i.id=e.toString()),i=u({},this.options.defaults,i),i=new v(this,i)),this.steps.push(i),this}},{key:"getById",value:function t(e){for(var i=0;i<this.steps.length;++i){var n=this.steps[i];if(n.id===e)return n}}},{key:"getCurrentStep",value:function t(){return this.currentStep}},{key:"next",value:function t(){var e=this.steps.indexOf(this.currentStep);e===this.steps.length-1?(this.hide(e),this.trigger("complete"),this.done()):this.show(e+1)}},{key:"back",value:function t(){var e=this.steps.indexOf(this.currentStep);this.show(e-1)}},{key:"cancel",value:function t(){void 0!==this.currentStep&&this.currentStep.hide(),this.trigger("cancel"),this.done()}},{key:"complete",value:function t(){void 0!==this.currentStep&&this.currentStep.hide(),this.trigger("complete"),this.done()}},{key:"hide",value:function t(){void 0!==this.currentStep&&this.currentStep.hide(),this.trigger("hide"),this.done()}},{key:"done",value:function t(){f.activeTour=null,p(document.body,"sumome-shepherd-active"),this.trigger("inactive",{tour:this})}},{key:"show",value:function t(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0];this.currentStep?this.currentStep.hide():(h(document.body,"sumome-shepherd-active"),this.trigger("active",{tour:this})),f.activeTour=this;var i=void 0;(i="string"==typeof e?this.getById(e):this.steps[e])&&(this.trigger("show",{step:i,previous:this.currentStep}),this.currentStep=i,i.show())}},{key:"start",value:function t(){this.trigger("start"),this.currentStep=null,this.next()}}]),n}(c);return u(f,{Tour:b,Step:v,Evented:c}),f}),sumo.define("countries",[],function(){
return["Afghanistan","Åland Islands","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua And Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia, Plurinational State Of","Bonaire, Sint Eustatius And Saba","Bosnia And Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (keeling) Islands","Colombia","Comoros","Congo","Congo, The Democratic Republic Of The","Cook Islands","Costa Rica","Côte D'ivoire","Croatia","Cuba","Curaçao","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Falkland Islands (malvinas)","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-bissau","Guyana","Haiti","Heard Island And Mcdonald Islands","Holy See (vatican City State)","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran, Islamic Republic Of","Iraq","Ireland","Isle Of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Korea, Democratic People's Republic Of","Korea, Republic Of","Kuwait","Kyrgyzstan","Lao People's Democratic Republic","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macao","Macedonia, The Former Yugoslav Republic Of","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia, Federated States Of","Moldova, Republic Of","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestine, State Of","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Réunion","Romania","Russian Federation","Rwanda","Saint Barthélemy","Saint Helena, Ascension And Tristan Da Cunha","Saint Kitts And Nevis","Saint Lucia","Saint Martin (french Part)","Saint Pierre And Miquelon","Saint Vincent And The Grenadines","Samoa","San Marino","Sao Tome And Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten (dutch Part)","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia And The South Sandwich Islands","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Svalbard And Jan Mayen","Swaziland","Sweden","Switzerland","Syrian Arab Republic","Taiwan, Province Of China","Tajikistan","Tanzania, United Republic Of","Thailand","Timor-leste","Togo","Tokelau","Tonga","Trinidad And Tobago","Tunisia","Turkey","Turkmenistan","Turks And Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Minor Outlying Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela, Bolivarian Republic Of","Viet Nam","Virgin Islands, British","Virgin Islands, U.s.","Wallis And Futuna","Western Sahara","Yemen","Zambia","Zimbabwe"]}),sumo.define("plugins/text!lib/sumome/templates/container.handlebars",[],function(){return'<div class="sumome-container-header">\n  <span class="sumome-container-title"></span>\n</div>\n<div class="sumome-container-container"></div>\n'}),sumo.define("plugins/text!lib/sumome/templates/slide_container.handlebars",[],function(){return'<div class="sumome-settings-header">\n  <span class="sumome-settings-left"><i class="sumome-arrow-back"></i>Back</span>\n  <span class="sumome-settings-title"></span>\n  <span class="sumome-settings-right"><button class="sumome-button sumome-success sumome-tiny">Save</button></span>\n</div>\n<div class="sumome-settings-sidebar"></div>\n<div class="sumome-settings-container">\n</div>\n'}),sumo.define("plugins/text!lib/sumome/templates/wizard_container.handlebars",[],function(){return'<div class="sumome-settings-header">\n  <span class="sumome-settings-left"><i class="sumome-arrow-back"></i>Back</span>\n  <span class="sumome-settings-title"></span>\n</div>\n<div class="sumome-settings-sidebar"></div>\n<div class="sumome-settings-container">\n</div>\n<div class="sumome-settings-footer">\n  <button class="sumome-button sumome-primary sumome-tiny sumome-wizard-save">Continue</button>\n</div>'}),sumo.define("plugins/text!lib/sumome/templates/tab_container.handlebars",[],function(){return'<div class="sumome-tab-container-iconbar"></div>\n<div class="sumome-tab-container-header">\n  <span class="sumome-tab-container-left"><i class="sumome-arrow-back"></i>Back</span>\n  <span class="sumome-tab-container-title"></span>\n</div>\n<div class="sumome-tab-container-container">\n</div>\n<div class="sumome-tab-container-footer">\n  <span class="sumome-tab-container-right"><button class="sumome-button sumome-success sumome-tiny">Save</button></span>\n</div>\n'}),sumo.define("plugins/text!lib/sumome/templates/mdi_container.handlebars",[],function(){return'<ul class="sumome-xdi-tab-container">\n</ul>\n<div class="sumome-xdi-container-container">\n\n</div>'}),function(t){"function"==typeof e?e.exports=t():"function"==typeof sumo.define&&sumo.define.amd?sumo.define("nprogress",t):this.NProgress=t()}(function(){function t(t,e,i){return t<e?e:t>i?i:t}function e(t){return 100*(-1+t)}function i(t,i,n){var s;return s="translate3d"===c.positionUsing?{transform:"translate3d("+e(t)+"%,0,0)"}:"translate"===c.positionUsing?{transform:"translate("+e(t)+"%,0)"}:{"margin-left":e(t)+"%"},s.transition="all "+i+"ms "+n,s}function n(t,e){return("string"==typeof t?t:r(t)).indexOf(" "+e+" ")>=0}function s(t,e){var i=r(t),s=i+e;n(i,e)||(t.className=s.substring(1))}function a(t,e){var i=r(t),s;n(t,e)&&(s=i.replace(" "+e+" "," "),t.className=s.substring(1,s.length-1))}function r(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function o(t){t&&t.parentNode&&t.parentNode.removeChild(t)}var l={};l.version="0.1.3";var c=l.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};l.configure=function(t){var e,i;for(e in t)void 0!==(i=t[e])&&t.hasOwnProperty(e)&&(c[e]=i);return this},l.status=null,l.set=function(e){var n=l.isStarted();0!=e&&(e=t(e,c.minimum,1)),l.status=1===e||0===e?null:e;var s=l.render(!n),a=s.querySelector(c.barSelector),r=c.speed,o=c.easing;return s.offsetWidth,h(function(t){""===c.positionUsing&&(c.positionUsing=l.getPositioningCSS()),u(a,i(e,r,o)),1===e||0===e?(u(s,{transition:"none",opacity:1}),s.offsetWidth,setTimeout(function(){u(s,{transition:"all "+r+"ms linear",opacity:0}),setTimeout(function(){l.remove(),t()},r)},r)):setTimeout(t,r)}),this},l.isStarted=function(){return"number"==typeof l.status},l.start=function(){l.status||l.set(c.minimum);var t=function(){setTimeout(function(){l.status&&(l.trickle(),t())},c.trickleSpeed)};return c.trickle&&t(),this},l.done=function(t){return t||l.status?l.inc(.3+.5*Math.random()).set(1):this},l.error=function(t){return t||l.status?l.dec(.3+.5*Math.random()).set(0):this},l.inc=function(e){var i=l.status;return i?("number"!=typeof e&&(e=(1-i)*t(Math.random()*i,.1,.95)),i=t(i+e,0,.994),l.set(i)):l.start()},l.dec=function(e){var i=l.status;return"number"!=typeof e&&(e=(1-i)*t(Math.random()*i,.1,.95)),i=t(i-e,0,.994),l.set(i)},l.trickle=function(){return l.inc(Math.random()*c.trickleRate)},function(){var t=0,e=0;l.promise=function(i){return i&&"resolved"!=i.state()?(0==e&&l.start(),t++,e++,i.always(function(){e--,0==e?(t=0,l.done()):l.set((t-e)/t)}),this):this}}(),l.render=function(t){if(l.isRendered())return document.getElementById("sumome-nprogress");s(document.documentElement,"nprogress-busy");var i=document.createElement("div");i.id="sumome-nprogress",i.innerHTML=c.template;var n=i.querySelector(c.barSelector),a=t?"-100":e(l.status||0),r;u(n,{transition:"all 0 linear",transform:"translate3d("+a+"%,0,0)"}),c.showSpinner||(r=i.querySelector(c.spinnerSelector))&&o(r);var h=document.getElementsByClassName("sumome-modal");return h&&h.length?h[0].appendChild(i):document.body.appendChild(i),i},l.remove=function(){a(document.documentElement,"nprogress-busy");var t=document.getElementById("sumome-nprogress");t&&o(t)},l.isRendered=function(){return!!document.getElementById("sumome-nprogress")},l.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var h=function(){function t(){var i=e.shift();i&&i(t)}var e=[];return function(i){e.push(i),1==e.length&&t()}}(),u=function(){function t(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})}function e(t){var e=document.body.style;if(t in e)return t;for(var i=s.length,n=t.charAt(0).toUpperCase()+t.slice(1),a;i--;)if((a=s[i]+n)in e)return a;return t}function i(i){return i=t(i),a[i]||(a[i]=e(i))}function n(t,e,n){e=i(e),t.style[e]=n}var s=["Webkit","O","Moz","ms"],a={};return function(t,e){var i=arguments,s,a;if(2==i.length)for(s in e)void 0!==(a=e[s])&&e.hasOwnProperty(s)&&n(t,s,a);else n(t,i[1],i[2])}}();return l}),function(){var i;i=function(t){var e,i;return e=!1,t(function(){var n;return n=(document.body||document.documentElement).style,e=void 0!==n.animation||void 0!==n.WebkitAnimation||void 0!==n.MozAnimation||void 0!==n.MsAnimation||void 0!==n.OAnimation,t(window).bind("resize.vex",function(t){if(!t||"resize"!=t.type||t.target==window)return i.resize()}),t(window).bind("keyup.vex",function(t){if(27===t.keyCode)return i.closeByEscape()})}),i={globalID:1,animationEndEvent:"animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",baseClassNames:{vex:"sumome-vex",content:"sumome-vex-content",overlay:"sumome-vex-overlay",close:"sumome-vex-close",closing:"sumome-vex-closing",open:"sumome-vex-open"},defaultOptions:{content:"",showCloseButton:!0,customCloseButton:!1,escapeButtonCloses:!0,overlayClosesOnClick:!0,appendLocation:"body",className:"",css:{},overlayClassName:"",overlayCSS:{},contentClassName:"",contentCSS:{},closeClassName:"",openClassName:"",closeCSS:{},allowBackgroundScrolling:!1},open:function(e){return e=t.extend({},i.defaultOptions,e),e.id=i.globalID,i.globalID+=1,e.$vex=t("<div>").addClass(i.baseClassNames.vex).addClass(e.className).css(e.css).data({vex:e}),e.openClassName&&e.$vex.addClass(e.openClassName),e.allowBackgroundScrolling||i.setupHTMLClassName(e.$vex),e.$vexOverlay=t("<div>").addClass(i.baseClassNames.overlay).addClass(e.overlayClassName).css(e.overlayCSS).data({vex:e}),e.overlayClosesOnClick&&e.$vexOverlay.bind("click.vex",function(e){if(e.target===this)return i.close(t(this).data().vex.id)}),e.$vex.append(e.$vexOverlay),e.$vexContent=t("<div>").addClass(i.baseClassNames.content).addClass(e.contentClassName).css(e.contentCSS).append(e.content).data({vex:e}),e.$vexContent.find("link").bind("load.vex",function(t){return i.resize()}),e.$vexContent.bind("resize.vex",function(t){return i.resize()}),e.$vex.append(e.$vexContent),e.customCloseButton?e.showCloseButton&&(e.$closeButton=e.$vexContent.find("."+e.closeClassName).eq(0).data({vex:e}).bind("click.vex",function(){return i.close(t(this).data().vex.id)})):e.showCloseButton&&(e.$closeButton=t("<div>").addClass(i.baseClassNames.close).addClass(e.closeClassName).css(e.closeCSS).data({vex:e}).bind("click.vex",function(){return i.close(t(this).data().vex.id)}),e.$vexContent.append(e.$closeButton)),t(e.appendLocation).append(e.$vex),e.afterOpen&&e.afterOpen(e.$vexContent,e),setTimeout(function(){return e.$vexContent.trigger("vexOpen",e)},0),e.$vexContent},getAllVexes:function(){return t("."+i.baseClassNames.vex+':not(".'+i.baseClassNames.closing+'") .'+i.baseClassNames.content)},getVexByID:function(e){return i.getAllVexes().filter(function(){return t(this).data().vex.id===e})},close:function(t){var e;if(!t){if(e=i.getAllVexes().last(),!e.length)return!1;t=e.data().vex.id}return i.closeByID(t)},closeAll:function(){var e;return e=i.getAllVexes().map(function(){return t(this).data().vex.id}).toArray(),!(null==e||!e.length)&&(t.each(e.reverse(),function(t,e){return i.closeByID(e)}),!0)},closeByID:function(n){var s,a,r,o,l;if(a=i.getVexByID(n),a.length)return s=a.data().vex.$vex,l=t.extend({},a.data().vex),r=function(){if(l.beforeClose)return l.beforeClose(a,l)},o=function(){if(a.trigger("vexClose",l),s.remove(),l.afterClose)return l.afterClose(a,l)},e?(r(),s.unbind(i.animationEndEvent).bind(i.animationEndEvent,function(){return o()}).addClass(i.baseClassNames.closing)):(r(),o()),!0},resizeByID:function(e){var n,s,a,r,o;if(s=i.getVexByID(e),s.length)return n=s.data().vex.$vex,o=t.extend({},s.data().vex),s.trigger("vexResize",o),!0},resize:function(){var e,n,s;return s=i.getAllVexes().map(function(){return t(this).data().vex.id}).toArray(),!(null==s||!s.length)&&(n=Math.max.apply(Math,s),e=i.getVexByID(n),i.resizeByID(n))},closeByEscape:function(){var e,n,s;return s=i.getAllVexes().map(function(){return t(this).data().vex.id}).toArray(),!(null==s||!s.length)&&(n=Math.max.apply(Math,s),e=i.getVexByID(n),!0===e.data().vex.escapeButtonCloses&&i.closeByID(n))},setupHTMLClassName:function(e){return e.bind("vexOpen.vex",function(){return t("html").addClass(i.baseClassNames.open)}).bind("vexClose.vex",function(){if(!i.getAllVexes().length)return t("html").removeClass(i.baseClassNames.open)})},hideLoading:function(){return t(".vex-loading-spinner").remove()},showLoading:function(){return i.hideLoading(),t("body").append('<div class="vex-loading-spinner '+i.defaultOptions.className+'"></div>')}}},"function"==typeof sumo.define&&sumo.define.amd?sumo.define("vex",["jquery"],i):"object"==typeof t?e.exports=i(require("jquery")):window.vex=i(jQuery)}.call(this),sumo.define("jquery.drags",["jquery"],function(t){t.fn.drags=function(e){if(e=t.extend({handle:"",cursor:"move"},e),""===e.handle)var i=this;else var i=this.find(e.handle);return i.css("cursor",e.cursor).on("mousedown.drags",function(i){if(t(this).trigger("dragstart"),""===e.handle)var n=t(this).addClass("draggable");else var n=t(this).addClass("active-handle").parent().addClass("draggable");var s=n.css("z-index"),a=n.outerHeight(),r=n.outerWidth(),o=n.offset().top+a-i.pageY,l=n.offset().left+r-i.pageX;n.css("z-index",10000001).parents().on("mousemove.drags",function(e){var i=e.pageY+o-a,n=e.pageX+l-r;t(".draggable").trigger("dragmove",{top:i,left:n}),t(".draggable").offset({top:i,left:n}).on("mouseup",function(){t(this).removeClass("draggable").css("z-index",s)})}),i.preventDefault()}).on("mouseup.drags",function(){if(""===e.handle)var i=t(this).removeClass("draggable");else var i=t(this).removeClass("active-handle").parent().removeClass("draggable");i.parents().unbind("mousemove.drags"),t(this).trigger("dragend")})}}),sumo.define("jquery.resizes",["jquery"],function(t){t.fn.resizes=function(e){if(e=t.extend({handle:"",cursor:"se-resize",body:"",min_width:200,min_height:100,onResized:null},e),""===e.handle)var i=this;else var i=this.find(e.handle),n=this.find(e.body);return i.css("cursor",e.cursor).on("mousedown",function(i){if(""===e.handle)var s=t(this);else var s=t(this).parent();var a=s.css("z-index"),r=s.outerHeight(),o=s.outerWidth(),l=i.pageY,c=i.pageX,h=n.outerWidth(),u=n.outerHeight();s.css("z-index",10000001).parents().on("mousemove.jqueryResize",function(t){var i=!1;o+t.pageX-c>=e.min_width&&(i=!0,s.width(o+t.pageX-c)),r+t.pageY-l>=e.min_height&&(i=!0,s.height(r+t.pageY-l),n.height(u+t.pageY-l)),i&&(e.onResized?e.onResized():n.children().trigger("resize"))}),t(document).on("mouseup",function(){s.parents().off(".jqueryResize")}),i.preventDefault()})}}),sumo.define("jquery.ui.position",["jquery"],function(t){function e(t,e,i){return[parseInt(t[0],10)*(d.test(t[0])?e/100:1),parseInt(t[1],10)*(d.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var s,a=Math.max,r=Math.abs,o=Math.round,l=/left|center|right/,c=/top|center|bottom/,h=/[\+\-]\d+%?/,u=/^\w+/,d=/%$/,p=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==s)return s;var e,i,n=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=n.children()[0];return t("body").append(n),e=a.offsetWidth,n.css("overflow","scroll"),i=a.offsetWidth,e===i&&(i=n[0].clientWidth),n.remove(),s=e-i},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),n=e.isWindow?"":e.element.css("overflow-y"),s="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,a="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:s?t.position.scrollbarWidth():0,height:a?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},t.fn.position=function(s){if(!s||!s.of)return p.apply(this,arguments);s=t.extend({},s);var d,m,f,g,v,b,_=t(s.of),y=t.position.getWithinInfo(s.within),w=t.position.getScrollInfo(y),x=(s.collision||"flip").split(" "),k={};return b=n(_),_[0].preventDefault&&(s.at="left top"),m=b.width,f=b.height,g=b.offset,v=t.extend({},g),t.each(["my","at"],function(){var t=(s[this]||"").split(" "),e,i;1===t.length&&(t=l.test(t[0])?t.concat(["center"]):c.test(t[0])?["center"].concat(t):["center","center"]),t[0]=l.test(t[0])?t[0]:"center",t[1]=c.test(t[1])?t[1]:"center",e=h.exec(t[0]),i=h.exec(t[1]),k[this]=[e?e[0]:0,i?i[0]:0],s[this]=[u.exec(t[0])[0],u.exec(t[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===s.at[0]?v.left+=m:"center"===s.at[0]&&(v.left+=m/2),"bottom"===s.at[1]?v.top+=f:"center"===s.at[1]&&(v.top+=f/2),d=e(k.at,m,f),v.left+=d[0],v.top+=d[1],this.each(function(){var n,l,c=t(this),h=c.outerWidth(),u=c.outerHeight(),p=i(this,"marginLeft"),b=i(this,"marginTop"),C=h+p+i(this,"marginRight")+w.width,S=u+b+i(this,"marginBottom")+w.height,T=t.extend({},v),E=e(k.my,c.outerWidth(),c.outerHeight());"right"===s.my[0]?T.left-=h:"center"===s.my[0]&&(T.left-=h/2),"bottom"===s.my[1]?T.top-=u:"center"===s.my[1]&&(T.top-=u/2),T.left+=E[0],T.top+=E[1],t.support.offsetFractions||(T.left=o(T.left),T.top=o(T.top)),n={marginLeft:p,marginTop:b},t.each(["left","top"],function(e,i){t.ui.position[x[e]]&&t.ui.position[x[e]][i](T,{targetWidth:m,targetHeight:f,elemWidth:h,elemHeight:u,collisionPosition:n,collisionWidth:C,collisionHeight:S,offset:[d[0]+E[0],d[1]+E[1]],my:s.my,at:s.at,within:y,elem:c})}),s.using&&(l=function(t){var e=g.left-T.left,i=e+m-h,n=g.top-T.top,o=n+f-u,l={target:{element:_,left:g.left,top:g.top,width:m,height:f},element:{element:c,left:T.left,top:T.top,width:h,height:u},horizontal:i<0?"left":e>0?"right":"center",vertical:o<0?"top":n>0?"bottom":"middle"};m<h&&r(e+i)<m&&(l.horizontal="center"),f<u&&r(n+o)<f&&(l.vertical="middle"),a(r(e),r(i))>a(r(n),r(o))?l.important="horizontal":l.important="vertical",s.using.call(this,t,l)}),c.offset(t.extend(T,{using:l}))})},t.ui.position={fit:{left:function(t,e){var i=e.within,n=i.isWindow?i.scrollLeft:i.offset.left,s=i.width,r=t.left-e.collisionPosition.marginLeft,o=n-r,l=r+e.collisionWidth-s-n,c;e.collisionWidth>s?o>0&&l<=0?(c=t.left+o+e.collisionWidth-s-n,t.left+=o-c):t.left=l>0&&o<=0?n:o>l?n+s-e.collisionWidth:n:o>0?t.left+=o:l>0?t.left-=l:t.left=a(t.left-r,t.left)},top:function(t,e){var i=e.within,n=i.isWindow?i.scrollTop:i.offset.top,s=e.within.height,r=t.top-e.collisionPosition.marginTop,o=n-r,l=r+e.collisionHeight-s-n,c;e.collisionHeight>s?o>0&&l<=0?(c=t.top+o+e.collisionHeight-s-n,t.top+=o-c):t.top=l>0&&o<=0?n:o>l?n+s-e.collisionHeight:n:o>0?t.top+=o:l>0?t.top-=l:t.top=a(t.top-r,t.top)}},flip:{left:function(t,e){var i=e.within,n=i.offset.left+i.scrollLeft,s=i.width,a=i.isWindow?i.scrollLeft:i.offset.left,o=t.left-e.collisionPosition.marginLeft,l=o-a,c=o+e.collisionWidth-s-a,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,u="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,d=-2*e.offset[0],p,m;l<0?((p=t.left+h+u+d+e.collisionWidth-s-n)<0||p<r(l))&&(t.left+=h+u+d):c>0&&((m=t.left-e.collisionPosition.marginLeft+h+u+d-a)>0||r(m)<c)&&(t.left+=h+u+d)},top:function(t,e){var i=e.within,n=i.offset.top+i.scrollTop,s=i.height,a=i.isWindow?i.scrollTop:i.offset.top,o=t.top-e.collisionPosition.marginTop,l=o-a,c=o+e.collisionHeight-s-a,h="top"===e.my[1],u=h?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,d="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,p=-2*e.offset[1],m,f;l<0?(f=t.top+u+d+p+e.collisionHeight-s-n,t.top+u+d+p>l&&(f<0||f<r(l))&&(t.top+=u+d+p)):c>0&&(m=t.top-e.collisionPosition.marginTop+u+d+p-a,t.top+u+d+p>c&&(m>0||r(m)<c)&&(t.top+=u+d+p))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,s,a,r=document.getElementsByTagName("body")[0],o=document.createElement("div");e=document.createElement(r?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in n)e.style[a]=n[a];e.appendChild(o),i=r||document.documentElement,i.insertBefore(e,i.firstChild),o.style.cssText="position: absolute; left: 10.7432222px;",s=t(o).offset().left,t.support.offsetFractions=s>10&&s<11,e.innerHTML="",i.removeChild(e)}()}),sumo.define("jquery.modal",["jquery","jquery.drags","jquery.resizes","jquery.ui.position"],function(t){t.fn.extend({closeModal:function(e,i){var n="fast",s=i?t(this).closest(".sumome-launcher-container-wrapper"):t(this).closest(".sumome-modal");s.fadeOut("fast",t.proxy(function(){this.triggerHandler("close.sumome-modal"),s.remove(),e&&e()},this))},setModalTitle:function(e){t(this).closest(".sumome-modal").find(".sumome-modal-header").html(e)},resizeModal:function(e){var i=t(this).closest("#sumome-modal-mask"),n=t(document.body);e&&(n=i.find(".sumome-modal"));var s=n.find(".sumome-modal-body"),a=n.find(".sumome-modal-header"),r=n.find(".sumome-modal-notice"),o=n.find(".sumome-launcher-go-pro-header"),l=n.find(".sumome-control-manage-mode"),c=n.find(".sumome-launcher-error-message");s.parent().is(".sumome-auto")&&(s.css("height",""),n.css("height","")),i.is(":visible")&&n.show();var h=n.is(":visible");h||n.show();var u=document.documentElement.clientHeight||0,d=a.is(":visible")?a.innerHeight():0,p=l.is(":visible")?l.innerHeight():0,m=r.is(":visible")?r.innerHeight():0,f=o.is(":visible")?o.innerHeight():0,g=c.is(":visible")?c.innerHeight():0,v=u-d-f-m-p-g;e&&(v=s.parent().innerHeight()-d-m),h||n.hide(),v>0&&s.height(v),s.children().trigger("resize")},showModal:function(e){var i={className:"sumome-medium",element:window,title:"",appendTo:null,autoFocus:!0,closeButton:!0,my:"center center",at:"center center",handleTab:!0,resizable:!1,height:null,width:null,isLegacyModal:!1};e=t.extend({},i,e);var n=e.isManageMode?0:100,s=t('<div class="sumome-launcher-container-wrapper"></div>'),a=t('<div id="sumome-modal-mask"></div>'),r=t('<div class="sumome-modal-header"></div>'),o=t('<p class="sumome-modal-notice"></p>'),l=t('<div class="sumome-modal-body"></div>'),c=t('<div class="sumome-modal-resizer"></div>'),h=t('<div class="sumome-modal"></div>'),u=t('<a href="javascript:void(0)" class="sumome-modal-close" title="Close"></a>'),d=t(".sumome-launcher-container-wrapper");d.length&&d.remove(),e.isLegacyModal||a.css("position","initial"),a.appendTo(s),h.hide(),s.hide(),e.isManageMode||r.append(e.title);var p=t.proxy(function(){e.confirmCloseCallback?e.confirmCloseCallback()&&t(this).closeModal(null,e.isLegacyModal):t(this).closeModal(null,e.isLegacyModal)},this);e.closeButton&&(r.prepend(u),u.on("click",p)),e.isManageMode&&(e.title&&-1===e.title.indexOf("Sumo")?(r.prepend('<div class="sumome-modal-breadcrumbs"><a href="javascript:void(0)" class="sumome-home-button"><span class="sumome-icon-home"></span> Home</a>&nbsp;</div>'),r.find(".sumome-modal-breadcrumbs").append('<span class="sumo-fa sumo-fa-chevron-right sumome-modal-chevron"></span>'),r.find(".sumome-modal-breadcrumbs").append(e.title),r.find(".sumome-home-button").on("click",p)):r.addClass("sumome-modal-header-launcher"),a.addClass("sumome-modal-mask-inline"),h.addClass("sumome-modal-inline")),e.className&&h.addClass(e.className),e.isLegacyModal&&(e.height&&h.height(e.height),e.width&&h.width(e.width),e.resizer&&!e.isManageMode?h.append(e.resizer):e.resizable&&!e.isManageMode&&h.append(c),h.append(r)),h.append(o),h.append(l),l.append(t(this));var m=e.appendTo?document.getElementById(e.appendTo.id):null;m?m.appendChild(s.get(0)):s.appendTo(t(document.body)),h.appendTo(a),s.fadeIn(n),this.triggerHandler("beforeOpen.sumome-modal"),h.animate({opacity:0},n,t.proxy(function(){e.isLegacyModal&&(e.isManageMode||h.drags({handle:r}),e.resizable&&h.resizes({handle:c,body:l,onResized:t.proxy(function(){t(this).resizeModal(e.isLegacyModal)},this)}),t(this).resizeModal(e.isLegacyModal)),h.show(e.isLegacyModal),t(this).resizeModal(e.isLegacyModal),e.autoFocus?h.animate({opacity:1},n,t.proxy(function(){t(h.find("a[href], button, input, select, textarea").filter(":visible").filter(":enabled").toArray().sort(function(t,e){return(t.tabIndex>0?t.tabIndex:1e3)-(e.tabIndex>0?e.tabIndex:1e3)})).eq(0).focus(),this.triggerHandler("open.sumome-modal")},this)):h.animate({opacity:1},n,t.proxy(function(){this.triggerHandler("open.sumome-modal")},this))},this)),e.handleTab&&(t(h).on("keydown",t.proxy(function(e){if(9==e.keyCode){var i=t(document.activeElement);e.preventDefault(),e.stopPropagation();var n=t(h.find("a[href], button, input, select, textarea").filter(":visible").filter(":enabled").toArray().sort(function(t,e){return(t.tabIndex>0?t.tabIndex:1e3)-(e.tabIndex>0?e.tabIndex:1e3)}));n.eq((n.index(i)+1)%n.length).focus()}else if(13==e.keyCode){var i=t(document.activeElement);i.is("input")&&(e.preventDefault(),e.stopPropagation(),this.triggerHandler("enterPressed.sumome-modal"))}},this)),t(h).on("keyup",t.proxy(function(i){27==i.keyCode&&(i.preventDefault(),i.stopPropagation(),e.confirmCloseCallback?e.confirmCloseCallback()&&t(this).closeModal(null,e.isManageMode):t(this).closeModal(null,e.isManageMode))},this)))}})}),sumo.define("jquery.sortable",["jquery"],function(t){!function(t,e,i,n){function s(t,e){return Math.max(0,t[0]-e[0],e[0]-t[1])+Math.max(0,t[2]-e[1],e[1]-t[3])}function a(e,i,n,s){var a=e.length,r=s?"offset":"position";for(n=n||0;a--;){var o=e[a].el?e[a].el:t(e[a]),l=o[r]();l.left+=parseInt(o.css("margin-left"),10),l.top+=parseInt(o.css("margin-top"),10),i[a]=[l.left-n,l.left+o.outerWidth()+n,l.top-n,l.top+o.outerHeight()+n]}}function r(t,e){var i=e.offset();return{left:t.left-i.left,top:t.top-i.top}}function o(t,e,i){e=[e.left,e.top],i=i&&[i.left,i.top];for(var n,a=t.length,r=[];a--;)n=t[a],r[a]=[a,s(n,e),i&&s(n,i)];return r=r.sort(function(t,e){return e[1]-t[1]||e[2]-t[2]||e[0]-t[0]})}function l(e){this.options=t.extend({},d,e),this.containers=[],this.options.rootGroup||(this.scrollProxy=t.proxy(this.scroll,this),this.dragProxy=t.proxy(this.drag,this),this.dropProxy=t.proxy(this.drop,this),this.placeholder=t(this.options.placeholder),e.isValidTarget||(this.options.isValidTarget=n))}function c(e,i){this.el=e,this.options=t.extend({},u,i),this.group=l.get(this.options),this.rootGroup=this.options.rootGroup||this.group,this.handle=this.rootGroup.options.handle||this.rootGroup.options.itemSelector;var n=this.rootGroup.options.itemPath;this.target=n?this.el.find(n):this.el,this.target.on(h.start,this.handle,t.proxy(this.dragInit,this)),this.options.drop&&this.group.containers.push(this)}var h,u={drag:!0,drop:!0,exclude:"",nested:!0,vertical:!0},d={afterMove:function(t,e,i){},containerPath:"",containerSelector:"ol, ul",distance:0,delay:0,handle:"",itemPath:"",itemSelector:"li",bodyClass:"sumome-dragging",draggedClass:"sumome-dragged",placeholderClass:"sumome-placeholder",isValidTarget:function(t,e){return!0},onCancel:function(t,e,i,n){},onDrag:function(t,e,i,n){t.css(e)},onDragStart:function(e,i,n,s){e.css({height:e.outerHeight(),width:e.outerWidth()}),e.addClass(i.group.options.draggedClass),t("body").addClass(i.group.options.bodyClass)},onDrop:function(e,i,n,s){e.removeClass(i.group.options.draggedClass).removeAttr("style"),t("body").removeClass(i.group.options.bodyClass)},onMousedown:function(t,e,i){if(!i.target.nodeName.match(/^(input|select|textarea)$/i))return i.preventDefault(),!0},placeholder:'<li class="sumome-placeholder"/>',pullPlaceholder:!0,serialize:function(e,i,n){var s=t.extend({},e.data());return n?[i]:(i[0]&&(s.children=i),delete s.subContainers,delete s.sortable,s)},tolerance:0},p={},m=0,f={left:0,top:0,bottom:0,right:0},h={start:"touchstart.sortable mousedown.sortable",drop:"touchend.sortable touchcancel.sortable mouseup.sortable",drag:"touchmove.sortable mousemove.sortable",scroll:"scroll.sortable"},g="subContainers";l.get=function(t){return p[t.group]||(t.group===n&&(t.group=m++),p[t.group]=new l(t)),p[t.group]},l.prototype={dragInit:function(e,i){this.$document=t(i.el[0].ownerDocument),this.item=t(e.target).closest(this.options.itemSelector),this.itemContainer=i,!this.item.is(this.options.exclude)&&this.options.onMousedown(this.item,d.onMousedown,e)&&(this.setPointer(e),this.toggleListeners("on"),this.setupDelayTimer(),this.dragInitDone=!0)},drag:function(t){if(!this.dragging){if(!this.distanceMet(t)||!this.delayMet)return;this.options.onDragStart(this.item,this.itemContainer,d.onDragStart,t),this.item.before(this.placeholder),this.dragging=!0}this.setPointer(t),this.options.onDrag(this.item,r(this.pointer,this.item.offsetParent()),d.onDrag,t);var e=t.pageX||t.originalEvent.pageX,i=t.pageY||t.originalEvent.pageY,s=this.sameResultBox,a=this.options.tolerance;(!s||s.top-a>i||s.bottom+a<i||s.left-a>e||s.right+a<e)&&(this.searchValidTarget()||(this.placeholder.detach(),this.lastAppendedItem=n))},drop:function(t){this.toggleListeners("off"),this.dragInitDone=!1,this.dragging&&(this.placeholder.closest("html")[0]?this.placeholder.before(this.item).detach():this.options.onCancel(this.item,this.itemContainer,d.onCancel,t),this.options.onDrop(this.item,this.getContainer(this.item),d.onDrop,t),this.clearDimensions(),this.clearOffsetParent(),this.lastAppendedItem=this.sameResultBox=n,this.dragging=!1)},searchValidTarget:function(t,e){t||(t=this.relativePointer||this.pointer,e=this.lastRelativePointer||this.lastPointer);for(var i=o(this.getContainerDimensions(),t,e),s=i.length;s--;){var a=i[s][0];if(!i[s][1]||this.options.pullPlaceholder){var l=this.containers[a];if(!l.disabled){if(!this.$getOffsetParent()){var c=l.getItemOffsetParent();t=r(t,c),e=r(e,c)}if(l.searchValidTarget(t,e))return!0}}}this.sameResultBox&&(this.sameResultBox=n)},movePlaceholder:function(t,e,i,n){var s=this.lastAppendedItem
;!n&&s&&s[0]===e[0]||(e[i](this.placeholder),this.lastAppendedItem=e,this.sameResultBox=n,this.options.afterMove(this.placeholder,t,e))},getContainerDimensions:function(){return this.containerDimensions||a(this.containers,this.containerDimensions=[],this.options.tolerance,!this.$getOffsetParent()),this.containerDimensions},getContainer:function(t){return t.closest(this.options.containerSelector).data(i)},$getOffsetParent:function(){if(this.offsetParent===n){var t=this.containers.length-1,e=this.containers[t].getItemOffsetParent();if(!this.options.rootGroup)for(;t--;)if(e[0]!=this.containers[t].getItemOffsetParent()[0]){e=!1;break}this.offsetParent=e}return this.offsetParent},setPointer:function(t){var e=this.getPointer(t);if(this.$getOffsetParent()){var i=r(e,this.$getOffsetParent());this.lastRelativePointer=this.relativePointer,this.relativePointer=i}this.lastPointer=this.pointer,this.pointer=e},distanceMet:function(t){var e=this.getPointer(t);return Math.max(Math.abs(this.pointer.left-e.left),Math.abs(this.pointer.top-e.top))>=this.options.distance},getPointer:function(t){return{left:t.pageX||t.originalEvent.pageX,top:t.pageY||t.originalEvent.pageY}},setupDelayTimer:function(){var t=this;this.delayMet=!this.options.delay,this.delayMet||(clearTimeout(this._mouseDelayTimer),this._mouseDelayTimer=setTimeout(function(){t.delayMet=!0},this.options.delay))},scroll:function(t){this.clearDimensions(),this.clearOffsetParent()},toggleListeners:function(e){var i=this,n=["drag","drop","scroll"];t.each(n,function(t,n){i.$document[e](h[n],i[n+"Proxy"])})},clearOffsetParent:function(){this.offsetParent=n},clearDimensions:function(){this.traverse(function(t){t._clearDimensions()})},traverse:function(t){t(this);for(var e=this.containers.length;e--;)this.containers[e].traverse(t)},_clearDimensions:function(){this.containerDimensions=n},_destroy:function(){p[this.options.group]=n}},c.prototype={dragInit:function(t){var e=this.rootGroup;!this.disabled&&!e.dragInitDone&&this.options.drag&&this.isValidDrag(t)&&e.dragInit(t,this)},isValidDrag:function(t){return 1==t.which||"touchstart"==t.type&&1==t.originalEvent.touches.length},searchValidTarget:function(t,e){var i=o(this.getItemDimensions(),t,e),n=i.length,s=this.rootGroup,a=!s.options.isValidTarget||s.options.isValidTarget(s.item,this);if(!n&&a)return s.movePlaceholder(this,this.target,"append"),!0;for(;n--;){var r=i[n][0];if(!i[n][1]&&this.hasChildGroup(r)){if(this.getContainerGroup(r).searchValidTarget(t,e))return!0}else if(a)return this.movePlaceholder(r,t),!0}},movePlaceholder:function(e,i){var n=t(this.items[e]),s=this.itemDimensions[e],a="after",r=n.outerWidth(),o=n.outerHeight(),l=n.offset(),c={left:l.left,right:l.left+r,top:l.top,bottom:l.top+o};if(this.options.vertical){var h=(s[2]+s[3])/2;i.top<=h?(a="before",c.bottom-=o/2):c.top+=o/2}else{var u=(s[0]+s[1])/2;i.left<=u?(a="before",c.right-=r/2):c.left+=r/2}this.hasChildGroup(e)&&(c=f),this.rootGroup.movePlaceholder(this,n,a,c)},getItemDimensions:function(){return this.itemDimensions||(this.items=this.$getChildren(this.el,"item").filter(":not(."+this.group.options.placeholderClass+", ."+this.group.options.draggedClass+")").get(),a(this.items,this.itemDimensions=[],this.options.tolerance)),this.itemDimensions},getItemOffsetParent:function(){var t,e=this.el;return t="relative"===e.css("position")||"absolute"===e.css("position")||"fixed"===e.css("position")?e:e.offsetParent()},hasChildGroup:function(t){return this.options.nested&&this.getContainerGroup(t)},getContainerGroup:function(e){var s=t.data(this.items[e],"subContainers");if(s===n){var a=this.$getChildren(this.items[e],"container");if(s=!1,a[0]){var r=t.extend({},this.options,{rootGroup:this.rootGroup,group:m++});s=a[i](r).data(i).group}t.data(this.items[e],"subContainers",s)}return s},$getChildren:function(e,i){var n=this.rootGroup.options,s=n[i+"Path"],a=n[i+"Selector"];return e=t(e),s&&(e=e.find(s)),e.children(a)},_serialize:function(e,i){var n=this,s=i?"item":"container",a=this.$getChildren(e,s).not(this.options.exclude).map(function(){return n._serialize(t(this),!i)}).get();return this.rootGroup.options.serialize(e,a,i)},traverse:function(e){t.each(this.items||[],function(i){var n=t.data(this,"subContainers");n&&n.traverse(e)}),e(this)},_clearDimensions:function(){this.itemDimensions=n},_destroy:function(){var e=this;this.target.off(h.start,this.handle),this.el.removeData(i),this.options.drop&&(this.group.containers=t.grep(this.group.containers,function(t){return t!=e})),t.each(this.items||[],function(){t.removeData(this,"subContainers")})}};var v={enable:function(){this.traverse(function(t){t.disabled=!1})},disable:function(){this.traverse(function(t){t.disabled=!0})},serialize:function(){return this._serialize(this.el,!0)},refresh:function(){this.traverse(function(t){t._clearDimensions()})},destroy:function(){this.traverse(function(t){t._destroy()})}};t.extend(c.prototype,v),t.fn.sortable=function(e){var s=Array.prototype.slice.call(arguments,1);return this.map(function(){var a=t(this),r=a.data(i);return r&&v[e]?v[e].apply(r,s)||this:(r||e!==n&&"object"!=typeof e||a.data(i,new c(a,e)),this)})}}(t,window,"sumome-sortable")}),sumo.define("jquery.ba-resize",["jquery"],function(t){!function(t,e,i){"$:nomunge";function n(){r=e[o](function(){s.each(function(){var e=t(this),i=e.width(),n=e.height(),s=t.data(this,c);i===s.w&&n===s.h||e.trigger(l,[s.w=i,s.h=n])}),n()},a[h])}var s=t([]),a=t.sized=t.extend(t.sized,{}),r,o="setTimeout",l="sized",c=l+"-special-event",h="delay",u="throttleWindow";a[h]=250,a[u]=!0,t.event.special[l]={setup:function(){if(!a[u]&&this[o])return!1;var e=t(this);s=s.add(e),t.data(this,c,{w:e.width(),h:e.height()}),1===s.length&&n()},teardown:function(){if(!a[u]&&this[o])return!1;var e=t(this);s=s.not(e),e.removeData(c),s.length||clearTimeout(r)},add:function(e){function n(e,n,a){var r=t(this),o=t.data(this,c);o.w=n!==i?n:r.width(),o.h=a!==i?a:r.height(),s.apply(this,arguments)}if(!a[u]&&this[o])return!1;var s;if(t.isFunction(e))return s=e,n;s=e.handler,e.handler=n}}}(t,this)}),sumo.define("sumome-lib",["underscore","jquery","backbone","handlebars","shepherd","tether","countries","plugins/text!lib/sumome/templates/container.handlebars","plugins/text!lib/sumome/templates/slide_container.handlebars","plugins/text!lib/sumome/templates/wizard_container.handlebars","plugins/text!lib/sumome/templates/tab_container.handlebars","plugins/text!lib/sumome/templates/mdi_container.handlebars","nprogress","vex","jquery.modal","jquery.sortable","jquery.ba-resize"],function(t,e,i,n,s,a,r,o,l,c,h,u,d,p){var m={};return m.Countries=r,m.Dialog={Buttons:{OK:{id:"ok",text:"OK",type:"primary"},CANCEL:{id:"cancel",text:"Cancel",type:"secondary"},YES:{id:"yes",text:"Yes",type:"primary"},NO:{id:"no",text:"No",type:"secondary"}},alert:function t(i){return"string"==typeof i&&(i={message:"<p>"+i+"</p>"}),i=e.extend({},m.Dialog.defaultAlertOptions,i),m.Dialog.open(i)},confirm:function t(i){return i=e.extend({},m.Dialog.defaultConfirmOptions,i),m.Dialog.open(i)},prompt:function t(i){return"string"==typeof i&&(i={message:"<p>"+i+"</p>"}),i=e.extend({},m.Dialog.defaultPromptOptions,i),i.prompt=!0,m.Dialog.open(i)},custom:function t(i){return i=e.extend({},m.Dialog.defaultCustomOptions,i),m.Dialog.open(i)},open:function t(i){var n=p.open({content:m.Dialog.buildDialogForm(i),className:"sumome-dialog-popup sumome-dialog-popup-"+i.size,overlayClassName:"sumome-dialog-popup-overlay",contentClassName:i.contentClassName||"sumome-dialog-popup-content",closeClassName:"sumome-dialog-popup-close",showCloseButton:i.showCloseButton,customCloseButton:i.customCloseButton,escapeButtonCloses:i.escapeButtonCloses,overlayClosesOnClick:i.overlayClosesOnClick,allowBackgroundScrolling:i.allowBackgroundScrolling,beforeClose:i.beforeClose});return i.dialog=n,i.view&&(i.view.dialog=i.dialog),n.on("vexResize",e.proxy(function(t,i){var n=Math.floor(Math.max((e(window).height()-i.$vexContent.outerHeight())/2,0));i.$vex.css({"padding-top":n+"px"})},n)),n.on("close",e.proxy(function(){p.close(this.data("vex").id)},n)),n.on("vexOpen",e.proxy(function(t,i){i.$vexContent.on("sized",e.proxy(function(){m.Dialog.resize(i)},n)),i.$vexContent.find('input[type="text"]').focus(),m.Dialog.resize(i)},n)),n.on("vexClose",function(){e(window).off("keydown.sumome-dialog")}),n},resize:function t(i){var n=i.$vexContent.parent(),s="small",a=n.innerWidth();s=a>=1440?"xxlarge":a>=1080?"xlarge":a>=768?"large":a>=480?"medium":"small";var r=Math.floor(Math.max((e(window).height()-i.$vexContent.outerHeight())/2,0));i.$vex.css({"padding-top":r+"px"})},buildDialogForm:function t(i){var n=e('<div><div class="sumome-row"><div class="sumome-12 sumome-columns"><h2 class="sumome-dialog-title"></h2></div></div><div class="sumome-row"><div class="sumome-12 sumome-columns sumome-dialog-message"></div></div><div class="sumome-row"><div class="sumome-12 sumome-columns"><hr /><div class="sumome-text-'+i.buttonAlign+' sumome-dialog-buttons"></div></div></div></div>'),s=n.find(".sumome-dialog-title"),a=n.find(".sumome-dialog-message");if(i.title&&i.title.length>0?s.text(i.title):s.parent().parent().remove(),i.view)a.parent().replaceWith(i.view.el);else if(i.prompt){var r=e('<div class="sumome-dialog-popup-form" />');if(i.message){var o=e('<label class="sumome-dialog-label" />');o.html(i.message),r.append(o)}var l=e('<input type="text" class="sumome-dialog-input" />');"default"in i&&l.val(i.default),r.append(l),a.append(r)}else a.html("<h4>"+i.message+"</h4>");e(window).on("keydown.sumome-dialog",function(t){13==t.keyCode&&n.find("button").filter(function(){return["ok","yes"].indexOf(e(this).data("id"))>=0}).eq(0).trigger("click")});var c=n.find(".sumome-dialog-buttons");return(i.view||i.prompt||(i.contentClassName||"").indexOf("sumome-import-prompt")>-1)&&c.parent().find("hr").remove(),e.each(i.buttons,function(t,n){var s=e('<button class="sumome-button sumome-tiny sumome-radius" />').data("id",n.id).text(n.text);n.size&&s.removeClass("sumome-tiny").addClass("sumome-"+n.size),"type"in n&&s.addClass("sumome-"+n.type),s.click(function(){"cancel"!==e(this).data("id")&&"validator"in i&&i.validator&&!i.validator()||("callback"in i&&i.callback?!1!==i.callback(e(this).data("id"),e(this).closest(".sumome-dialog-popup-content").find('input[type="text"]').val())&&p.close(i.dialog.data("vex").id):p.close(i.dialog.data("vex").id))}),c.append(s)}),n}},m.Dialog.defaultAlertOptions={title:"Alert",message:"Alert",size:"small",showCloseButton:!0,customCloseButton:!1,escapeButtonCloses:!0,overlayClosesOnClick:!1,buttons:[m.Dialog.Buttons.OK],buttonAlign:"right"},m.Dialog.defaultCustomOptions={title:"Custom",message:"",size:"small",showCloseButton:!0,customCloseButton:!1,escapeButtonCloses:!0,overlayClosesOnClick:!1,buttons:[],buttonAlign:"right"},m.Dialog.defaultPromptOptions={title:"Custom",message:"",size:"small",showCloseButton:!0,customCloseButton:!1,escapeButtonCloses:!0,overlayClosesOnClick:!1,buttons:[m.Dialog.Buttons.CANCEL,m.Dialog.Buttons.OK],buttonAlign:"right"},m.Dialog.defaultConfirmOptions={title:"Confirm",message:"Confirm",size:"small",showCloseButton:!0,customCloseButton:!1,escapeButtonCloses:!0,overlayClosesOnClick:!1,buttons:[m.Dialog.Buttons.NO,m.Dialog.Buttons.YES],buttonAlign:"right"},m.ViewHelper={parent:null,installTour:function i(n){if(!n)throw"No installTour slug specified";this.tour=new s.Tour({defaults:{classes:"sumome-shepherd-theme-arrows",showCancelLink:!0,buttons:!1}}),this.on("hide",e.proxy(function(){this.tour&&(this.lastTourStep=this.tour.currentStep?this.tour.currentStep.id:null,this.tour.hide())},this)),this.on("focused",e.proxy(function(){this.tour&&this.lastTourStep&&!this.seenTour(n)&&this.tour.show(this.lastTourStep)},this)),this.on("beforeDestroy",e.proxy(function(){this.tour&&(this.tour.complete(),this.tour=null)},this)),this.tour.on("close",e.proxy(function(){m.Dialog.confirm({title:"End Lesson",message:"Are you sure? We only recommend ending this lesson if you know what you are doing.",buttons:[{id:"no",type:"primary",text:"No, Continue"},{id:"yes",type:"secondary",text:"Yes, End Lesson"}],callback:t.bind(function(t){"yes"==t&&(this.cancelTour(n,this.tour.currentStep.id),this.tour.cancel())},this)})},this)),"installTourSteps"in this&&t.isFunction(this.installTourSteps)&&this.installTourSteps()},seenTour:function t(e){return!("api"in this)||(!("tours"in this.api.properties)||0!=this.api.properties.tours.length&&this.api.properties.tours.indexOf(e)>-1)},completeTour:function t(i,n){e.ajax({type:"POST",dataType:"json",beforeSend:function t(i){i.setRequestHeader("X-Sumo-Auth",e.cookie("__smToken"))},xhrFields:{withCredentials:!1},crossDomain:!0,url:this.api.properties.sumoUrl+"/api/tour/complete",data:{site_id:this.api.properties.siteId,slug:i},success:e.proxy(function(t){t.success?("api"in this&&("tours"in this.api.properties||(this.api.properties.tours=[]),this.api.properties.tours.push(i)),n&&n(null,t)):n&&n(t)},this)})},cancelTour:function t(i,n,s){e.ajax({type:"POST",dataType:"json",beforeSend:function t(i){i.setRequestHeader("X-Sumo-Auth",e.cookie("__smToken"))},xhrFields:{withCredentials:!1},crossDomain:!0,url:this.api.properties.sumoUrl+"/api/tour/cancel",data:{site_id:this.api.properties.siteId,slug:i,step:n},success:e.proxy(function(t){t.success?("api"in this&&("tours"in this.api.properties||(this.api.properties.tours=[]),this.api.properties.tours.push(i)),s&&s(null,t)):s&&s(t)},this)})},checkDefaultProps:function e(i){var n=this;t(i).each(function(t){n&&!n.hasOwnProperty(t)&&n.__proto__.hasOwnProperty(t)})},getModal:function t(){for(var e=this;e&&e.getParent;){if(e.isModal)return e;e=e.getParent()}return null},getContainer:function t(){for(var e=this;e&&e.getParent;){if(e.isContainer)return e;e=e.getParent()}return null},getParent:function t(){return this.parent}},m.ModalView={modalTitle:"Unknown Modal",modalIconClass:null,modalSize:"medium",modalIcon:null,appendTo:null,modalMenu:[],isModal:!0,menuMode:!1,autoFocus:!0,stopOnClose:!0,isLegacyModal:!1,defaultProps:{currentConfig:{}},initialize:function i(n){e.extend(this,n),this.on("beforeDestroy",e.proxy(function(){this.currentView&&this.currentView.trigger("beforeDestroy")},this)),this.$el.on("close.sumome-modal",e.proxy(function(){this.trigger("beforeDestroy"),this.remove(),this.stopOnClose&&"api"in this&&this.api.close()},this)),this.$el.on("open.sumome-modal",e.proxy(function(){this.trigger("showModal"),this.trigger("resize")},this)),this.$el.on("resize",e.proxy(function(){this.trigger("resize")},this));var s="";this.isLegacyModal&&(s+=" sumome-"+this.modalSize),this.modalClassName&&(s+=" "+this.modalClassName);var a=[],r="",o=this.api.properties.sumoUrl+"/sites/";if(this.modalIcon&&(r="Launcher"===this.modalIconClass&&"manage"===this.api.properties.mode?'<a href="'+o+'"><img src="'+this.api.properties.baseUrl+this.modalIcon+'" class="sumome-modal-icon-manage" /></a>':"Launcher"===this.modalIconClass?'<a href="'+o+'"><img src="'+this.api.properties.baseUrl+this.modalIcon+'" class="sumome-modal-icon-large" /></a>':'<a href="'+o+'"><img src="'+this.api.properties.baseUrl+this.modalIcon+'" class="sumome-modal-icon" /></a>',a.push(e(r))),this.modalTitle&&"Launcher"!==this.modalIconClass&&a.push(this.modalTitle),this.modalMenu&&this.modalMenu.length>0){var l=e("<ul />");this.buildMenu(l,this.modalMenu),l.children("li").on("click.delegateMenu"+this.cid,e.proxy(function(i){this.menuMode=!0,i.stopPropagation(),e("body").on("click.delegateMenu"+this.cid,e.proxy(function(i){this.menuMode=!1,e("body").off("click.delegateMenu"+this.cid),this.timerId=window.setTimeout(t.bind(this.closeMenu,this,l),200)},this));var n=e(i.target);n.parents("ul").length>1||(n.is("li")||(n=n.closest("li")),this.timerId&&window.clearTimeout(this.timerId),window.setTimeout(t.bind(this.openMenu,this,l,n),100))},this)),l.children("li").on("mouseenter.delegateMenu"+this.cid,e.proxy(function(i){if(this.menuMode){var n=e(i.target);if(n.parents("ul").length>1)return;n.is("li")||(n=n.closest("li")),this.timerId&&window.clearTimeout(this.timerId),window.setTimeout(t.bind(this.openMenu,this,l,n),100)}},this)),l.children("li").on("mouseleave.delegateMenu"+this.cid,e.proxy(function(e){this.timerId=window.setTimeout(t.bind(this.closeMenu,this,l),200)},this)),l.children("li").children("ul").on("mouseenter.delegateMenu"+this.cid,e.proxy(function(t){window.clearTimeout(this.timerId)},this)),a.push(l),l.hide()}this.$el.showModal({resizable:!0,min_width:250,className:s,title:a,autoFocus:this.autoFocus,confirmCloseCallback:t.bind(this.confirmClose,this),isManageMode:"manage"===this.api.properties.mode,appendTo:this.appendTo,isLegacyModal:this.isLegacyModal}),e(window).on("resize.sumome-modal"+this.cid,e.proxy(function(t){t&&"resize"==t.type&&t.target!=window||(this.$el.resizeModal(this.isLegacyModal),"auto"==this.modalSize?this.recenter():this.trigger("resize"))},this)),"manage"===this.api.properties.mode&&"Launcher"===this.modalIconClass&&this.$el.closest(".sumome-modal").find(".sumome-modal-header").hide()},confirmClose:function i(){if("getDirty"in this&&this.getDirty()){var n=document.activeElement;return m.Dialog.confirm({title:"Close Window",message:"Are you sure you want to close this window without saving? Changes will be lost.",callback:t.bind(function(t){"yes"==t?this.$el.closeModal():e(n).focus()},this)}),!1}return!0},remove:function t(){this.undelegateMenu(),e(window).off(".sumome-modal"+this.cid),i.View.prototype.remove.call(this)},removeMenu:function t(){this.undelegateMenu(),this.$el.closest(".sumome-modal").find(".sumome-modal-header > ul").remove()},hideMenu:function t(){this.$el.closest(".sumome-modal").find(".sumome-modal-header > ul").hide()},showMenu:function t(){this.$el.closest(".sumome-modal").find(".sumome-modal-header > ul").show()},openMenu:function i(n,s){n.children("li").removeClass("sumome-open"),s.find("li").each(t.bind(function(i,n){var s=e(n),a=s.data("sumome-menu-item");if("visibilityCallback"in a){var r=a.visibilityCallback;t.isFunction(r)||(r=this[r]),r.call(this,s)}else s.removeAttr("class"),s.show()},this)),s.addClass("sumome-open")},closeMenu:function t(e){e.children("li").removeClass("sumome-open")},buildMenu:function i(n,s){var a;for(a=0;a<s.length;a++){var r=e("<li />").data("sumome-menu-item",s[a]),o=e('<a href="javascript:void(0);">'+s[a].title+"</a>");if(r.append(o),"items"in s[a]){var l=e("<ul />");this.buildMenu(l,s[a].items),r.append(l)}if("callback"in s[a]){var c="click.delegateMenu"+this.cid,h=s[a].callback;t.isFunction(h)||(h=this[h]),h&&(h=t.bind(h,this),o.on(c,h))}n.append(r)}return n},showNotice:function t(e,i){var n=this.$el.closest(".sumome-modal"),s=n.find(".sumome-modal-notice");s.html(e),i&&"string"==typeof i&&(s.css("cursor","pointer"),s.on("click",function(){window.location.hash="",setTimeout(function(){window.location.hash=i},0)})),s.show(),this.$el.resizeModal(this.isLegacyModal)},showImportNotice:function e(i,n){var s=this.$el.closest(".sumome-modal"),a=s.find(".sumome-modal-notice");a.html(i),a.css("cursor","pointer"),a.on("click",t.bind(function(){this.api.emit("startApp",{app:"156085c5-0017-4150-b225-a731ad248f38",opts:{importSource:n}})},this)),a.show(),this.$el.resizeModal(this.isLegacyModal)},showUpgradeNotice:function t(i,n){var s=this.$el.closest(".sumome-modal"),a=s.find(".sumome-modal-notice").addClass("sumome-modal-notice-upgrade");a.html('<a href="javascript:void(0)" class="sumome-modal-notice-hide" title="Hide"><img src="'+this.api.properties.sumoUrl+'/client/images/modal-close.png" alt="Hide"></a><a href="javascript:void(0);" class="sumome-button sumome-tiny sumome-success">Upgrade Now</a><img src="'+this.api.properties.sumoUrl+'/client/images/apps/sumome-pro/64.png"><h4>Sumo Pro</h4>Grow your website faster with advanced display rules, pro insights, integrations, and more. SAVE 40% yearly when you upgrade now.'),a.find(".sumome-modal-notice-hide").on("click",e.proxy(function(){this.hideNotice()},this)),n&&a.find(".sumome-button").on("click",function(t){n(i,{hideBasicOption:!0})}),a.show(),this.$el.resizeModal(this.isLegacyModal)},hideNotice:function t(){var e=this.$el.closest(".sumome-modal"),i=e.find(".sumome-modal-notice");i.hide(),i.removeClass("sumome-modal-notice-upgrade"),i.css("cursor","auto"),i.off("click"),this.$el.resizeModal(this.isLegacyModal)},close:function t(e){this.$el.off("close.sumome-modal"),this.trigger("beforeDestroy"),null!==this.el.parentNode?this.$el.closeModal(e):e&&e()},setSize:function t(i){var n=this.$el.parents(".sumome-modal"),s="sumome-"+i;if(!n.hasClass(s)){n.css("width",""),n.removeClass("sumome-auto sumome-tiny sumome-small sumome-medium sumome-large sumome-xlarge sumome-max").addClass(s),n.css("left",Math.floor((window.innerWidth-n.width())/2)+"px"),("large"==i&&e(window).height()<480||"xlarge"==i&&e(window).height()<640)&&n.css("height",e(window).height()+"px"),n.resize();var a=Math.max(Math.floor((e(window).height()-n.outerHeight())/2),0);n.css("top",a+"px")}},checkSize:function t(){var i=this.$el.parents(".sumome-modal");i.width()>.94*e(window).width()&&i.css("width",Math.round(.94*e(window).width())+"px"),i.height()>.94*e(window).height()&&i.css("height",Math.round(.94*e(window).height())+"px"),i.css("left",Math.floor((window.innerWidth-i.width())/2)+"px"),i.resize();var n=Math.max(Math.floor((e(window).height()-i.outerHeight())/2),0);i.css("top",n+"px"),this.$el.resizeModal(this.isLegacyModal),this.trigger("resize")},recenter:function t(){this.$el.trigger("resize"),this.$el.resizeModal(this.isLegacyModal);var i=this.$el.parents(".sumome-modal");i.css("left",Math.floor((window.innerWidth-i.width())/2)+"px"),i.resize();var n=Math.max(Math.floor((e(window).height()-i.outerHeight())/2),0);i.css("top",n+"px"),this.trigger("resize")},toggleSidebar:function t(e){e?(this.$parent=this.$el.children(".sumome-settings-container"),this.$parent.css("width","60%"),this.$sidebar=this.$el.children(".sumome-settings-sidebar"),this.$sidebar.css("display","inline"),this.$sidebar.html(e)):(this.$parent=this.$el.children(".sumome-settings-container"),this.$parent.css("width","100%"),this.$sidebar=this.$el.children(".sumome-settings-sidebar"),this.$sidebar.css("display","none"))},toggleFooter:function t(e){e?(this.$footer=this.$el.children(".sumome-settings-footer"),this.$footer.show(),this.trigger("resize")):(this.$footer=this.$el.children(".sumome-settings-footer"),this.$footer.hide(),this.trigger("resize"))},setSidebar:function t(e){this.$sidebar.html(e)},showProgressBar:function t(){d.start()},errorProgressBar:function t(){d.error()},finishProgressBar:function t(){d.done()},undelegateMenu:function t(){this.$el.closest(".sumome-modal").find("ul, li, a").off(".delegateMenu"+this.cid)},resize:function t(){var e=this.$el.parents(".sumome-modal"),i="small",n=e.innerWidth();if(i=n>=1440?"xxlarge":n>=1080?"xlarge":n>=768?"large":n>=480?"medium":"small",this.isLegacyModal){var s="sumome-res-"+i;e.removeClass("sumome-res-small sumome-res-medium sumome-res-large sumome-res-xlarge sumome-res-xxlarge").addClass(s)}a.position()}},t.extend(m.ModalView,m.ViewHelper),m.ContainerChildView={showSidebar:!1,showFooter:!0,containerTemplate:n.compile(o),defaultProps:{currentConfig:{}},initialize:function t(i){var n=this.getModal();sumo.require(["plugins/css!../css/sumome-container.css"],e.proxy(function(){this.resize()},this)),this.on("resize",this.resize,this),n.toggleFooter(this.showFooter),n.toggleSidebar(this.showSidebar),this.$wrapEl=e("<div />").addClass("sumome-container"),this.$wrapEl.html(this.containerTemplate()),this.$containerEl=this.$wrapEl.find(".sumome-container-container"),this.$containerEl.append(this.$el)},resize:function t(){var e=this.$wrapEl.parent().innerHeight(),i="none"!=this.$el.find(".sumome-container-footer").css("display")?this.$el.find(".sumome-container-footer").outerHeight():0;this.$wrapEl.height(e),e-=i,this.$containerEl.height(e)},getEl:function t(){return this.$wrapEl}},t.extend(m.ContainerChildView,m.ViewHelper),m.SlideChildView={canGoBack:!1,canSave:!1,containerTitle:"",buttonTitle:"Save",wizardButtonTitle:"Next",previousView:null,showSidebar:!1,showFooter:!0,defaultProps:{isDirty:!1,currentConfig:{}},initialize:function t(e){var i=this.getModal(),n=this.getContainer();this.isDirty=!1,this.wizard=n.wizard,n.setCanGoBack(this.canGoBack),n.setCanSave(this.canSave),n.setTitle(this.containerTitle),n.setButtonTitle(this.wizard?this.wizardButtonTitle:this.buttonTitle),this.setDirty(this.getDirty()),i.toggleFooter(this.showFooter),i.toggleSidebar(this.showSidebar)},setDirty:function t(e){if(this.isDirty=!1!==e,this.isDirty){var i=this.getContainer();i&&i.$saveEl&&i.$saveEl.find(".sumome-button.sumome-success").addClass("sumome-hvr-back-pulse")}else{var i=this.getContainer();i&&i.$saveEl&&i.$saveEl.find(".sumome-button.sumome-success").removeClass("sumome-hvr-back-pulse")}},getDirty:function t(){return this.isDirty},goBack:function t(){this.getContainer().goBack()},goForward:function t(){this.getContainer().goForward()},goto:function t(e){this.getContainer().goto(e)},getEl:function t(){return this.$el}},t.extend(m.SlideChildView,m.ViewHelper),m.SlideStaticGridView={listItems:[],events:{"click ul li":"rowClick","mouseenter ul li":"rowEnter","mouseleave ul li":"rowLeave"},initialize:function t(e){this.$el.addClass("sumome-12 sumome-columns"),this.render()},rowClick:t.debounce(function(t){var i=e(t.target).closest("li").index();if(i>=0&&i<this.listItems.length){var n=this.listItems[i];!n.preventDefault&&n.view&&this.getContainer().slideTo(n.view,"left",n.params),n.onClickCallback&&n.onClickCallback(n.params,t.target,this)}},500,!0),render:function t(){this.$el.html('<ul class="sumome-small-block-grid-3 sumome-settings-grid"></ul>');var i,n=this.$el.find("ul");for(i=0;i<this.listItems.length;i++){var s=this.listItems[i],a=e("<li></li>");s.image?a.append('<img src="'+s.image+'" />'):s.icon&&a.append('<span><i class="sumome-fa sumome-fa-white sumome-fa-medium '+s.icon+'"></i></span>'),a.append("<h6>"+s.params.title+"</h6>"),n.append(a)}if(!this.listItems.length&&this.emptyMessage){var a=e('<li style="cursor:default;"></li>');a.append(this.emptyMessage),n.append(a)}}},m.SlideStaticListView={listItems:[],events:{"click ul li":"rowClick"},initialize:function t(e){this.$el.addClass("sumome-settings-list"),this.render()},rowClick:t.debounce(function(t){var i=e(t.target).closest("li").index();if(i>=0&&i<this.listItems.length){var n=this.listItems[i];!n.preventDefault&&n.view&&this.getContainer().slideTo(n.view,"left",n.params),n.onClickCallback&&n.onClickCallback(n.params,t.target,this)}},500,!0),render:function t(){this.$el.html("<ul></ul>");var i,n=this.$el.find("ul");for(i=0;i<this.listItems.length;i++){var s=this.listItems[i],a=e("<li></li>");s.image?a.append('<span style="background:transparent;"><i class="sumome-fa sumome-fa-white sumome-fa-medium" style="width:30px; background-size:contain; background-image: url(\''+s.image+"');\"></i></span>"):s.icon&&a.append('<span><i class="sumome-fa sumome-fa-white sumome-fa-medium '+s.icon+'"></i></span>'),a.append(s.title),s.noArrow||a.append('<i class="sumome-arrow-forward sumome-right">&gt;</i>'),n.append(a)}if(!this.listItems.length&&this.emptyMessage){var a=e('<li style="cursor:default;"></li>');a.append(this.emptyMessage),n.append(a)}}},m.SlideWizardView={template:n.compile(c),tagName:"div",className:"sumome-settings",wizard:!0,isContainer:!0,currentViewIndex:0,currentView:null,events:{"click .sumome-settings-left":"goBack","click .sumome-settings-right":"save","click .sumome-wizard-save":"save"},defaultProps:{currentConfig:{}},initialize:function t(i){this.on("resize",this.resize,this),this.on("beforeDestroy",e.proxy(function(){this.currentView&&this.currentView.trigger("beforeDestroy")},this)),this.render(),this.resize(),this.listItems&&this.listItems.length>0&&(this.currentView=this.appendView(this.listItems[0].view),this.currentView.trigger("focused"))},getEl:function t(){return this.$el},getDirty:function t(){return this.currentView&&this.currentView.getDirty()},render:function t(){this.$el.html(this.template()),this.$saveEl=this.$el.find(".sumome-settings-header .sumome-settings-right, .sumome-wizard-save"),this.$containerEl=this.$el.find(".sumome-settings-container"),this.$containerEl.addClass("sumome-animated-container"),this.$sidebarEl=this.$el.find(".sumome-settings-sidebar")},goto:function t(e){if(e>=0&&e+1<this.listItems.length){this.currentViewIndex=e;var i=this.listItems[this.currentViewIndex];i.view&&this.slideTo(i.view,"right",i.params)}},goBack:t.throttle(function(){if(this.currentViewIndex>0){var t=this.listItems[this.currentViewIndex];this.currentViewIndex-=1;var e=this.listItems[this.currentViewIndex];e.view&&this.slideTo(e.view,"right",e.params),t.removeOnBack&&this.listItems.splice(this.currentViewIndex+1)}},500),goForward:function t(){if(this.currentViewIndex+1<this.listItems.length){this.currentViewIndex+=1;var e=this.listItems[this.currentViewIndex];e.view&&this.slideTo(e.view,"left",e.params)}},save:t.debounce(function(){this.currentView&&this.currentView.trigger("save")},500,!0),setButtonTitle:function t(e){this.$saveEl.find("button").text(e)},setTitle:function t(e){},resize:function t(){var e=this.$el.parent().innerHeight(),i=this.$el.find(".sumome-settings-header").outerHeight(),n="none"!=this.$el.find(".sumome-settings-footer").css("display")?this.$el.find(".sumome-settings-footer").outerHeight():0;this.$el.height(e),e-=i,e-=n,this.$containerEl.height(e),this.$sidebarEl.height(e),this.currentView&&this.currentView.trigger("resize")},showView:function t(e){var i=this.listItems[e];i.view&&this.slideTo(i.view,"left",i.params)},setCanGoBack:function t(e){},setCanSave:function t(e){this.$saveEl.toggle(e)},appendView:function t(i,n){var s=new i(e.extend({},{api:this.api,settings:this,parent:this},n));return this.$containerEl.append(s.getEl()),this.clearData={},s.trigger("resize"),s},slideTo:function t(e,i,n){var s=this.appendView(e,n);return this.slide(s,this.currentView,i||"left"),s},slide:function t(i,n,s){var a=this.$containerEl,r=e(i.getEl()),o=e(n.getEl());this.toggleSidebar(!1),o.show(),r.show(),a.addClass("sumome-animated-container-slide-"+s+"-ct"),r.addClass("sumome-animated-container-slide-"+s+"-new"),setTimeout(e.proxy(function(){a.addClass("sumome-animated-container-slide-"+s+"-ct-sliding"),setTimeout(e.proxy(function(){o.hide(),a.removeClass("sumome-animated-container-slide-"+s+"-ct"),a.removeClass("sumome-animated-container-slide-"+s+"-ct-sliding"),r.removeClass("sumome-animated-container-slide-"+s+"-new"),setTimeout(e.proxy(function(){n.trigger("beforeDestroy"),n.remove(),this.currentView=i,this.currentView.trigger("focused"),this.$containerEl.scrollTop(0)},this),0)},this),450)},this),0)}},t.extend(m.SlideWizardView,m.ViewHelper),m.SlideContainerView={template:n.compile(l),tagName:"div",wizard:!1,isContainer:!0,className:"sumome-settings",events:{"click .sumome-settings-left":"goBack","click .sumome-settings-right":"save"},defaultProps:{currentView:null,previousViewParams:[],previousViewStack:[],clearData:{},currentConfig:{}},initialize:function t(i){this.checkDefaultProps(["defaultView"]),this.on("resize",this.resize,this),this.on("beforeDestroy",e.proxy(function(){this.currentView&&this.currentView.trigger("beforeDestroy")},this)),this.on("hide",e.proxy(function(){this.currentView&&this.currentView.trigger("hide")},this)),this.render(),this.resize(),this.currentView=this.appendView(this.defaultView),this.currentView.trigger("focused"),this.trigger("initialized")},getEl:function t(){return this.$el},render:function t(){this.$el.html(this.template()),this.$saveEl=this.$el.find(".sumome-settings-header .sumome-settings-right"),this.$containerEl=this.$el.find(".sumome-settings-container"),this.$containerEl.addClass("sumome-animated-container"),this.$sidebarEl=this.$el.find(".sumome-settings-sidebar"),this.clearData={}},goBack:t.throttle(function(){
this.clearData.runOnBack&&this.clearData.runOnBack(this),this.previousViewParams.length>1&&this.previousViewParams.pop(),this.previousViewStack.length>0&&this.slideTo(this.previousViewStack.pop(),"right",this.previousViewParams[this.previousViewParams.length-1])},500),save:function t(){this.currentView&&this.currentView.trigger("save")},setButtonTitle:function t(e){this.$saveEl.find("button").text(e)},setTitle:function t(e){},setCanGoBack:function t(e){},setCanSave:function t(e){this.$saveEl.toggle(e)},resize:function t(){var e=this.$el.parent().innerHeight(),i=this.$el.find(".sumome-settings-header").outerHeight(),n="none"!=this.$el.find(".sumome-settings-footer").css("display")?this.$el.find(".sumome-settings-footer").outerHeight():0;this.$el.height(e),e-=i,e-=n,this.$containerEl.height(e),this.$sidebarEl.height(e),this.currentView&&this.currentView.trigger("resize"),a.position()},getDirty:function t(){return this.currentView&&this.currentView.getDirty()},appendView:function t(i,n){var s=new i(e.extend({},{api:this.api,settings:this,parent:this},n));return this.$containerEl.append(s.getEl()),this.clearData={},s.trigger("resize"),s},slideTo:function t(e,i,n){var s=this.appendView(e,n);return this.currentView&&"left"==(i||"left")&&(this.previousViewParams.push(n),this.previousViewStack.push(this.currentView.constructor)),this.slide(s,this.currentView,i||"left"),this.clearData={},s},slide:function t(i,n,s){var a=this.$containerEl,r=e(i.getEl()),o=e(n.getEl());this.toggleSidebar(!1),o.show(),r.show(),a.addClass("sumome-animated-container-slide-"+s+"-ct"),r.addClass("sumome-animated-container-slide-"+s+"-new"),setTimeout(e.proxy(function(){a.addClass("sumome-animated-container-slide-"+s+"-ct-sliding"),setTimeout(e.proxy(function(){o.hide(),a.removeClass("sumome-animated-container-slide-"+s+"-ct"),a.removeClass("sumome-animated-container-slide-"+s+"-ct-sliding"),r.removeClass("sumome-animated-container-slide-"+s+"-new"),setTimeout(e.proxy(function(){n.trigger("beforeDestroy"),n.remove(),this.currentView=i,this.currentView.trigger("focused"),this.$containerEl.scrollTop(0)},this),0)},this),450)},this),0)}},t.extend(m.SlideContainerView,m.ViewHelper),m.MDIContainerView={template:n.compile(u),isContainer:!0,wizard:!1,className:"sumome-xdi",defaultProps:{extraParams:{},wasInitialized:!1,tabItems:[],actionTab:null,canShowTabBar:!0,currentConfig:{}},initialize:function t(i){e.extend(this,i),sumo.require(["plugins/css!../css/sumome-xdi-container.css"],e.proxy(function(){this.resize()},this)),this.on("beforeDestroy",e.proxy(function(){var t=0;for(t=0;t<this.tabItems.length;t++){var e=this.tabItems[t];"view"in e&&e.view&&e.viewAppended&&(e.view.trigger("beforeDestroy"),e.view.remove(),e.view=null,e.viewAppended=!1)}},this)),this.on("resize",this.resize,this),this.on("focused",this.focused,this),this.render();var n=null;this.$tabBarEl.sortable({nested:!1,vertical:!1,delay:200,afterMove:e.proxy(function(t,e,i){n&&t.css({width:n.outerWidth(),height:n.outerHeight()})},this),onDrop:e.proxy(function(t,i,n,s){t.removeClass("sumome-dragged").removeAttr("style"),e("body").removeClass("sumome-dragging"),this.updateTabOrder(),this.trigger("reorder")},this),onDrag:e.proxy(function(t,e,i,n){var s=this.$tabBarEl.offset();t.css({left:e.left-s.left})},this),onDragStart:e.proxy(function(t,i,s,a){n=t,t.addClass("sumome-dragged"),e("body").addClass("sumome-dragging")},this)}),this.trigger("initialized"),this.wasInitialized=!0},remove:function t(){this.$tabBarEl&&this.$tabBarEl.sortable("destroy"),this.closeAllTabs(),i.View.prototype.remove.call(this)},render:function t(){this.$el.html(this.template({baseUrl:this.api.properties.baseUrl})),this.$containerEl=this.$el.find(".sumome-xdi-container-container"),this.$tabBarEl=this.$el.find(".sumome-xdi-tab-container").hide(),this.canShowTabBar&&this.$tabBarEl.show(),null!==this.actionTab&&this.addTab({id:"action",title:this.actionTab.title,callback:this.actionTab.callback,closeable:!1})},focused:function t(){a.position()},resize:function t(){var e=this.$el.find(".sumome-xdi-tab-container").outerHeight(),i=this.$el.parent().innerHeight();this.$el.height(i),this.canShowTabBar&&(i-=e),this.$containerEl.height(i);var n=this.getSelectedTab();n&&"view"in n&&n.view&&n.viewAppended&&n.view.trigger("resize"),a.position()},findTab:function t(e){for(var i=0;i<this.tabItems.length;i++){var n=this.tabItems[i];if(n.title==e)return n}return null},addAndSelectTab:function t(e){this.addTab(e),this.selectTab(e.id)},getTab:function t(e){for(var i=0;i<this.tabItems.length;i++){var n=this.tabItems[i];if(n.id==e)return n}return null},getTabs:function t(){return this.tabItems},updateTabOrder:function i(){var n=this.$tabBarEl.children(".sumome-xdi-tab-item").map(function(t,i){return e(i).data("sumome-tab")}).get();this.tabItems=t.sortBy(this.tabItems,function(t,e){return n.indexOf(t.id)-n.indexOf(e.id)})},addTab:function i(n){if(!this.getTab(n.id)){this.tabItems.push(n);var s=e('<li class="sumome-xdi-tab-item" data-sumome-tab="'+n.id+'"><label>'+n.title+'</label><a href="javascript:void(0);" title="Close"></a></li>');if(null!==this.actionTab&&this.$tabBarEl.children().length>0?this.$tabBarEl.children().last().before(s):this.$tabBarEl.append(s),"icon"in n&&n.icon){var r=e('<img src="'+this.api.properties.baseUrl+n.icon+'" />');s.find("label").prepend(r)}"closeable"in n&&!1===n.closeable&&s.find("a").remove(),"view"in n&&n.view&&(n.viewAppended=!1),"id"in n&&"action"==n.id?s.find("label").on("click",e.proxy(function(e){if("callback"in n){var i=n.callback;t.isFunction(i)||(i=this[i]),i=t.bind(i,this),i()}},this)):s.find("label").on("click",e.proxy(function(t){this.selectTab(n.id),this.trigger("change")},this)),s.find("a").on("click",e.proxy(function(t){this.closeTab(n.id),this.trigger("change")},this)),this.tabItems.length>1&&this.$tabBarEl.show(),a.position()}},closeAllTabs:function t(){var e=0;for(e=0;e<this.tabItems.length;e++){var i=this.tabItems[e];"view"in i&&i.view&&i.viewAppended&&(i.view.trigger("beforeDestroy"),i.view.remove())}this.$tabBarEl.find(".sumome-xdi-tab-item").remove(),this.tabItems=[]},closeTab:function i(n,s){var a=this.getTab(n),r=null;if(!s&&a&&"view"in a&&a.view&&a.viewAppended){if(a.view.getDirty())return void m.Dialog.confirm({title:"Close Tab",message:"Are you sure you want to close this tab without saving? Changes will be lost.",callback:t.bind(function(t){"yes"==t&&this.closeTab(n,!0)},this)})}var o=this.$tabBarEl.find('.sumome-xdi-tab-item[data-sumome-tab="'+n+'"]').eq(0);o.length>0&&(r=o.next(".sumome-xdi-tab-item"),0!=r.length&&"action"!=r.data("sumome-tab")||(r=o.prev(".sumome-xdi-tab-item")),o.remove()),a&&("view"in a&&a.view&&a.viewAppended&&(a.view.trigger("beforeDestroy"),a.view.remove()),this.tabItems=e.grep(this.tabItems,function(t){return t.id!=n})),r&&r.length>0&&this.selectTab(r.data("sumome-tab"))},renameTab:function t(e,i){var n=this.$tabBarEl.find('.sumome-xdi-tab-item[data-sumome-tab="'+e+'"]').eq(0);if(n.length>0){n.find("label").contents().filter(function(){return 3==this.nodeType}).first().replaceWith(i);var s=this.getTab(e);s&&(s.title=i)}},getTabCount:function t(){return this.tabItems.length},showTabBar:function t(){this.canShowTabBar=!0,this.$tabBarEl.show(),this.resize()},hideTabBar:function t(){this.canShowTabBar=!1,this.$tabBarEl.hide(),this.resize()},getDirty:function t(){var e=this.getSelectedTab(),i=[];return e&&e.view&&e.viewAppended&&e.view.getDirty()&&i.push(e.id),this.tabItems.forEach(function(t){t&&t.view&&t.viewAppended&&t.view.getDirty()&&i.indexOf(t.id)<0&&i.push(t.id)}),i.length>0&&(this.selectTab(i[0]),!0)},getSelectedTab:function t(){var e=this.$tabBarEl.find(".sumome-xdi-tab-item.sumome-selected").eq(0);return e.length>0&&this.getTab(e.data("sumome-tab"))},selectTab:function t(i){var n=this.getSelectedTab();n&&n.view.trigger("hide");var s=this.$tabBarEl.find('.sumome-xdi-tab-item[data-sumome-tab="'+i+'"]').eq(0);s.length>0&&(this.$tabBarEl.find(".sumome-xdi-tab-item").removeClass("sumome-selected"),s.addClass("sumome-selected"));var a=this.getTab(i);a&&(this.$containerEl.children().hide(),"view"in a&&a.view&&(a.viewAppended||(a.view=this.appendView(a.view,"params"in a?a.params:{}),a.viewAppended=!0),e(a.view.getEl()).show(),a.view.trigger("focused"),a.view.trigger("resize")))},appendView:function t(i,n){var s=this.hasOwnProperty("settings")?this.settings:this,a=new i(e.extend({},{api:this.api,settings:s,parent:this},n,this.extraParams));return this.$containerEl.append(a.getEl()),this.clearData={},a},getEl:function t(){return this.$el},slideTo:function t(e,i,n){var s=this.appendView(e,n);return this.currentView&&"left"==(i||"left")&&(this.previousViewParams.push(n),this.previousViewStack.push(this.currentView.constructor)),this.slide(s,this.currentView,i||"left"),this.clearData={},s}},t.extend(m.MDIContainerView,m.ViewHelper),m.TabContainerView={template:n.compile(h),tagName:"div",isContainer:!0,wizard:!1,className:"sumome-tab-container",modalClassName:"sumome-modal-tab",appendTo:"lasjdlfajsdlfkjasldkfjasdf",events:{"click .sumome-tab-container-left":"goBack","click .sumome-tab-container-right":"save"},defaultProps:{extraParams:{},currentView:null,wasInitialized:!1,clearData:{},previousViewStack:[],previousViewParams:[],currentConfig:{}},initialize:function t(i){e.extend(this,i),this.checkDefaultProps(["defaultView","tabItems"]);var n=this.getModal();this.modalClassName&&e(n.el).closest(".sumome-modal").addClass(this.modalClassName),sumo.require(["plugins/css!../css/sumome-tab-container.css"],e.proxy(function(){this.resize()},this)),this.on("resize",this.resize,this),this.on("focused",this.focused,this),this.on("beforeDestroy",e.proxy(function(){this.currentView&&(this.currentView.trigger("beforeDestroy"),this.currentView.remove(),this.currentView=null)},this)),this.on("hide",e.proxy(function(){this.currentView&&this.currentView.trigger("hide")},this)),this.render(),this.defaultView&&(this.currentView=this.appendView(this.defaultView),e(this.currentView.getEl()).show(),this.currentView.trigger("focused")),this.trigger("initialized"),this.wasInitialized=!0},render:function t(){this.$el.html(this.template({baseUrl:this.api.properties.baseUrl})),this.$iconBarEl=this.$el.find(".sumome-tab-container-iconbar"),this.$backEl=this.$el.find(".sumome-tab-container-header .sumome-tab-container-left"),this.$titleEl=this.$el.find(".sumome-tab-container-header .sumome-tab-container-title"),this.$saveEl=this.$el.find(".sumome-tab-container-footer .sumome-tab-container-right"),this.$containerEl=this.$el.find(".sumome-tab-container-container"),this.$containerEl.addClass("sumome-animated-container"),this.clearData={};for(var e=0;e<this.tabItems.length;e++){var i=this.tabItems[e];this.addTab(i)}},getEl:function t(){return this.$el},insertTab:function t(e,i){for(var n=0;n<this.tabItems.length;n++){if(this.tabItems[n].title==e.title)return}this.tabItems.push(e),this.addTab(e,i)},goBack:t.throttle(function(){function e(){this.clearData.runOnBack&&this.clearData.runOnBack(this),this.previousViewParams.length>1&&this.previousViewParams.pop(),this.previousViewStack.length>0&&this.slideTo(this.previousViewStack.pop(),"right",this.previousViewParams[this.previousViewParams.length-1])}this.currentView&&this.currentView.getDirty()?m.Dialog.confirm({title:"Leave Page",message:"Are you sure you want to go back without saving? Changes will be lost.",callback:t.bind(function(t){"yes"==t&&e.call(this)},this)}):e.call(this)},500),save:function t(){this.currentView&&this.currentView.trigger("save")},setButtonTitle:function t(e){this.$saveEl.find("button").text(e)},setTitle:function t(e){this.$titleEl.html(e),this.selectTab(e)},selectTab:function t(e){var i=this.$iconBarEl.find('.sumome-item[data-sumome-tab="'+e+'"]').eq(0);i.length>0&&(this.$iconBarEl.find(".sumome-item").removeClass("sumome-selected"),i.addClass("sumome-selected"))},toggleContainerFooter:function t(e){e?(this.$footer=this.$el.children(".sumome-tab-container-footer"),this.$footer.show(),this.trigger("resize")):(this.$footer=this.$el.children(".sumome-tab-container-footer"),this.$footer.hide(),this.trigger("resize"))},setCanGoBack:function t(i){var n=this.$el.find(".sumome-tab-container-header");!i&&n?e(n).hide():i&&n&&e(n).show(),this.$backEl.toggle(i)},setCanSave:function t(e){this.$saveEl.toggle(e),this.toggleContainerFooter(e)},focused:function t(){this.currentView&&this.currentView.trigger("focused"),a.position()},resize:function t(){var e=this.$el.parent().innerHeight(),i="none"!=this.$el.find(".sumome-tab-container-header").css("display")?this.$el.find(".sumome-tab-container-header").outerHeight():0,n="none"!=this.$el.find(".sumome-tab-container-footer").css("display")?this.$el.find(".sumome-tab-container-footer").outerHeight():0,s="none"!==this.$el.find(".sumome-tab-container-iconbar").css("display")?this.$el.find(".sumome-tab-container-iconbar").outerHeight():0;this.$el.height(e),e-=n,e-=i,e-=s,this.$containerEl.height(e),this.currentView&&this.currentView.trigger("resize"),a.position()},throttledResize:t.debounce(function(){this.resize()},500,!1),addSwitch:function t(i,n){var s=e('<div class="sumome-switch-item"><div class="sumome-switch sumome-round sumome-tiny"><input type="checkbox" id="switch'+this.cid+'" /><label for="switch'+this.cid+'"></label></div><label></label></div>');n?this.$iconBarEl.append(s):this.$iconBarEl.prepend(s),this.switchLabel=i,this.$switchEl=s.find('input[type="checkbox"]'),this.$switchLabelEl=s.find(">label"),this.$switchLabelEl.html((this.switchLabel?this.switchLabel+" <br>":"")+"Paused"),this.$switchEl.on("change",e.proxy(function(){this.$switchLabelEl.html((this.switchLabel?this.switchLabel+" <br>":"")+(this.$switchEl.prop("checked")?"Active":"Paused")),this.trigger("switched")},this)),a.position()},removeSwitch:function t(){var e=this.$iconBarEl.find(".sumome-switch-item");e.length&&e.remove()},setSwitch:function t(e){this.$switchEl&&(this.$switchEl.prop("checked",e),this.$switchLabelEl.html((this.switchLabel?this.switchLabel+" <br>":"")+(this.$switchEl.prop("checked")?"Active":"Paused")))},isSwitched:function t(){return this.$switchEl?this.$switchEl.prop("checked"):null},toggleSwitch:function t(){this.setSwitch(!this.isSwitched()),this.trigger("switched")},addTab:function i(n,s){var r=e('<a class="sumome-item" href="javascript:void(0);" data-sumome-tab="'+n.title+'">'+n.title+"</a>");void 0===s?this.$iconBarEl.append(r):this.$iconBarEl.children(".sumome-item").eq(s).before(r),r.on("click",e.proxy(function(e){var i=function t(e){"view"in e&&e.view?this.slideTo(e.view):"url"in e&&e.url?window.location.href=e.url:"hash"in e&&e.hash&&(window.location.hash="",setTimeout(function(){window.location.hash=e.hash},0))};this.currentView&&this.currentView.getDirty()?m.Dialog.confirm({title:"Leave Tab",message:"Are you sure you want to leave this tab without saving? Changes will be lost.",callback:t.bind(function(t){"yes"==t&&i.call(this,n)},this)}):i.call(this,n)},this)),this.throttledResize(),a.position()},findTab:function t(e){for(var i=0;i<this.tabItems.length;i++){var n=this.tabItems[i];if(n.title==e)return n}return null},removeTab:function t(i){var n=this.findTab(i);n&&(this.tabItems=e.grep(this.tabItems,function(t){return t.title!=i}),this.$iconBarEl.find('[data-sumome-tab="'+n.title+'"]').remove())},appendView:function t(i,n){var s=this.hasOwnProperty("settings")?this.settings:this,a=new i(e.extend({},{api:this.api,settings:s,parent:this},n,this.extraParams));return this.$containerEl.append(a.getEl()),this.clearData={},a.trigger("resize"),a},slideTo:function t(e,i,n){var s=this.appendView(e,n);return this.currentView&&"left"==(i||"left")&&(this.previousViewParams.push(n),this.previousViewStack.push(this.currentView.constructor)),this.slide(s,this.currentView,i||"left"),this.clearData={},s},slide:function t(i,n,s){var a=this.$containerEl,r=e(i.getEl());if(n){e(n.getEl()).hide()}r.show(),n&&(n.trigger("beforeDestroy"),n.remove(),n=null),this.currentView=i,this.currentView.trigger("focused"),this.$containerEl.scrollTop(0)},getDirty:function t(){return this.currentView&&this.currentView.getDirty()}},t.extend(m.TabContainerView,m.ViewHelper),m}),sumo.define("lib/heatmaps",["require"],function(t){var e={defaultRadius:40,defaultRenderer:"canvas2d",defaultGradient:{.25:"rgb(0,0,255)",.55:"rgb(0,255,0)",.85:"yellow",1:"rgb(255,0,0)"},defaultMaxOpacity:1,defaultMinOpacity:0,defaultBlur:.85,defaultXField:"x",defaultYField:"y",defaultValueField:"value",plugins:{}},i=function t(){var i=function t(e){this._coordinator={},this._data=[],this._radi=[],this._min=0,this._max=1,this._xField=e.xField||e.defaultXField,this._yField=e.yField||e.defaultYField,this._valueField=e.valueField||e.defaultValueField,e.radius&&(this._cfgRadius=e.radius)},n=e.defaultRadius;return i.prototype={_organiseData:function(t,e){var i=t[this._xField],s=t[this._yField],a=this._radi,r=this._data,o=this._max,l=this._min,c=t[this._valueField]||1,h=t.radius||this._cfgRadius||n;return r[i]||(r[i]=[],a[i]=[]),r[i][s]?r[i][s]+=c:(r[i][s]=c,a[i][s]=h),r[i][s]>o?(e?this.setDataMax(r[i][s]):this._max=r[i][s],!1):{x:i,y:s,value:c,radius:h,min:l,max:o}},_unOrganizeData:function(){var t=[],e=this._data,i=this._radi;for(var n in e)for(var s in e[n])t.push({x:n,y:s,radius:i[n][s],value:e[n][s]});return{min:this._min,max:this._max,data:t}},_onExtremaChange:function(){this._coordinator.emit("extremachange",{min:this._min,max:this._max})},addData:function(){if(arguments[0].length>0)for(var t=arguments[0],e=t.length;e--;)this.addData.call(this,t[e]);else{var i=this._organiseData(arguments[0],!0);i&&this._coordinator.emit("renderpartial",{min:this._min,max:this._max,data:[i]})}return this},setData:function(t){var e=t.data,i=e.length;this._data=[],this._radi=[];for(var n=0;n<i;n++)this._organiseData(e[n],!1);return this._max=t.max,this._min=t.min||0,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},removeData:function(){},setDataMax:function(t){return this._max=t,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setDataMin:function(t){return this._min=t,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setCoordinator:function(t){this._coordinator=t},_getInternalData:function(){return{max:this._max,min:this._min,data:this._data,radi:this._radi}},getData:function(){return this._unOrganizeData()}},i}(),n=function t(){function e(t){var e=t.container,n=this.shadowCanvas=document.createElement("canvas"),s=this.canvas=t.canvas||document.createElement("canvas"),a=this._renderBoundaries=[1e4,1e4,0,0],r=getComputedStyle(t.container)||{};s.className="sumome-heatmap-canvas",this._width=s.width=n.width=+r.width.replace(/px/,""),this._height=s.height=n.height=+r.height.replace(/px/,""),this.shadowCtx=n.getContext("2d"),this.ctx=s.getContext("2d"),s.style.cssText=n.style.cssText="position:absolute;left:0;top:0;",s.style.width=this._width+"px",s.style.height=this._height+"px",e.style.position="relative",e.appendChild(s),this._palette=i(t),this._templates={},this._setStyles(t)}var i=function(t){var e=t.gradient||t.defaultGradient,i=document.createElement("canvas"),n=i.getContext("2d");i.width=256,i.height=1;var s=n.createLinearGradient(0,0,256,1);for(var a in e)s.addColorStop(a,e[a]);return n.fillStyle=s,n.fillRect(0,0,256,1),n.getImageData(0,0,256,1).data},n=function(t,e){var i=document.createElement("canvas"),n=i.getContext("2d"),s=t,a=t;if(i.width=i.height=2*t,1==e)n.beginPath(),n.arc(s,a,t,0,2*Math.PI,!1),n.fillStyle="rgba(0,0,0,1)",n.fill();else{var r=n.createRadialGradient(s,a,t*e,s,a,t);r.addColorStop(0,"rgba(0,0,0,1)"),r.addColorStop(1,"rgba(0,0,0,0)"),n.fillStyle=r,n.fillRect(0,0,2*t,2*t)}return i},s=function(t){for(var e=[],i=t.min,n=t.max,s=t.radi,t=t.data,a=Object.keys(t),r=a.length;r--;){var o=a[r];if(t.hasOwnProperty(o))for(var l=Object.keys(t[o]),c=l.length;c--;){var h=l[c];if(t[o].hasOwnProperty(h)){var u=t[o][h],d=s[o][h];e.push({x:o,y:h,value:u,radius:d})}}}return{min:i,max:n,data:e}};return e.prototype={renderPartial:function(t){this._drawAlpha(t),this._colorize()},renderAll:function(t){this._clear(),this._drawAlpha(s(t)),this._colorize()},_updateGradient:function(t){this._palette=i(t)},updateConfig:function(t){t.gradient&&this._updateGradient(t),this._setStyles(t)},setDimensions:function(t,e){this._width=t,this._height=e,this.canvas.width=this.shadowCanvas.width=t,this.canvas.height=this.shadowCanvas.height=e,this.canvas.style.width=t+"px",this.canvas.style.height=e+"px"},_clear:function(){this.shadowCtx.clearRect(0,0,this._width,this._height),this.ctx.clearRect(0,0,this._width,this._height)},_setStyles:function(t){this._blur=0==t.blur?0:t.blur||t.defaultBlur,t.backgroundColor&&(this.canvas.style.backgroundColor=t.backgroundColor),this._opacity=255*(t.opacity||0),this._maxOpacity=255*(t.maxOpacity||t.defaultMaxOpacity),this._minOpacity=255*(t.minOpacity||t.defaultMinOpacity),this._useGradientOpacity=!!t.useGradientOpacity},_drawAlpha:function(t){for(var e=this._min=t.min,i=this._max=t.max,t=t.data||[],s=t.length,a=1-this._blur;s--;){var r=t[s],o=r.x,l=r.y,c=r.radius,h=Math.min(r.value,i),u=o-c,d=l-c,p=this.shadowCtx,m;this._templates[c]?m=this._templates[c]:this._templates[c]=m=n(c,a),p.globalAlpha=(h-e)/(i-e),p.drawImage(m,u,d),u<this._renderBoundaries[0]&&(this._renderBoundaries[0]=u),d<this._renderBoundaries[1]&&(this._renderBoundaries[1]=d),u+2*c>this._renderBoundaries[2]&&(this._renderBoundaries[2]=u+2*c),d+2*c>this._renderBoundaries[3]&&(this._renderBoundaries[3]=d+2*c)}},_colorize:function(){var t=this._renderBoundaries[0],e=this._renderBoundaries[1],i=this._renderBoundaries[2]-t,n=this._renderBoundaries[3]-e,s=this._width,a=this._height,r=this._opacity,o=this._maxOpacity,l=this._minOpacity,c=this._useGradientOpacity;t<0&&(t=0),e<0&&(e=0),t+i>s&&(i=s-t),e+n>a&&(n=a-e);for(var h=this.shadowCtx.getImageData(t,e,i,n),u=h.data,d=u.length,p=this._palette,m=3;m<d;m+=4){var f=u[m],g=4*f;if(g){var v;v=r>0?r:f<o?f<l?l:f:o,u[m-3]=p[g],u[m-2]=p[g+1],u[m-1]=p[g+2],u[m]=c?p[g+3]:v}}h.data=u,this.ctx.putImageData(h,t,e),this._renderBoundaries=[1e3,1e3,0,0]},getValueAt:function(t){var e,i=this.shadowCtx,n=i.getImageData(t.x,t.y,1,1),s=n.data[3],a=this._max,r=this._min;return e=Math.abs(a-r)*(s/255)>>0},getDataURL:function(){return this.canvas.toDataURL()}},e}(),s=function t(){var i=!1;return"canvas2d"===e.defaultRenderer&&(i=n),i}(),a={merge:function(){for(var t={},e=arguments.length,i=0;i<e;i++){var n=arguments[i];for(var s in n)t[s]=n[s]}return t}},r=function t(){function n(){var t=this._config=a.merge(e,arguments[0]||{});if(this._coordinator=new r,t.plugin){var n=t.plugin;if(!e.plugins[n])throw new Error("Plugin '"+n+"' not found. Maybe it was not registered.");var l=e.plugins[n];this._renderer=new l.renderer(t),this._store=new l.store(t)}else this._renderer=new s(t),this._store=new i(t);o(this)}var r=function t(){function e(){this.cStore={}}return e.prototype={on:function(t,e,i){var n=this.cStore;n[t]||(n[t]=[]),n[t].push(function(t){return e.call(i,t)})},emit:function(t,e){var i=this.cStore;if(i[t])for(var n=i[t].length,s=0;s<n;s++){var a=i[t][s];a(e)}}},e}(),o=function(t){var e=t._renderer,i=t._coordinator,n=t._store;i.on("renderpartial",e.renderPartial,e),i.on("renderall",e.renderAll,e),i.on("extremachange",function(e){t._config.onExtremaChange&&t._config.onExtremaChange({min:e.min,max:e.max,gradient:t._config.gradient||t._config.defaultGradient})}),n.setCoordinator(i)};return n.prototype={addData:function(){return this._store.addData.apply(this._store,arguments),this},removeData:function(){return this._store.removeData&&this._store.removeData.apply(this._store,arguments),this},setData:function(){return this._store.setData.apply(this._store,arguments),this},setDataMax:function(){return this._store.setDataMax.apply(this._store,arguments),this},setDataMin:function(){return this._store.setDataMin.apply(this._store,arguments),this},configure:function(t){return this._config=a.merge(this._config,t),this._renderer.updateConfig(this._config),this._coordinator.emit("renderall",this._store._getInternalData()),this},repaint:function(){return this._coordinator.emit("renderall",this._store._getInternalData()),this},getData:function(){return this._store.getData()},getDataURL:function(){return this._renderer.getDataURL()},getValueAt:function(t){return this._store.getValueAt?this._store.getValueAt(t):this._renderer.getValueAt?this._renderer.getValueAt(t):null}},n}();return{create:function(t){return new r(t)},register:function(t,i){e.plugins[t]=i}}}),sumo.define("heatmaps/heatmaps",["jquery","underscore","sumome-lib","lib/heatmaps","jquery.displayrules","jquery.drags","jquery.resizes"],function(t,e,i,n){var s=function t(e){var i=e.toString().split(".");return i[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),i.join(".")},a=function t(e,i){return Math.sqrt((i.x-e.x)*(i.x-e.x)+(i.y-e.y)*(i.y-e.y))<i.r},r=function t(e,i){return e.x>i.x1&&e.x<i.x2&&e.y>i.y1&&e.y<i.y2},o=function t(e,i){return Math.sqrt((e.x-i.x)*(e.x-i.x)+(e.y-i.y)*(e.y-i.y))},l=function e(i,n){h.containerEl.css("left","100%");var s=document.elementFromPoint(i,n);return h.containerEl.css("left",""),t(s).getSelector()[0]},c=function t(e,i,n){Array.isArray(i)||(i=[i]);var s=n?-1:1;return e.sort(function(t,e){var n=t[i[0]],a=e[i[0]],r=n<a?-1*s:n>a?1*s:0;if(0==r&&i[1]){n=t[i[1]];var a=e[i[1]];r=n<a?-1*s:n>a?1*s:0}return r})},h={isShown:!1,isRecording:!1,currentData:null,reopenApp:!1,currentCampaign:null,elementData:null,lastPagePos:null,countsEnabled:!0,elementListShowing:!1,elementListHovered:!1,controlsHovered:!1,noAnimationTimer:null,selectedElements:{},activeClickLabelSelector:null,theme:{backgroundColor:"rgba(3, 3, 16, .3)",gradient:{0:"#03030f",.125:"#1f1159",.25:"#952a66",.375:"#b73b50",.5:"#d6693f",.625:"#e8a736",.75:"#efd455",.875:"#fbfbc4"}},load:function e(i){h.$control&&h.$control.addClass("sumome-heatmaps-control-show"),h.containerEl&&t('<div class="sumome-heatmaps-loading" />').html("Loading heat map data...<br />Press ESC to exit").appendTo(h.containerEl),t.ajax({type:"POST",dataType:"json",beforeSend:function e(i){i.setRequestHeader("X-Sumo-Auth",t.cookie("__smToken"))},xhrFields:{withCredentials:!1},crossDomain:!0,url:h.api.properties.sumoUrl+"/apps/heatmaps/load",data:{site_id:h.api.properties.siteId,path:window.location.pathname+window.location.search,campaign_id:i||null,geoLocation:this.api.properties.geoLocation,pageViews:this.api.properties.views,userAgent:navigator.userAgent},success:function e(i){i.success?(h.currentData=i.data,h.theme=i.theme,h.currentCampaign=i.campaigns,h.$elementListWrapper&&h.$elementListWrapper.css("height",""),h.refresh(),h.updateControl()):(h.currentData=null,h.currentCampaign=null,h.updateControl()),t(".sumome-heatmaps-loading").remove(),h.$control&&setTimeout(function(){t(".sumome-heatmaps-control").removeClass("sumome-heatmaps-control-show")},1e4)}})},refresh:function t(){h.findElements(h.currentData)},findElements:function e(i){var n=Number.NaN,s=Number.NaN,a=[],o={};if(i)for(var l=0;l<i.length;l++){var u,d=i[l].selector;if(!(["html","body"].indexOf(d)>=0)){try{u=t(d)}catch(t){continue}if(u.length)if(u.is(":visible")){if(!u.hasClass("sumome-heatmap-canvas")&&(o[d]?(o[d].count+=parseInt(i[l].value),o[d].clicks=o[d].count):(o[d]={element:u[0],selector:d,clicks:parseInt(i[l].value),count:parseInt(i[l].value),left:u.offset().left,top:u.offset().top,width:u.outerWidth(),height:u.outerHeight(),visible:!0},o[d].rectangle={x1:u.offset().left,x2:u.offset().left+u.outerWidth(),y1:u.offset().top,y2:u.offset().top+u.outerHeight()}),null!==u)){var p=h.findPosForElement(u,i[l].x,i[l].y);if(p){var m=parseInt(i[l].value,10);n=isNaN(n)?m:Math.min(m,n),s=isNaN(s)?m:Math.max(s,m);var f={x:Math.round(p.left),y:Math.round(p.top),value:m};a.push(f)}}}else o[d]={element:null,selector:d,clicks:parseInt(i[l].value),count:parseInt(i[l].value),top:99998,visible:!1};else o[d]={element:null,selector:d,clicks:parseInt(i[l].value),count:parseInt(i[l].value),top:99999,visible:!1}}}h.elementData={min:0,max:s,data:a,elements:[]};for(var d in o)h.elementData.elements.push(o[d]);o=h.elementData.elements;for(var l=0;l<o.length;l++)if(o[l].visible)for(var g=0;g<o.length;g++){var p={x:o[g].left+o[g].width/2,y:o[g].top+o[g].height/2},v=o[l].width-o[g].width>=0&&o[l].height-o[g].height>=0;l!=g&&o[g].visible&&v&&r(p,o[l].rectangle)&&(o[l].count+=o[g].clicks)}c(o,"count",!0);for(var l=0;l<o.length;l++)o[l].rank=l+1;h.redraw(),h.renderElementsList()},redraw:function e(){if(h.elementData&&h.map){for(var i=t(window).scrollTop(),n=t(window).scrollLeft(),s=t(window).height(),a={min:h.elementData.min,max:h.elementData.max,data:[]},r=0;r<h.elementData.data.length;r++){var o=h.elementData.data[r].x-n,l=h.elementData.data[r].y-i;l<0||l>s||a.data.push({x:o,y:l,value:h.elementData.data[r].value})}h.map.setData(a),h.map.configure(h.theme)}},toggle:function t(){h.isShown?h.hide():h.show()},hide:function e(){t(window).off(".sumome-heatmaps-widget"),t(document).off(".sumome-heatmaps-widget"),h.containerEl.remove(),h.containerEl=null,h.map=null,h.isShown=!1,h.countsEnabled=!0,h.elementListShowing=!1,h.elementListHovered=!1,h.controlsHovered=!1,h.selectedElements={},h.api.emit("showControl"),h.reopenApp&&(t(document.body).find(".sumome-heatmaps").remove(),t(document.body).find(".s.u.m.o.me.sumome-react-modal-container").fadeIn(),t(document.body).css({overflow:"hidden"}),t(document.documentElement).css({overflow:"hidden"}),h.api.on("2c40add5-3570-45d7-8212-8fc2942f7f74/app/started",function(t){h.api.off("2c40add5-3570-45d7-8212-8fc2942f7f74/app/started"),h.api.emit("2c40add5-3570-45d7-8212-8fc2942f7f74/app/route","campaigns")}),h.reopenApp=!1)},show:function i(s){if(t(document.body).find(".s.u.m.o.me.sumome-react-modal-container").fadeOut(),t(document.body).css({overflow:"auto"}),t(document.documentElement).css({overflow:"auto"}),s&&(h.reopenApp=!0),h.isShown)return void h.load(s);h.isShown=!0,h.api.emit("hideControl");var a=t("<div />").addClass("sumome-heatmaps").appendTo(document.body);h.$control=t('<div class="sumome-heatmaps-control sumome-heatmaps-control-show" />'),h.$close=t('<a class="sumome-heatmaps-close">&#x2715;</a>').appendTo(h.$control),h.$title=t('<span class="sumome-heatmaps-title" />').text("Loading...").appendTo(h.$control),h.$clicks=t('<span class="sumome-heatmaps-clicks" />').text(" ").appendTo(h.$control),h.$prev=t('<a class="sumome-heatmaps-prev sumome-heatmaps-disabled" />').appendTo(h.$control).text("Previous Campaign").attr("title","Previous Campaign").click(h.previous),h.$stop=t('<a class="sumome-heatmaps-stop sumome-heatmaps-disabled" />').appendTo(h.$control).text("STOP").attr("title","Stop Campaign").click(h.stop),h.$record=t('<a class="sumome-heatmaps-record sumome-heatmaps-disabled" />').appendTo(h.$control).text("RECORD").css("display","none").attr("title","Record New Campaign").click(h.record),h.$next=t('<a class="sumome-heatmaps-next sumome-heatmaps-disabled" />').appendTo(h.$control).text("Next Campaign").attr("title","Next Campaign").click(h.next),h.$counts=t('<a class="sumome-heatmaps-counts sumome-heatmaps-disabled sumome-heatmaps-counts-on" />').appendTo(h.$control).text("HIDE COUNTS").attr("title","Toggle Click Counts").click(h.toggleCounts),h.$control.append(t("<br />")),h.$listToggle=t('<a class="sumome-heatmaps-list-toggle sumome-heatmaps-disabled" />').appendTo(h.$control).attr("title","Toggle Element List").click(h.toggleElementList),h.$listToggleTitle=t('<span class="sumome-heatmaps-list-toggle-title" />').appendTo(h.$listToggle).text("SHOW ELEMENT LIST"),h.$wrapper=t('<div class="sumome-heatmaps-control-wrapper" />'),h.$control.appendTo(h.$wrapper),h.$thermometer=t('<div class="sumome-heatmaps-thermometer" />'),h.$thermCount=t('<span class="sumome-heatmaps-thermometer-count" />').appendTo(h.$thermometer),h.$thermStem=t('<span class="sumome-heatmaps-thermometer-stem" />').appendTo(h.$thermometer),h.$thermometer.appendTo(a),
h.$elementListWrapper=t('<div class="sumome-heatmaps-element-list-wrapper" />'),h.$elementListTitle=t('<div class="sumome-heatmaps-element-list-title" />').text("CLICKED ELEMENT LIST").appendTo(h.$elementListWrapper),h.$elementListClose=t('<a class="sumome-heatmaps-element-list-close">&#x2715;</a>').appendTo(h.$elementListWrapper),h.$elementListBody=t('<div class="sumome-heatmaps-element-list-body" />').appendTo(h.$elementListWrapper),h.$elementListTable=t('<table class="sumome-heatmaps-element-list-table"><thead><tr><th data-sort="rank">#</th><th data-sort="selector">element name</th><th data-sort="count">clicks</th></tr></thead></table>').appendTo(h.$elementListBody),h.$elementListItems=t('<tbody class="sumome-heatmaps-element-list-items" />').appendTo(h.$elementListTable),h.$elementListCorner=t('<a class="sumome-heatmaps-element-list-corner"></a>').appendTo(h.$elementListWrapper),h.$elementListWrapper.appendTo(h.$wrapper),h.$elementListWrapper.drags({handle:".sumome-heatmaps-element-list-title"}),h.$elementListWrapper.resizes({handle:h.$elementListCorner,cursor:"nwse-resize",min_width:250,min_height:85,onResized:t.proxy(function(){var e=h.$elementListTable.height()+25+2,i=t(window).height()-parseInt(h.$elementListWrapper.css("top").replace("px"));e>i&&(e=i);var n=t(window).width()-parseInt(h.$elementListWrapper.css("left").replace("px"));h.$elementListWrapper.css({"max-height":e,"max-width":n})},this)}),h.$elementListTitle.dblclick(function(e){var i=h.$elementListTable.height()+25+2,n=t(window).height();h.$elementListWrapper.css({top:"0px",left:"0px",width:"1px",height:i,"max-height":n})}),h.$elementListClose.click(function(t){h.toggleElementList(t,!0)}),h.$elementListWrapper.on("mouseenter",function(){h.elementListHovered=!0}),h.$elementListWrapper.on("mouseleave",function(){h.elementListHovered=!1}),h.$control.on("mouseenter",function(){h.controlsHovered=!0}),h.$control.on("mouseleave",function(){h.controlsHovered=!1}),h.$clicked=t('<div class="sumome-heatmaps-clicked sumome-heatmaps-clicked-animate" />'),h.$clickedLabel=t('<span class="sumome-heatmaps-clicked-label" />').appendTo(h.$clicked).text(".selector"),h.$clickedSelected=t('<div class="sumome-heatmaps-clicked-selected" />').appendTo(a),h.$clicked.click(h.selectActiveElClickEvent),h.$thermometer.click(h.selectActiveElClickEvent),h.$elementListTable.find("th").click(function(e){var i=0;t(this).hasClass("sumome-heatmaps-element-list-tab-sort-down")&&(i=1),t(this).hasClass("sumome-heatmaps-element-list-tab-sort-up")&&(i=-1),t(this).parent().find("th").removeClass("sumome-heatmaps-element-list-tab-sort-up").removeClass("sumome-heatmaps-element-list-tab-sort-down");var n=t(this).data("sort");if(n){var s=!1;i>0&&(s=!0),"count"!=n&&"rank"!=n||0!=i||(s=!0),t(this).addClass(s?"sumome-heatmaps-element-list-tab-sort-up":"sumome-heatmaps-element-list-tab-sort-down"),c(h.elementData.elements,n,s),h.renderElementsList()}}),h.$clicked.appendTo(a),h.$wrapper.appendTo(a),h.$close.click(function(t){t.preventDefault(),h.hide()}),h.containerEl=a;var r={container:a.get(0)};t.extend(r,h.theme);var o=n.create(r);a.css({position:"fixed"}),h.map=o,h.load(s),a.on("mousemove",e.debounce(function(t){h.refreshClickedLabel(t)},150)),a.on("mousemove",e.debounce(function(t){h.refreshThermometer(t)},1)),t(window).on("resize.sumome-heatmaps-widget",e.debounce(function(){var t=0,e=0;h.containerEl&&(t=h.containerEl.width(),e=h.containerEl.height()),t&&e&&h.map._renderer.setDimensions(t,e),h.refresh(),h.refreshClickedLabel(),h.refreshSelectedLabels()},300)),t(window).on("scroll.sumome-heatmaps-widget",e.debounce(function(){h.redraw(),h.refreshClickedLabel(),h.refreshSelectedLabels()},1)),t(document).on("keyup.sumome-heatmaps-widget",function(t){27==t.which&&h.hide()})},renderElementsList:function e(){var i=55+30*h.elementData.elements.length+2,n;h.isShown||h.show(),h.$elementListWrapper&&h.$elementListWrapper[0]&&h.$elementListWrapper[0].hasAttribute("style")&&h.$elementListWrapper.attr("style").replace("max-height:","").indexOf("height:")>-1&&h.$elementListWrapper.height()<=i||h.$elementListWrapper.css("height",i),h.$elementListItems.empty(),h.elementData.elements.forEach(function(e){function i(i,s){var a=t(e.selector),r=a.offset().top,o=a.height(),l=r+o,c=t(window).height(),u;u=o<c?r-(c/2-o/2):r;var d=250,p=t(window).scrollTop(),m=t(window).height()+p;p<=r&&m>=r&&p<=l&&m>=l&&(d=0),d&&t("html, body").stop().animate({scrollTop:u},d),clearTimeout(n),n=setTimeout(function(){h.showClickedWrapper(e),s&&s()},d)}var s=e.selector in h.selectedElements,a=t('<tr class="sumome-heatmaps-element-list-item'+(s?" sumome-heatmaps-element-list-item-selected":"")+'" selector="'+e.selector+'"><td>'+e.rank+'</td><td class="sumome-heatmaps-element-list-item-selector">'+e.selector+"</td><td>"+e.count+"</td></tr>"),r=500,o;e.visible?(a.on("click",function(n){clearTimeout(o);var s=Object?Object.keys(h.selectedElements).length:0,a=e.selector in h.selectedElements&&1==s;if(!(n.shiftKey||n.ctrlKey||n.metaKey||a)){h.$clickedSelected.empty();var r="sumome-heatmaps-element-list-item-selected";t("."+r).removeClass(r),h.selectedElements={}}if(e.selector in h.selectedElements&&h.selectedElements[e.selector])return t(this).removeClass("sumome-heatmaps-element-list-item-selected"),t("#"+h.selectedElements[e.selector].id).remove(),void delete h.selectedElements[e.selector];t(this).addClass("sumome-heatmaps-element-list-item-selected"),i(n,function(){h.setSelectedElEvent(e.selector)})}),a.on("mouseenter",function(){clearTimeout(o),o=setTimeout(i,500)}),a.on("mouseleave",function(){clearTimeout(o)})):(a.addClass("sumome-heatmaps-element-list-item-invisible"),a.attr("title","Element is not visible"),a.find(".sumome-heatmaps-element-list-item-selector").text(e.selector+" [not visible]")),h.$elementListItems.append(a)}),h.$elementListWrapper.attr("style").indexOf("left: calc(50%")>=0&&h.$elementListWrapper.css("left","calc(50% - "+h.$elementListWrapper.width()/2+"px)")},findPosForElement:function t(e,i,n){var s=e.offset(),a=e.outerWidth(),r=e.outerHeight();return s.top+=r*n,s.left+=a*i,s},toggleCounts:function e(i){t(this).hasClass("sumome-heatmaps-disabled")||(h.countsEnabled?(h.$counts.removeClass("sumome-heatmaps-counts-on"),h.$counts.text("VIEW COUNTS"),h.countsEnabled=!1,h.hideClickedWrapper(),h.$thermometer.css("opacity","0")):(h.$counts.addClass("sumome-heatmaps-counts-on"),h.$counts.text("HIDE COUNTS"),h.countsEnabled=!0))},toggleElementList:function e(i,n){t(this).hasClass("sumome-heatmaps-disabled")||(h.elementListShowing||n?(h.$listToggle.removeClass("sumome-heatmaps-list-toggle-on"),h.$listToggleTitle.text("SHOW ELEMENT LIST"),h.$elementListWrapper.removeClass("sumome-heatmaps-element-list-wrapper-showing"),h.elementListShowing=!1):(h.$elementListWrapper.css("max-width",parseInt(t(window).width()/2)),h.$elementListWrapper.css({left:"calc(50% - "+h.$elementListWrapper.width()/2+"px)",top:"","max-height":""}),h.$listToggle.addClass("sumome-heatmaps-list-toggle-on"),h.$listToggleTitle.text("HIDE ELEMENT LIST"),h.$elementListWrapper.addClass("sumome-heatmaps-element-list-wrapper-showing"),h.elementListShowing=!0))},previous:function e(){if(!t(this).hasClass("sumome-heatmaps-disabled")){var i=h.currentCampaign;i&&i.previous&&h.load(i.previous)}},next:function e(){if(!t(this).hasClass("sumome-heatmaps-disabled")){var i=h.currentCampaign;i&&i.next&&h.load(i.next)}},stop:function e(){t(this).hasClass("sumome-heatmaps-disabled")||t.ajax({type:"POST",dataType:"json",beforeSend:function e(i){i.setRequestHeader("X-Sumo-Auth",t.cookie("__smToken"))},xhrFields:{withCredentials:!1},crossDomain:!0,url:h.api.properties.sumoUrl+"/apps/heatmaps/stop",data:{site_id:h.api.properties.siteId,path:window.location.pathname+window.location.search},success:function t(e){e.success&&(h.load(),h.api.emit("2c40add5-3570-45d7-8212-8fc2942f7f74/campaign/stop"))}})},record:function e(){t(this).hasClass("sumome-heatmaps-disabled")||t.ajax({type:"POST",dataType:"json",beforeSend:function e(i){i.setRequestHeader("X-Sumo-Auth",t.cookie("__smToken"))},xhrFields:{withCredentials:!1},crossDomain:!0,url:h.api.properties.sumoUrl+"/apps/heatmaps/start",data:{site_id:h.api.properties.siteId,path:window.location.pathname+window.location.search},success:function t(e){e.success&&(h.load(),h.api.emit("2c40add5-3570-45d7-8212-8fc2942f7f74/campaign/start"))}})},autoRecord:function e(i,n,s){null==i&&(i=h.api.properties.siteId),null==n&&(n=h.api.properties.sumoUrl),t(this).hasClass("sumome-heatmaps-disabled")||t.ajax({type:"POST",dataType:"json",beforeSend:function e(i){i.setRequestHeader("X-Sumo-Auth",t.cookie("__smToken"))},xhrFields:{withCredentials:!1},crossDomain:!0,url:n+"/apps/heatmaps/start/auto",data:{site_id:i,path:window.location.pathname+window.location.search},success:s})},updateControl:function t(){var e=h.currentCampaign;if(h.$control&&h.$title){if(e&&e.current){var i="";if(e.current.started_at){var n=new Date(e.current.started_at);i=n.toLocaleDateString()+" "+n.toLocaleTimeString()}if(e.current.finished_at){var a=new Date(e.current.finished_at);i+=" - "+a.toLocaleDateString()+" "+a.toLocaleTimeString()}else i+=" - ACTIVE CAMPAIGN";h.$title.text(i),h.$clicks.html('<span class="sumome-heatmaps-clicks-count">'+s(e.current.total_clicks)+"</span> CLICK"+(1==e.current.total_clicks?"":"S")+" RECORDED")}else h.$title.text(""),h.$clicks.text("");h.$prev.toggleClass("sumome-heatmaps-disabled",!(null!=e&&null!=e.previous)),h.$stop.toggleClass("sumome-heatmaps-disabled",0==h.isRecording),h.$record.toggleClass("sumome-heatmaps-disabled",1==h.isRecording),h.isRecording?(h.$record.hide(),h.$stop.show()):(h.$stop.hide(),h.$record.show()),h.$next.toggleClass("sumome-heatmaps-disabled",!(null!=e&&null!=e.next)),h.$counts.removeClass("sumome-heatmaps-disabled");var r=h.elementData&&"elements"in h.elementData&&h.elementData.elements.length>0;h.$listToggle.toggleClass("sumome-heatmaps-disabled",!r),r||h.toggleElementList(null,!0),h.selectedElements={},h.$clickedSelected.empty()}},setRecording:function t(e){h.isRecording=e,h.isShown&&h.updateControl()},refreshClickedLabel:function e(i){var n=t(window).scrollTop(),s=t(window).scrollLeft(),a=t(window).height(),o=null,c=null,u=!1;if(i?(o={x:i.clientX,y:i.clientY},h.lastPagePos=o,u=!0):o=h.lastPagePos,(c={x:o.x+s,y:o.y+n})&&h.countsEnabled&&h.elementData&&!h.elementListHovered&&!h.controlsHovered&&h.containerEl){for(var d=!1,p=h.elementData.elements,m=[],f=0,g=0;g<p.length;g++)p[g].visible&&r(c,p[g].rectangle)&&m.push(p[g]);if(m.length>0){for(var v=0,g=0;g<m.length;g++){if(l(o.x,o.y)==m[g].selector){v=g;break}}var b=m[v];m.pop(v),m.unshift(b),!u&&h.$clicked.hasClass("sumome-heatmaps-clicked-animate")&&(h.$clicked.removeClass("sumome-heatmaps-clicked-animate"),window.clearTimeout(h.noAnimationTimer),h.noAnimationTimer=setTimeout(function(){h.$clicked.addClass("sumome-heatmaps-clicked-animate")},250)),h.showClickedWrapper(m[0])}else h.hideClickedWrapper()}else h.elementListHovered||h.controlsHovered||h.hideClickedWrapper()},refreshSelectedLabels:function e(i){if(h.selectedElements){var n=t(window).scrollTop(),s=t(window).scrollLeft();for(selector in h.selectedElements){var a=h.selectedElements[selector],r=t("#"+a.id);if(r.length>0){var o=t(a.selector);r.css({top:o.offset().top-n-2,left:o.offset().left-s-2,width:o.outerWidth()+4,height:o.outerHeight()+4})}}}},showClickedWrapper:function e(i){var n=t(window).scrollTop(),a=t(window).scrollLeft(),r=t(window).height(),o=h.currentCampaign,l="current"in o&&o.current?o.current.total_clicks:null,c=(100*i.count/l).toFixed(0),u=i.left-a-2,d=i.top-n-2,p=i.width+4,m=i.height+4,f=r-(d+m);h.$clicked.css("opacity","1"),h.$clicked.css("left",u).css("top",d).css("width",p).css("height",m);var g=s(i.count)+(1==i.count?" click":" clicks");if(l&&(g=g+" ("+c+"%)"),h.$clickedLabel.html('<span class="sumome-heatmaps-clicked-label-name">'+i.selector+'</span><span class="sumome-heatmaps-clicked-label-stat">'+g+"</span>"),h.activeClickLabelSelector=i.selector,d>20||f>20){h.$clickedLabel.removeClass("sumome-heatmaps-clicked-label-mid"),h.$clickedLabel.css("top","");-1*d+r-18>m?h.$clickedLabel.removeClass("sumome-heatmaps-clicked-label-top"):h.$clickedLabel.addClass("sumome-heatmaps-clicked-label-top")}else h.$clickedLabel.removeClass("sumome-heatmaps-clicked-label-top"),h.$clickedLabel.addClass("sumome-heatmaps-clicked-label-mid"),h.$clickedLabel.css("top",-1*d+5)},hideClickedWrapper:function t(){h.$clicked.css("opacity","0"),h.activeClickLabelSelector=null},refreshThermometer:function e(i){var n=t(window).scrollTop(),r=t(window).scrollLeft(),l=t(window).width(),c={x:i.clientX,y:i.clientY},u=!1,d=0;if(h.elementData&&h.countsEnabled&&!h.elementListHovered&&!h.controlsHovered){for(var p=0;p<h.elementData.data.length;p++){var m={x:h.elementData.data[p].x-r,y:h.elementData.data[p].y-n,r:40};if(a(c,m)){u=!0;var f=h.elementData.data[p].value,g=o(c,m).toFixed(2),v=(1-g/45).toFixed(2);g<5&&(v=1),d+=Math.round(f*v)}}if(u){var b=c.y-21,_=c.x-0;h.$thermometer.css("opacity","1"),h.$thermometer.css("left",_).css("top",b),d<=0&&(d=1),h.$thermCount.text(d>1?s(d)+" clicks":"1 click"),_>l-200?(h.$thermometer.addClass("sumome-heatmaps-thermometer-left"),h.$thermometer.css("left","initial").css("right",l-_)):(h.$thermometer.removeClass("sumome-heatmaps-thermometer-left"),h.$thermometer.css("right",""))}else h.$thermometer.css("opacity","0")}else h.$thermometer.css("opacity","0")},setSelectedElEvent:function t(e){var i="sumome-heatmaps-clicked-"+(new Date).getUTCMilliseconds();h.$clicked.clone().removeClass("sumome-heatmaps-clicked-animate").addClass("sumome-heatmaps-clicked-selected").attr("id",i).appendTo(h.$clickedSelected),h.selectedElements[e]={id:i,selector:e}},selectActiveElClickEvent:function e(i){var n=h.activeClickLabelSelector;if(n){var s=Object?Object.keys(h.selectedElements).length:0,a=n in h.selectedElements&&1==s;if(!(i.shiftKey||i.ctrlKey||i.metaKey||a)){h.$clickedSelected.empty();var r="sumome-heatmaps-element-list-item-selected";t("."+r).removeClass(r),h.selectedElements={}}if(n in h.selectedElements&&h.selectedElements[n])return t(".sumome-heatmaps-element-list-item[selector='"+n+"']").removeClass("sumome-heatmaps-element-list-item-selected"),t("#"+h.selectedElements[n].id).remove(),void delete h.selectedElements[n];t(".sumome-heatmaps-element-list-item[selector='"+n+"']").addClass("sumome-heatmaps-element-list-item-selected"),h.setSelectedElEvent(h.activeClickLabelSelector)}}};return h}),sumo.define("jquery.similar",["jquery"],function(t){String.prototype.levenshtein=function(t){var e=new Array,i=t,n=this,s=i.length,a=this.length,r,o,l=function(t,e,i){var n=t;return e<n&&(n=e),i<n&&(n=i),n};if(0!=s&&0!=a){for(var r=0;r<=s;r++)e[r]=new Array;for(r=0;r<=s;r++)e[r][0]=r;for(o=0;o<=a;o++)e[0][o]=o;for(r=1;r<=s;r++){var c=i.charAt(r-1);for(o=1;o<=a;o++){var h=n.charAt(o-1);e[r][o]=c==h?e[r-1][o-1]:1+l(e[r-1][o-1],e[r][o-1],e[r-1][o])}}return e[s][a]}},t.fn.textExcept=function(e){if(!this.get(0)||-1!=t.inArray(this.get(0).nodeName.toLowerCase(),["script"]))return"";try{return t(this).contents().filter(function(){return 1!=t(this).is(e)}).map(function(){return 1==this.nodeType&&-1==t.inArray(this.nodeName.toLowerCase(),["script"])?t(this).textExcept(e):3==this.nodeType?t.trim(this.data):void 0}).get().join("")}catch(t){}return""},t.expr[":"].similar=t.expr.createPseudo(function(e){return function(i){var n=t(i).textExcept(".sumome-leads-edit").replace(/[^0-9a-zA-Z\s.,]/g,"").substr(0,128);return n&&n.levenshtein(e.substr(0,128))<5}})}),sumo.define("es6!services/heatmaps/index",["jquery","heatmaps/heatmaps","selectorator","jquery.similar"],function(t,e){return function(i){var n=!1,s=!1,a=0,r=[],o=Date.parse(new Date),l=function t(e){for(var i=(new Date).getTime();(new Date).getTime()<i+e;);},c=function e(){if(r.length){var n=window.location.pathname+window.location.search,s=encodeURIComponent(JSON.stringify(r)),a=t("<img />").css({display:"none"}).attr("src",i.properties.sumoUrl+"/apps/heatmaps/click?clicks="+s+"&site_id="+i.properties.siteId+"&path="+n);a.on("error",function(){t(this).remove()}),a.on("load",function(){t(this).remove()}),t(document.body).append(a),r=[],o=Date.parse(new Date)}},h=function e(i){if(1==i.which){var n,s,a;if(document.elementFromPoint)s=document.elementFromPoint(i.clientX,i.clientY);else if(document.caretPositionFromPoint)n=document.caretPositionFromPoint(i.clientX,i.clientY),s=n.offsetNode,a=n.offset;else{if(!document.caretRangeFromPoint)return;n=document.caretRangeFromPoint(i.clientX,i.clientY),s=n.startContainer,a=n.startOffset}if(t(s).parents("svg").length>=1&&(s=t(s).parents("svg")[0]),!(t(s).closest(".sumome-control").length>0||t(s).closest(".sumome-heatmaps").length>0)&&(a=t(s).offset())&&"left"in a&&"top"in a){a.left=i.pageX-a.left,a.top=i.pageY-a.top;var h=.05,u=a.left/t(s).outerWidth(),d=a.top/t(s).outerHeight();u=(.05*Math.round(u/.05)).toFixed(2),d=(.05*Math.round(d/.05)).toFixed(2);var p={left:u,top:d},m=t(s).getSelector()[0];if(m&&!isNaN(p.left)&&!isNaN(p.top)&&isFinite(p.left)&&isFinite(p.top)){var f={selector:m,x:p.left,y:p.top,_:Math.random()};r.push(f);var g=t(i.target).is("a")&&t(i.target).attr("href")&&0!==t(i.target).attr("href").indexOf("#")&&0!==t(i.target).attr("href").toLowerCase().indexOf("javascript"),v=t(i.target).parents("a").length>0&&t(i.target).parents("a").attr("href")&&0!==t(i.target).parents("a").attr("href").indexOf("#")&&0!==t(i.target).parents("a").attr("href").indexOf("javascript"),b=!(!g||!t(i.target).hasClass("no-delay"))||!(!v||!t(i.target).parents("a").hasClass("no-delay")),_=Date.parse(new Date)-o;!g&&!v||b?(_>=1e4||r.length>=5)&&c():(c(),l(500))}}}},u=function e(){s||(t(window).unload(function(){c()}),t(document).on("mousedown.sumome-heatmaps",h))},d=function e(){s&&(t(document).off("mousedown.sumome-heatmaps"),s=!1)},p=function s(){t.ajax({type:"POST",dataType:"json",beforeSend:function e(i){i.setRequestHeader("X-Sumo-Auth",t.cookie("__smToken"))},xhrFields:{withCredentials:!1},crossDomain:!0,url:i.properties.sumoUrl+"/apps/heatmaps/status",data:{site_id:i.properties.siteId,user_id:i.properties.user,path:window.location.pathname+window.location.search},success:function s(r){var o=!0;r.success?(n=r.isRecording,a=r.count,o=r.track_all_users):n=!1,i.emit("2c40add5-3570-45d7-8212-8fc2942f7f74/campaign/status",{recording:n,campaignCount:a});var l=!(!i.properties.geoLocation||!i.properties.geoLocation.ctry)&&i.properties.geoLocation.ctry,c=i.properties.views?i.properties.views:1;r.hasHeatmaps&&r.count<=0&&r.display_rules.length>0&&t.isCurrentUrlAllowed(r.display_rules,null,l,c)?e.autoRecord(i.properties.siteId,i.properties.sumoUrl,function(t){t.success&&(n=!0,a=1,i.emit("2c40add5-3570-45d7-8212-8fc2942f7f74/campaign/status",{recording:n,campaignCount:a}),u())}):n&&(1==o||0==o&&null==i.properties.user)?u():d()}})};return{init:function t(e,s){i.on("2c40add5-3570-45d7-8212-8fc2942f7f74/campaign/checkStatus",function(){i.emit("2c40add5-3570-45d7-8212-8fc2942f7f74/campaign/status",{recording:n,campaignCount:a})}),i.on("2c40add5-3570-45d7-8212-8fc2942f7f74/campaign/start",function(){p()}),i.on("2c40add5-3570-45d7-8212-8fc2942f7f74/campaign/stop",function(){p()}),p(),s()},destroy:function t(e){e()}}}}),sumo.define("color",[],function(){return{lightOrDark:function(t){var e,i,n,s;return t.toHex&&(t="#"+t.toHex()),t.match(/^rgb/)?(t=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/),e=t[1],n=t[2],i=t[3]):(t=+("0x"+t.slice(1).replace(t.length<5&&/./g,"$&$&")),e=t>>16,n=t>>8&255,i=255&t),s=Math.sqrt(e*e*.299+n*n*.587+i*i*.114),s>127.5?"light":"dark"},whiteOrBlack:function(t){return"light"==this.lightOrDark(t)?"black":"white"},shadeColor:function(t,e){t=t.toString();var i=parseInt(t.slice(1),16),n=Math.round(2.55*e),s=(i>>16)+n,a=(i>>8&255)+n,r=(255&i)+n;return"#"+(16777216+65536*(s<255?s<1?0:s:255)+256*(a<255?a<1?0:a:255)+(r<255?r<1?0:r:255)).toString(16).slice(1)},RGBColor:function(t){this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase();for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3]),255]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3]),parseInt(t[4])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),255]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),255]}}],i=0;i<e.length;i++){var n=e[i].re,s=e[i].process,a=n.exec(t);a&&(channels=s(a),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.a=channels[3],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.a=this.a<0||isNaN(this.a)?0:this.a>255?255:this.a,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),i=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==i.length&&(i="0"+i),"#"+t+e+i}},hexToRGBA:function(t,e){var i=new this.RGBColor(t);return i.a=e||1,i.toRGBA()}}}),sumo.define("plugins/text!image-sharer/templates/sharer_popup.html",[],function(){return'<div class="sumome-image-sharer-popup-form">\n  <div class="sumome-form">\n    <div class="sumome-row" id="sumome-image-sharer">\n      <div class="sumome-image-sharer-preloader">\n        <img src="{{preloader}}" />\n      </div>\n    </div>\n  </div>\n</div>\n'}),sumo.define("jquery.timer",["jquery"],function(t){"use strict";if(null===t)throw"jQuery is not defined";var e=function(e){var i={timerCallback:function(){},startCallback:function(){},pauseCallback:function(){},resumeCallback:function(){},stopCallback:function(){},finishCallback:function(){},interval:1e3,timeout:!1,useSetTimeout:!0};e.interval=parseInt(e.interval,10),e.interval=isNaN(e.interval)?i.interval:e.interval,e.timeout=parseInt(e.timeout,10),e.timeout=isNaN(e.timeout)?i.timeout:e.timeout,this._options=t.extend(i,e),this._timerFunction=this._options.useSetTimeout?"Timeout":"Interval",this._timerID=null,this._startTime=0,this._pausedInterval=-1,this._passedTime=0,this._status="stopped"};e.prototype={_activate:function(){var t=this;this._startTime=(new Date).getTime(),this._timerID=window["set"+this._timerFunction](function(){t._passedTime=(new Date).getTime()-t._startTime,t._options.timeout&&t._passedTime>=t._options.timeout?t._finish():t._options.timerCallback()},this._options.interval)},_finish:function(){window["clear"+this._timerFunction](this._timerID),this._startTime=0,this._pausedInterval=-1,this._passedTime=0,this._timerID=null,this._options.finishCallback(),this._status="finished"},start:function(){0===this._startTime&&(this._activate(),this._options.startCallback(),this._status="running")},pause:function(){0!==this._startTime&&null!==this._timerID&&(window["clear"+this._timerFunction](this._timerID),this._passedTime=(new Date).getTime()-this._startTime,this._pausedInterval=this._passedTime%this._options.interval,this._timerID=null,this._options.pauseCallback(),this._status="paused")},resume:function(t){if(t=void 0!==t&&t,-1!==this._pausedInterval){if(t){var e=this;setTimeout(function(){e._options.timerCallback(),e._options.useSetTimeout||e._activate()},this._options.interval-this._pausedInterval)}else this._activate();this._options.resumeCallback(),this._status="running"}},stop:function(){0!==this._startTime&&null!==this._timerID&&(this._finish(),this._options.stopCallback(),this._status="stopped")},kill:function(){null!==this._timerID&&(window["clear"+this._timerFunction](this._timerID),this._startTime=0,this._pausedInterval=-1,this._timerID=null,this._status="stopped")},status:function(){return this._status}},t.timer=function(i,n,s,a){if(void 0===i)return t.timer["#LIST#"];if("string"!=typeof i||!i.match(/^[a-zA-Z][a-zA-Z_0-9]*$/))throw"Invalid timer name (it must start with a letter and cannot contain other characters than letters, numbers and underscore";if(void 0===n)return t.timer[i];if(null===n){if(t.timer[i]){t.timer[i].kill(),delete t.timer[i];var r=t.timer["#LIST#"].indexOf(i);r>-1&&t.timer["#LIST#"].splice(r,1)}return!0}if("function"!=typeof n)throw"Please provide a callback function for setTimer/setInterval function";if(s=parseInt(s,10),isNaN(s)||s<=0)throw"Please provide an interval for timer (in seconds)";return a=a||{},a.timerCallback=n,a.interval=s,t.timer[i]=new e(a),t.timer["#LIST#"].push(i),t.timer[i]},t.timer["#LIST#"]=[]}),sumo.define("jquery.naturalwidth",["jquery"],function(t){for(var e=["Width","Height"],i;i=e.pop();)!function(e,i){t.fn[e]=e in new Image?function(){return this[0][e]}:function(){var t=this[0],e,n;return"img"===t.tagName.toLowerCase()&&(e=new Image,e.src=t.src,n=e[i]),n}}("natural"+i,i.toLowerCase())}),sumo.define("jquery.nearest",["jquery","jquery.drags","jquery.resizes","jquery.ui.position"],function(t){function e(e,n,s){e||(e="div");var a=t(n.container),r=a.offset()||{left:0,top:0},o=[a.width()||0,a.height()||0],l={x:[r.left,r.left+o[0]],y:[r.top,r.top+o[1]],w:[0,o[0]],h:[0,o[1]]},c,h,u;for(c in l)l.hasOwnProperty(c)&&(u=i.exec(n[c]))&&(h=l[c],n[c]=(h[1]-h[0])*u[1]/100+h[0]);!1===n.sameX&&!1===n.checkHoriz&&(n.sameX=!n.checkHoriz),!1===n.sameY&&!1===n.checkVert&&(n.sameY=!n.checkVert);var d=a.find(e),p=[],m=!!n.furthest,f=!n.sameX,g=!n.sameY,v=!!n.onlyX,b=!!n.onlyY,_=m?0:1/0,y=parseFloat(n.x)||0,w=parseFloat(n.y)||0,x=parseFloat(y+n.w)||y,k=parseFloat(w+n.h)||w,C=parseFloat(n.tolerance)||0,S=!!t.fn.each2,T=Math.min,E=Math.max;!n.includeSelf&&s&&(d=d.not(s)),C<0&&(C=0),d[S?"each2":"each"](function(e,i){var n=S?i:t(this),s=n.offset(),a=s.left,r=s.top,o=n.outerWidth(),l=n.outerHeight(),c=a+o,h=r+l,u=E(a,y),d=T(c,x),I=E(r,w),P=T(h,k),A=d>=u,$=P>=I,O,L,B,D;(f&&g||!f&&!g&&A&&$||f&&$||g&&A||f&&v||g&&b)&&(O=A?0:u-d,L=$?0:I-P,B=v||b?v?O:L:A||$?E(O,L):Math.sqrt(O*O+L*L),(D=m?B>=_-C:B<=_+C)&&(_=m?E(_,B):T(_,B),p.push({node:this,dist:B})))});var I=p.length,P=[],A,$,O,L;if(I)for(m?(A=_-C,$=_):(A=_,$=_+C),O=0;O<I;O++)L=p[O],L.dist>=A&&L.dist<=$&&P.push(L.node);return P}var i=/^([\d.]+)%$/;t.each(["nearest","furthest","touching"],function(i,n){var s={x:0,y:0,w:0,h:0,tolerance:1,container:document,furthest:"furthest"==n,includeSelf:!1,sameX:"touching"===n,sameY:"touching"===n,onlyX:!1,onlyY:!1};t[n]=function(i,n,a){if(!i||void 0===i.x||void 0===i.y)return t([]);var r=t.extend({},s,i,a||{});return t(e(n,r))},t.fn[n]=function(i,n){if(!this.length)return this.pushStack([]);var a;if(i&&t.isPlainObject(i))return a=t.extend({},s,i,n||{}),this.pushStack(e(this,a));var r=this.offset(),o={x:r.left,y:r.top,w:this.outerWidth(),h:this.outerHeight()};return a=t.extend({},s,o,n||{}),this.pushStack(e(i,a,this))}})}),sumo.define("es6!services/image-sharer/index",["jquery","URI","color","articles","plugins/text!image-sharer/templates/sharer_popup.html","vex","twitter-text","jquery.timer","jquery.naturalwidth","jquery.nearest","jquery.displayrules"],function(t,e,i,n,s,a,r,o){t.expr[":"].invisible=t.expr.createPseudo(function(e){return function(e){if("hidden"===t(e).css("visibility")||0===t(e).css("opacity"))return!0;var i=t(e).parent();return!!i&&i.is(":invisible")}});var l=function t(e,i){return!(i.x>e.x+e.width||i.x+i.width<e.x||i.y>e.y+e.height||i.y+i.height<e.y)},c={currentImage:null,buttonEl:null,win:null,currentImageUrl:null,currentImageData:null,useUrlShortener:!0,shortener:"sumoly",short_domain:null,useAltText:!0,twitterUsername:null,color:null,position:null,contentOnly:!1,ignoreLinks:!0,ignoreImgLinks:!1,relShareOnly:!1,ctry:!1,shortUrls:{},scope:function e(){if(c.contentOnly){var i=n.findAll();return t(i)}return t(document)},load:function e(){t.ajax({type:"POST",dataType:"json",xhrFields:{withCredentials:!1},crossDomain:!0,url:c.sumoProperties.sumoUrl+"/apps/image-sharer/load",data:{site_id:c.sumoProperties.siteId,geoLocation:c.sumoProperties.geoLocation,pageViews:c.sumoProperties.views,userAgent:navigator.userAgent},success:function t(e){e.success&&(c.useAltText=e.use_alt_text,c.useUrlShortener=e.use_url_shortener,c.shortener=e.shortener,c.shortDomain=e.short_domain,c.contentOnly=e.content_only,c.ignoreLinks=e.ignore_links,c.ignoreImgLinks=e.ignore_img_links,c.relShareOnly=e.rel_share_only,c.twitterUsername=e.twitter_username,c.color=e.color,c.utm=e.utm,c.utm_source=e.utm_source,c.utm_medium=e.utm_medium,c.utm_name=e.utm_name,c.utm_custom_key=e.utm_custom_key,c.utm_custom_val=e.utm_custom_val,c.vertical=e.vertical,c.vertical_offset=parseInt(e.vertical_offset),c.vertical_offset_type=e.vertical_offset.replace(/[0-9]/g,""),c.horizontal_offset=parseInt(e.horizontal_offset),c.horizontal_offset_type=e.horizontal_offset.replace(/[0-9]/g,""),c.hasImageSharer=e.hasImageSharer,c.position=e.position,c.display_rules=e.display_rules,c.services=e.services,c.ctry=!(!c.sumoProperties.geoLocation||!c.sumoProperties.geoLocation.ctry)&&c.sumoProperties.geoLocation.ctry,c.views=!(!c.sumoProperties.views||!c.sumoProperties.views)&&c.sumoProperties.views,c.reflink="https://sumo.com/?src=sm-is-"+c.sumoProperties.siteId+"&utm_source=sumo-powered-by&utm_medium=image-sharer&utm_campaign="+c.sumoProperties.siteId,c.setup())}})},cleanup:function e(){c.scope().off(".image-sharer"),t(window).off(".image-sharer")},init:function e(){s=s.replace("{{preloader}}",c.sumoProperties.sumoUrl+"/client/images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/preloader.gif"),t(window).on("scroll",c.debounce(function(){c.scroll()},1)),c.load(),c.api.on("55c989d5-855d-4538-b67b-3cdb46acd968/service/settings",function(t){c.hideSharer(),c.cleanup(),c.useAltText=t.use_alt_text,c.contentOnly=t.content_only,c.ignoreLinks=t.ignore_links,c.ignoreImgLinks=t.ignore_img_links,c.relShareOnly=t.rel_share_only,c.useUrlShortener=t.use_url_shortener,c.shortener=t.shortener,c.shortDomain=t.short_domain,c.twitterUsername=t.twitter_username,c.color=t.color,c.utm=t.utm,c.utm_source=t.utm_source,c.utm_medium=t.utm_medium,c.utm_name=t.utm_name,c.utm_custom_key=t.utm_custom_key,c.utm_custom_val=t.utm_custom_val,c.hasImageSharer=t.hasImageSharer,c.position!==t.position&&(c.position=t.position,c.positionSharer()),c.display_rules=t.display_rules,c.services=t.services,c.setup()})},setup:function e(){if(c.buttonEl=t('<div class="sumome-image-sharer"></div>'),c.services.slice(0).forEach(t.proxy(function(e){var n="sumome-image-sharer-"+e;"yummly"===e&&(n+=" sumome-image-sharer-src-only");var s=t('<a href="javascript:void(0);" class="'+n+'"><div></div></a>');if(c.vertical&&s.addClass("sumome-image-sharer-vertical"),c.color){var a={backgroundColor:c.color,borderColor:i.shadeColor(c.color,-5)};s.css(a).hover(t.proxy(function(){t(this).css({backgroundColor:i.shadeColor(c.color,5),borderColor:c.color})}),t.proxy(function(){t(this).css(a)}));var r={};"black"===i.whiteOrBlack(c.color)&&(r.backgroundImage='url("'+this.sumoProperties.baseUrl+"images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/"+e+'-black-60.png")'),s.find("div").css(r).hover(t.proxy(function(){t(this).css(r)}))}c.buttonEl.append(s)},c)),c.vertical?(c.buttonEl.css("width",40),c.buttonEl.css("height",40*c.services.length)):c.buttonEl.css("width",40*c.services.length),c.buttonEl.on("click","a.sumome-image-sharer-twitter",c.openTwitter),c.buttonEl.on("click","a.sumome-image-sharer-facebook",c.openFacebook),c.buttonEl.on("click","a.sumome-image-sharer-pinterest",c.openPinterest),c.buttonEl.on("click","a.sumome-image-sharer-tapiture",c.openTapiture),c.buttonEl.on("click","a.sumome-image-sharer-tumblr",c.openTumblr),c.buttonEl.on("click","a.sumome-image-sharer-yummly",c.openYummly),t("body").append(c.buttonEl),
t.isCurrentUrlAllowed(c.display_rules,null,c.ctry,c.views)){var n=c.scope();n.on("mouseenter.image-sharer","img",c.debounce(c.mouseenter,250)),n.on("mouseleave.image-sharer","img",c.debounce(c.mouseleave,250)),t(window).on("touchstart.image-sharer",c.debounce(c.touch,200)),t(window).on("resize.image-sharer",c.throttle(c.positionSharer,150))}},debounce:function t(e,i){var n;return function(){var t=this,s=arguments;clearTimeout(n),(n=setTimeout(function(){n=null,e.apply(t,s)},i))||e.apply(t,s)}},throttle:function t(e,i){var n,s,a,r=null,o=0,l=function t(){o=(new Date).getTime(),r=null,a=e.apply(n,s),r||(n=s=null)};return function(){var t=(new Date).getTime();o||(o=t);var c=i-(t-o);return n=this,s=arguments,c<=0||c>i?(clearTimeout(r),r=null,o=t,a=e.apply(n,s),r||(n=s=null)):r||(r=setTimeout(l,c)),a}},loadImageProperties:function i(n){var s=c.currentImage.attr("src");c.useAltText?c.currentImageAlt=c.currentImage.attr("alt")||t(document).find("title").text()||"":c.currentImageAlt=t(document).find("title").text()||"";try{if(0===s.indexOf("data:image")){if(c.currentImageUrl=s,c.currentImageData=s,"yummly"===n)throw new Error}else c.currentImageUrl=new e(s).absoluteTo(window.location.toString()).toString(),c.currentImageData=c.getImageData(c.currentImage);return!0}catch(t){var a=c.currentImage.attr("srcset"),r=[];if(!a)return!1;if(a=a.split(","),a&&a.length&&(a.forEach(function(t){(t=t.trim().split(" "))&&2===t.length&&r.push({src:t[0],weight:parseInt(t[1])})}),r.sort(function(t,e){return e.weight-t.weight})),!r.length)return!1;try{return c.currentImageUrl=new e(r[0].src).absoluteTo(window.location.toString()).toString(),c.currentImageData=c.getImageData(c.currentImage),!0}catch(t){return!1}}},openFacebook:function e(i){i.preventDefault(),c.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"facebook-click"}),c.loadImageProperties("facebook")&&(c.$modal=a.open({content:s,overlayClosesOnClick:!1,className:"sumome-image-sharer-popup sumome-image-sharer-popup-small",overlayClassName:"sumome-image-sharer-popup-overlay",contentClassName:"sumome-image-sharer-popup-content",closeClassName:"sumome-image-sharer-popup-close"}),c.$modal.on("vexClose",function(){var e=t.timer("closeImageSharer");e&&e.kill()}),c.$modal.on("vexResize",t.proxy(function(e,i){var n=Math.max((t(window).height()-i.$vexContent.outerHeight())/2,0);i.$vex.css({"padding-top":n+"px"})},this)),c.$modal.on("vexOpen",t.proxy(function(t,e){c.$modal.resize(),c.loadFacebookMarkup()},this)))},generateShare:function e(i){var n=window.location.href;if(n=c.checkAndAddUTMParams(n,"facebook"),c.useUrlShortener){var s=c.shortener+":"+n;s in c.shortUrls?c.generateShareFromUrl(i,c.shortUrls[s]):t.ajax({type:"POST",dataType:"json",url:c.sumoProperties.sumoUrl+"/apps/image-sharer/shorten",data:{site_id:c.sumoProperties.siteId,href:n},xhrFields:{withCredentials:!1},crossDomain:!0}).done(function(t){t.success&&(c.shortUrls[s]=t.url,n=t.url),c.generateShareFromUrl(i,n)})}else c.generateShareFromUrl(i,n)},generateShareFromUrl:function t(e,i){e=(e+" "+i).trim(),c.$modal.find("textarea").val(e),c.$modal.find(".sumome-image-sharer-link").attr("href",c.reflink),c.$modal.find(".sumome-image-sharer-fb-message").text(e)},loadFacebookMarkup:function e(i){t.ajax({type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,url:c.sumoProperties.sumoUrl+"/apps/image-sharer/facebook/load",data:{site_id:c.sumoProperties.siteId},statusCode:{401:function t(){i||c.loadFacebookMarkup()}},success:function e(i){i=i.replace("{{sumome-icon}}",c.sumoProperties.sumoUrl+"/client/images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/sumome-crown-128.png"),i=i.replace("{{facebook-icon}}",c.sumoProperties.sumoUrl+"/client/images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/facebook-icon-128.png"),t("#sumome-image-sharer").html(i);var n=t("#sumome-image-sharer .sumome-connect");n.length>0?(c.goSmall(),c.$modal.find(".sumome-image-sharer-link").attr("href",c.reflink),n.click(c.authenticateFacebook)):(c.goLarge(),c.$modal.find(".sumome-image-sharer-fb-image").css("background-image","url("+c.currentImageUrl+")"),c.generateShare(c.currentImageAlt),c.$modal.find("select").change(function(){var e=t(this).find("option").filter(":selected"),i=e.text(),n=e.attr("value"),s=e.data("access-token");c.$modal.find(".sumome-image-sharer-fb-user img").attr("src","https://graph.facebook.com/v2.8/"+n+"/picture?access_token="+s),c.$modal.find(".sumome-image-sharer-fb-user a").text(i)}),c.$modal.find("textarea").on("keyup",function(){c.$modal.find(".sumome-image-sharer-fb-message").text(t(this).val())}),c.$modal.find("button").click(c.submitFacebook),c.$modal.find(".sumome-image-sharer-fb-message").focus(),c.$modal.resize())}})},checkFacebookWindowClosed:function t(){c.isAuthWindowClosed()?c.loadFacebookMarkup():setTimeout(c.checkFacebookWindowClosed,500)},authenticateFacebook:function t(){c.isAuthWindowClosed()?(c.win=window.open(c.sumoProperties.sumoUrl+"/apps/image-sharer/facebook/login","image-sharer-auth","width=640,height=400"),c.win.focus(),c.checkFacebookWindowClosed()):(c.win.location=c.sumoProperties.sumoUrl+"/apps/image-sharer/facebook/login",c.win.resizeTo(640,400),c.win.focus(),c.checkFacebookWindowClosed())},submitFacebook:function e(){var i=c.$modal.find("textarea").val().trim(),n=c.currentImageUrl,s=c.$modal.find("option").filter(":selected"),a=s.text(),r=s.attr("value"),o=s.data("access-token");c.$modal.find("select, textarea, button").prop("disabled",!0),t.ajax({type:"POST",dataType:"json",beforeSend:function e(i){i.setRequestHeader("X-Sumo-Auth",t.cookie("__smToken"))},xhrFields:{withCredentials:!0},crossDomain:!0,url:c.sumoProperties.sumoUrl+"/apps/image-sharer/facebook/post",data:{status:i,image_url:n,image_data:c.currentImageData,targetId:r,targetToken:o},statusCode:{401:function t(){c.loadFacebookMarkup()},500:function t(){c.close()}},success:function e(i){i.success?(c.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"facebook-share"}),c.goSmall(),t("#sumome-image-sharer").html('<div class="sumome-12 sumome-columns sumome-text-center"><h3>Snap!</h3><h5>Your photo was shared.</h5><hr><button class="sumome-button sumome-radius sumome-expand">Okay</button></div>'),t("#sumome-image-sharer").find("button").click(function(t){c.close()}),c.$modal.resize(),t.timer("closeImageSharer",c.close,3e3).start()):(c.goSmall(),c.showError(i.error),t("#sumome-image-sharer").find("button").click(function(t){c.close()}),c.$modal.resize())}})},openTumblr:function e(i){i.preventDefault(),c.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"tumblr-click"}),c.loadImageProperties("tumblr")&&(c.$modal=a.open({content:s,overlayClosesOnClick:!1,className:"sumome-image-sharer-popup sumome-image-sharer-popup-small",overlayClassName:"sumome-image-sharer-popup-overlay",contentClassName:"sumome-image-sharer-popup-content",closeClassName:"sumome-image-sharer-popup-close"}),c.$modal.on("vexClose",function(){var e=t.timer("closeImageSharer");e&&e.stop()}),c.$modal.on("vexResize",t.proxy(function(e,i){var n=Math.max((t(window).height()-i.$vexContent.outerHeight())/2,0);i.$vex.css({"padding-top":n+"px"})},this)),c.$modal.on("vexOpen",t.proxy(function(t,e){c.$modal.resize(),c.loadTumblrMarkup()},this)))},loadTumblrMarkup:function e(i){t.ajax({type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,url:c.sumoProperties.sumoUrl+"/apps/image-sharer/tumblr/load",data:{site_id:c.sumoProperties.siteId},statusCode:{401:function t(){i||c.loadTumblrMarkup()}},success:function e(i){i=i.replace("{{sumome-icon}}",c.sumoProperties.sumoUrl+"/client/images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/sumome-crown-128.png"),i=i.replace("{{tumblr-icon}}",c.sumoProperties.sumoUrl+"/client/images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/tumblr-icon-128.png"),t("#sumome-image-sharer").html(i);var n=t("#sumome-image-sharer .sumome-connect");n.length>0?(c.goSmall(),c.$modal.find(".sumome-image-sharer-link").attr("href",c.reflink),n.click(c.authenticateTumblr)):(c.goLarge(),c.$modal.find(".sumome-image-sharer-tm-image").css("background-image","url("+c.currentImageUrl+")"),c.generateTumblr(c.currentImageAlt),c.$modal.find("textarea").on("keyup",function(){c.$modal.find(".sumome-image-sharer-tm-message").text(t(this).val())}),c.$modal.find("button").click(c.submitTumblr),c.$modal.find(".sumome-image-sharer-tm-message").focus(),c.$modal.resize())}})},generateTumblr:function e(i){var n=window.location.href;if(n=c.checkAndAddUTMParams(n,"tumblr"),c.useUrlShortener){var s=c.shortener+":"+n;s in c.shortUrls?c.generateShareFromUrl(i,c.shortUrls[s]):t.ajax({type:"POST",dataType:"json",url:c.sumoProperties.sumoUrl+"/apps/image-sharer/shorten",data:{site_id:c.sumoProperties.siteId,href:n},xhrFields:{withCredentials:!1},crossDomain:!0}).done(function(t){t.success&&(c.shortUrls[s]=t.url,n=t.url),i=(i+" "+n).trim(),c.$modal.find("textarea").val(i),c.$modal.find(".sumome-image-sharer-tm-message").text(i)})}else i=(i+" "+n).trim(),c.$modal.find("textarea").val(i),c.$modal.find(".sumome-image-sharer-link").attr("href",c.reflink),c.$modal.find(".sumome-image-sharer-tm-message").text(i)},checkTumblrWindowClosed:function t(){c.isAuthWindowClosed()?c.loadTumblrMarkup():setTimeout(c.checkTumblrWindowClosed,500)},authenticateTumblr:function t(){c.isAuthWindowClosed()?(c.win=window.open(c.sumoProperties.sumoUrl+"/apps/image-sharer/tumblr/login","image-sharer-auth","width=740,height=400"),c.win.focus(),c.checkTumblrWindowClosed()):(c.win.location=c.sumoProperties.sumoUrl+"/apps/image-sharer/tumblr/login",c.win.resizeTo(740,400),c.win.focus(),c.checkTumblrWindowClosed())},submitTumblr:function e(){var i=c.$modal.find("textarea").val().trim(),n=c.currentImageUrl,s=c.$modal.find("select").val();c.$modal.find("textarea, button, select").prop("disabled",!0),t.ajax({type:"POST",dataType:"json",beforeSend:function e(i){i.setRequestHeader("X-Sumo-Auth",t.cookie("__smToken"))},xhrFields:{withCredentials:!0},crossDomain:!0,url:c.sumoProperties.sumoUrl+"/apps/image-sharer/tumblr/post",data:{status:i,image_url:n,image_data:c.currentImageData,base_hostname:s},statusCode:{401:function t(){c.loadTumblrMarkup()}},success:function e(i){i.success?(c.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"tumblr-share"}),c.goSmall(),t("#sumome-image-sharer").html('<div class="sumome-12 sumome-columns sumome-text-center"><h3>Snap!</h3><h5>Your photo was shared.</h5><hr><button class="sumome-button sumome-radius sumome-expand">Okay</button></div>'),t("#sumome-image-sharer").find("button").click(function(t){c.close()}),c.$modal.resize(),t.timer("closeImageSharer",c.close,3e3).start()):(c.goSmall(),c.showError(i.error),t("#sumome-image-sharer").find("button").click(function(t){c.close()}),c.$modal.resize())}})},openTwitter:function e(i){i.preventDefault(),c.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"twitter-click"}),c.loadImageProperties("twitter")&&(c.$modal=a.open({content:s,overlayClosesOnClick:!1,className:"sumome-image-sharer-popup sumome-image-sharer-popup-small",overlayClassName:"sumome-image-sharer-popup-overlay",contentClassName:"sumome-image-sharer-popup-content",closeClassName:"sumome-image-sharer-popup-close"}),c.$modal.on("vexClose",function(){var e=t.timer("closeImageSharer");e&&e.stop()}),c.$modal.on("vexResize",t.proxy(function(e,i){var n=Math.max((t(window).height()-i.$vexContent.outerHeight())/2,0);i.$vex.css({"padding-top":n+"px"})},this)),c.$modal.on("vexOpen",t.proxy(function(t,e){c.$modal.resize(),c.loadTwitterMarkup()},this)))},generateTweet:function e(i){var n=window.location.href;if(n=c.checkAndAddUTMParams(n,"twitter"),c.useUrlShortener){var s=c.shortener+":"+n;s in c.shortUrls?c.generateTweetFromUrl(i,c.shortUrls[s]):t.ajax({type:"POST",dataType:"json",url:c.sumoProperties.sumoUrl+"/apps/image-sharer/shorten",data:{site_id:c.sumoProperties.siteId,href:n},xhrFields:{withCredentials:!1},crossDomain:!0}).done(function(t){t.success&&(c.shortUrls[s]=t.url,n=t.url),c.generateTweetFromUrl(i,n)})}else c.generateTweetFromUrl(i,n)},generateTweetFromUrl:function t(e,i){var n=(i.substr(0,6),23),s=c.twitterUsername,a=116-n;s&&("@"!==s.substr(0,1)&&(s="@"+s),a-=5+s.length),e=e.trim(),e=e.replace(/\r\n|\n|\r/g," "),e.length+1>a&&(e=e.substr(0,a-2)+"…"),e=(e+" "+i+(s?" via "+s:"")).trim(),c.$modal.find("textarea").val(e),c.$modal.find(".sumome-image-sharer-link").attr("href",c.reflink),c.$modal.find(".sumome-image-sharer-tw-message").text(e),c.updateTwitterCount()},updateTwitterCount:function t(){var e=c.$modal.find("textarea").val().trim(),i=c.charactersLeft(e);c.$modal.find(".sumome-image-sharer-tw-count").html(i+" chars remaining"),i<0?c.$modal.find(".sumome-image-sharer-tw-count").css({color:"red"}):c.$modal.find(".sumome-image-sharer-tw-count").css({color:""})},loadTwitterMarkup:function e(i){t.ajax({type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,url:c.sumoProperties.sumoUrl+"/apps/image-sharer/twitter/load",data:{site_id:c.sumoProperties.siteId},statusCode:{401:function t(){i||c.loadTwitterMarkup()}},success:function e(i){i=i.replace("{{sumome-icon}}",c.sumoProperties.sumoUrl+"/client/images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/sumome-crown-128.png"),i=i.replace("{{twitter-icon}}",c.sumoProperties.sumoUrl+"/client/images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/twitter-icon-128.png"),t("#sumome-image-sharer").html(i);var n=t("#sumome-image-sharer .sumome-connect");n.length>0?(c.goSmall(),c.$modal.find(".sumome-image-sharer-link").attr("href",c.reflink),n.click(c.authenticateTwitter)):(c.goLarge(),c.$modal.find(".sumome-image-sharer-tw-image").css("background-image","url("+c.currentImageUrl+")"),c.generateTweet(c.currentImageAlt),c.$modal.find("textarea").on("keyup",function(){c.$modal.find(".sumome-image-sharer-tw-message").text(t(this).val()),c.updateTwitterCount()}),c.$modal.find("button").click(c.submitTwitter),c.$modal.find(".sumome-image-sharer-tw-message").focus(),c.$modal.resize())}})},checkTwitterWindowClosed:function t(){c.isAuthWindowClosed()?c.loadTwitterMarkup():setTimeout(c.checkTwitterWindowClosed,500)},authenticateTwitter:function t(){c.isAuthWindowClosed()?(c.win=window.open(c.sumoProperties.sumoUrl+"/apps/image-sharer/twitter/login","image-sharer-auth","width=740,height=400"),c.win.focus(),c.checkTwitterWindowClosed()):(c.win.location=c.sumoProperties.sumoUrl+"/apps/image-sharer/twitter/login",c.win.resizeTo(740,400),c.win.focus(),c.checkTwitterWindowClosed())},submitTwitter:function e(){var i=c.$modal.find("textarea").val().trim(),n=c.currentImageUrl;c.$modal.find("textarea, button").prop("disabled",!0);var i=c.$modal.find("textarea").val().trim();c.charactersLeft(i)>=0?t.ajax({type:"POST",dataType:"json",beforeSend:function e(i){i.setRequestHeader("X-Sumo-Auth",t.cookie("__smToken"))},xhrFields:{withCredentials:!0},crossDomain:!0,url:c.sumoProperties.sumoUrl+"/apps/image-sharer/twitter/post",data:{status:i,image_url:n,image_data:c.currentImageData},statusCode:{401:function t(){c.loadTwitterMarkup()}},success:function e(i){i.success?(c.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"twitter-share"}),c.goSmall(),t("#sumome-image-sharer").html('<div class="sumome-12 sumome-columns sumome-text-center"><h3>Snap!</h3><h5>Your photo was shared.</h5><hr><button class="sumome-button sumome-radius sumome-expand">Okay</button></div>'),t("#sumome-image-sharer").find("button").click(function(t){c.close()}),c.$modal.resize(),t.timer("closeImageSharer",c.close,3e3).start()):(c.goSmall(),c.showError(i.error),t("#sumome-image-sharer").find("button").click(function(t){c.close()}),c.$modal.resize())}}):c.$modal.find("textarea, button").prop("disabled",!1)},openPinterest:function t(e){if(e.preventDefault(),c.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"pinterest-click"}),c.loadImageProperties("pinterest")){var i=window.location.toString();i=c.checkAndAddUTMParams(i,"pinterest"),c.closeAuthWindow(),c.win=window.open(c.generatePinterestUrl(i),"image-sharer-pinterest","width=640,height=320")}},generatePinterestUrl:function e(i){var n={url:i,media:c.currentImageUrl,description:c.currentImageAlt};return"http://pinterest.com/pin/create/button/?"+t.param(n)},openTapiture:function t(e){if(e.preventDefault(),c.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"tapiture-click"}),c.loadImageProperties("tapiture")){var i=window.location.toString();i=c.checkAndAddUTMParams(i,"tapiture"),c.closeAuthWindow(),c.win=window.open(c.generateTapitureUrl(i),"image-sharer-tapiture","width=600,height=500")}},generateTapitureUrl:function e(i){var n={url:c.currentImageUrl,title:c.currentImageAlt,page_url:i,type:"image"};return"http://tapiture.com/widget/tap?"+t.param(n)},openYummly:function t(e){if(e.preventDefault(),c.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"yummly-click"}),c.loadImageProperties("yummly")){var i=window.location.toString();i=c.checkAndAddUTMParams(i,"yummly"),c.closeAuthWindow(),c.win=window.open(c.generateYummlyUrl(i),"image-sharer-yummly","width=600,height=500")}},generateYummlyUrl:function e(i){var n={url:i,title:c.currentImageAlt,image:c.currentImageUrl};return"http://www.yummly.com/urb/verify?"+t.param(n)},goSmall:function t(){c.$modal.closest(".sumome-image-sharer-popup").removeClass("sumome-image-sharer-popup-large").addClass("sumome-image-sharer-popup-small"),this.resize()},goLarge:function t(){c.$modal.closest(".sumome-image-sharer-popup").removeClass("sumome-image-sharer-popup-small").addClass("sumome-image-sharer-popup-large"),this.resize()},resize:function t(){var e=c.$modal.closest(".sumome-image-sharer-popup"),i="small",n=e.innerWidth();i=n>=1440?"xxlarge":n>=1080?"xlarge":n>=768?"large":n>=480?"medium":"small";var s="sumome-res-"+i;e.removeClass("sumome-res-small sumome-res-medium sumome-res-large sumome-res-xlarge sumome-res-xxlarge").addClass(s)},showError:function e(i){t("#sumome-image-sharer").html('<div class="sumome-12 sumome-columns sumome-text-center"><h3>Golly Gee Wilikers</h3><h5>'+i+'</h5><hr><button class="sumome-button sumome-alert sumome-radius sumome-expand">Close</button></div>')},close:function t(){c.closeAuthWindow(),a.close()},openAuthWindow:function t(){c.isAuthWindowClosed()&&(c.win=window.open("about:blank","image-sharer-auth","width=1,height=1"))},isAuthWindowClosed:function t(){return!c.win||c.win.closed},closeAuthWindow:function t(){c.isAuthWindowClosed()||(c.win.close(),c.win=null)},mouseenter:function e(i){var n=Math.min(window.screen.availWidth||t(window).width(),t(window).width());if(t.isCurrentUrlAllowed(c.display_rules,null,c.ctry,c.views)){var s=t.timer("hideImageSharer");s&&s.kill(),c.currentImage=null;var a=t(i.target),r=a.naturalWidth(),o=a.naturalHeight(),n=a.width(),l=a.height();if(r<150||o<150)return void c.buttonEl.stop(!0,!0).fadeOut(500);if(a.parent().is("div[id^=grs_]"))return void c.buttonEl.stop(!0,!0).fadeOut(500);if(a.is(".ob-widget *"))return void c.buttonEl.stop(!0,!0).fadeOut(500);if(a.is(".s.u.m.o.me *"))return void c.buttonEl.stop(!0,!0).fadeOut(500);if(a.attr("rel")&&0===a.attr("rel").toLowerCase().indexOf("noshare"))return void c.buttonEl.stop(!0,!0).fadeOut(500);if(a.attr("rel")&&0===a.attr("rel").toLowerCase().indexOf("share"));else{var h=a.parent(),u=/[^\/\\]+(?:jpg|gif|png)/gi;if(c.ignoreLinks&&h&&"A"===h.get(0).tagName.toUpperCase()&&h.attr("href")&&h.attr("href")!==a.attr("src")&&null===h.attr("href").match(u))return void c.buttonEl.stop(!0,!0).fadeOut(500);if(c.ignoreImgLinks&&h&&"A"===h.get(0).tagName.toUpperCase()&&h.attr("href")&&h.attr("href")!==a.attr("src")&&null!==h.attr("href").match(u))return void c.buttonEl.stop(!0,!0).fadeOut(500);if(a.parents("form").length>0)return void c.buttonEl.stop(!0,!0).fadeOut(500);if(a.is(":hidden")||a.is(":invisible"))return void c.buttonEl.stop(!0,!0).fadeOut(500);if(c.relShareOnly)return void c.buttonEl.stop(!0,!0).fadeOut(500)}c.currentImage=t(i.target),c.positionSharer(),c.isOverFixedHeader()||c.buttonEl.stop(!0,!0).fadeIn(500)}},visibleArea:function e(i){for(var n={height:i.offsetHeight,width:i.offsetWidth,isRelative:!1},s={y:i.offsetTop||0,x:i.offsetLeft||0,node:i.offsetParent},a,r,o,l,c;!t(i).is("body")&&null!==(i=i.parentNode);){try{a=window.getComputedStyle(i)}catch(t){}if(a&&"relative"===a.position&&(n.isRelative=!0),a&&"hidden"===a.overflow)return r=i.offsetHeight-Math.max(t("body").offset().top,s.y),o=i.offsetWidth-Math.max(t("body").offset().left,s.x),i!==s.node&&(r+=i.offsetTop||0,o+=i.offsetLeft||0),r<n.height&&(n.height=r<0?0:r),o<n.width&&(n.width=o<0?0:o),n;i===s.node&&(s.y=s.y+(i.offsetTop||0),s.x=s.x+(i.offsetLeft||0),s.node=i.offsetParent)}return n},positionSharer:function i(){if(null!==c.currentImage&&!t(".sumome-image-sharer-popup-content").is(":visible")){var n=c.currentImage.offset(),s=c.currentImage.offsetParent().offset(),a=c.visibleArea(c.currentImage[0]),r=a.hasHiddenOverflow,o=["absolute"].indexOf(c.currentImage.css("position"))>=0;if(o){if(a.isRelative)var l=["absolute","fixed","relative"];else var l=["absolute","fixed"];var h=c.currentImage.parents().filter(function(){return!t(this).is("body,html")&&l.indexOf(t(this).css("position"))>=0});o=h&&h.length}var u=null,d=null,p=null,m=null;if(o){var f=Math.max(t("body").offset().top+(isNaN(parseFloat(t("body").css("padding-top")))?0:parseFloat(t("body").css("padding-top"))),n.top-(n.top-s.top)),g=Math.max(t("body").offset().left+(isNaN(parseFloat(t("body").css("padding-left")))?0:parseFloat(t("body").css("padding-left"))),n.left-(n.left-s.left)),u=parseFloat(isNaN(parseFloat(c.currentImage.css("padding-top")))?0:parseFloat(c.currentImage.css("padding-top")))+parseFloat(isNaN(parseFloat(c.currentImage.css("border-top")))?0:c.currentImage.css("border-top")),d=parseFloat(isNaN(parseFloat(c.currentImage.css("padding-left")))?0:parseFloat(c.currentImage.css("padding-left")))+parseFloat(isNaN(parseFloat(c.currentImage.css("border-left")))?0:c.currentImage.css("border-left"));p=n.top-f+u<0?0:n.top-f+u,m=n.left-g+d<0?0:n.left-g+d}else if("fixed"===c.currentImage.css("position"))var f=c.currentImage.position().top,g=c.currentImage.position().left;else var f=Math.max(t("body").offset().top+(isNaN(parseFloat(t("body").css("padding-top")))?0:parseFloat(t("body").css("padding-top"))),n.top),g=Math.max(t("body").offset().left+(isNaN(parseFloat(t("body").css("padding-left")))?0:parseFloat(t("body").css("padding-left"))),n.left);if(null===u)var u=parseFloat(isNaN(c.currentImage.css("padding-top"))?0:c.currentImage.css("padding-top"))+isNaN(parseFloat(c.currentImage.css("border-top")))?0:parseFloat(c.currentImage.css("border-top")),d=parseFloat(isNaN(c.currentImage.css("padding-left"))?0:c.currentImage.css("padding-left"))+isNaN(parseFloat(c.currentImage.css("border-left")))?0:parseFloat(c.currentImage.css("border-left"));var v=parseFloat(isNaN(c.currentImage.css("padding-left"))?0:c.currentImage.css("padding-bottom"))+isNaN(parseFloat(c.currentImage.css("border-bottom")))?0:parseFloat(c.currentImage.css("border-bottom")),b=parseFloat(isNaN(c.currentImage.css("padding-left"))?0:c.currentImage.css("padding-right"))+isNaN(parseFloat(c.currentImage.css("border-right")))?0:parseFloat(c.currentImage.css("border-right")),_=a.height-(null!==p?f-n.top+p:u)-v,y=a.width-(null!==m?g-n.left+m:d)-b,w=null!==p?p:u,x=null!==m?m:d,k={},C="px"===c.vertical_offset_type?c.vertical_offset:_*(c.vertical_offset/100),S="px"===c.horizontal_offset_type?c.horizontal_offset:y*(c.horizontal_offset/100),T=c.currentImage.attr("src"),E=!0;try{0===T.indexOf("data:image")?E=!1:(c.currentImageUrl=new e(T).absoluteTo(window.location.toString()).toString(),c.currentImageData=c.getImageData(c.currentImage))}catch(t){E=!1}if(!E){var I=c.currentImage.attr("srcset");I&&(I=I.split(","))&&I.length&&I.forEach(function(t){E||(t=t.trim().split(" "))&&2===t.length&&(E=!0)})}var P=c.buttonEl.find(".sumome-image-sharer-src-only");P.toggle(E);var A="2px 0",$="2px 0 2px 2px",O="2px 2px 2px 0",L="3px 0 0 3px",B="0 3px 3px 0";c.vertical&&(A="0 2px",$="2px 2px 0 2px",O="0 2px 2px 2px",L="3px 3px 0 0",B="0 0 3px 3px"),c.buttonEl.find("> a").css({borderRadius:"0px",borderWidth:A});var D=c.buttonEl.find("> a"+(E?"":":not(.sumome-image-sharer-src-only)"));D.first().css({borderRadius:L,borderWidth:$}),D.last().css({borderRadius:B,borderWidth:O});var M=c.services.length;!E&&P&&P.length&&(M-=P.length);var N=c.vertical?40*M:40,z=c.vertical?40:40*M;c.vertical?(c.buttonEl.css("width",40),c.buttonEl.css("height",40*M)):c.buttonEl.css("width",40*M),"c"!==c.position&&(C+=10,S+=10),k="tl"===c.position?{top:f+C,left:g+S}:"tr"===c.position?{top:f+C,left:g+y-z-S}:"bl"===c.position?{top:f+_-N-C,left:g+S}:"br"===c.position?{top:f+_-N-C,left:g+y-z-S}:{top:f+_/2-N/2+C,left:g+y/2-z/2+S},k.top+=w,k.left+=x,k.position="fixed"===c.currentImage.css("position")?"fixed":"absolute",c.buttonEl.css(k)}},getImageData:function e(i){var n=t(i).naturalWidth(),s=t(i).naturalHeight(),a=t(i).attr("src"),r=document.createElement("canvas"),o=1280,l=800;if(a&&a.toLowerCase().indexOf(".gif")>-1)return null;if(r){var c=Math.min(1280/n,800/s);c<1&&(n*=c,s*=c),r.width=n,r.height=s;var h=r.getContext("2d");if(h){h.drawImage(i.get(0),0,0,n,s);try{return r.toDataURL()}catch(t){}}}return null},charactersLeft:function t(e){return 140-r.txt.getTweetLength(e)},touch:function e(i){var n=Math.min(window.screen.availWidth||t(window).width(),t(window).width());if(t.isCurrentUrlAllowed(c.display_rules,null,c.ctry,c.views)){var s=t.timer("hideImageSharer");s&&s.kill();var a=i.pageX||i.originalEvent.touches[0].pageX,r=i.pageY||i.originalEvent.touches[0].pageY,o=t.nearest({x:a,y:r},"img");if(c.currentImage=null,!o)return void c.buttonEl.stop(!0,!0).fadeOut(500);var l=o.naturalWidth(),h=o.naturalHeight(),n=o.width(),u=o.height();if(l<150||h<150)return void c.buttonEl.stop(!0,!0).fadeOut(500);if(o.parent().is("div[id^=grs_]"))return void c.buttonEl.stop(!0,!0).fadeOut(500);if(o.is(".ob-widget *"))return void c.buttonEl.stop(!0,!0).fadeOut(500);if(o.is(".s.u.m.o.me *"))return void c.buttonEl.stop(!0,!0).fadeOut(500);if(o.attr("rel")&&0===o.attr("rel").toLowerCase().indexOf("noshare"))return void c.buttonEl.stop(!0,!0).fadeOut(500);if(o.attr("rel")&&0===o.attr("rel").toLowerCase().indexOf("share"));else{var d=o.parent(),p=/[^\/\\]+(?:jpg|gif|png)/gi;if(c.ignoreLinks&&d&&"A"===d.get(0).tagName.toUpperCase()&&d.attr("href")&&d.attr("href")!==o.attr("src")&&null===d.attr("href").match(p))return void c.buttonEl.stop(!0,!0).fadeOut(500);if(c.ignoreImgLinks&&d&&"A"===d.get(0).tagName.toUpperCase()&&d.attr("href")&&d.attr("href")!==o.attr("src")&&null!==d.attr("href").match(p))return void c.buttonEl.stop(!0,!0).fadeOut(500);if(o.parents("form").length>0)return void c.buttonEl.stop(!0,!0).fadeOut(500);if(o.is(":hidden")||o.is(":invisible"))return void c.buttonEl.stop(!0,!0).fadeOut(500);if(c.relShareOnly)return void c.buttonEl.stop(!0,!0).fadeOut(500)}c.currentImage=o,c.positionSharer(),c.isOverFixedHeader()||(c.buttonEl.stop(!0,!0).fadeIn(500),t.timer("hideImageSharer",c.hideSharer,5e3).start())}},mouseleave:function e(i){if(null!==c.currentImage){var n=t(i.toElement||i.relatedTarget);n.hasClass(".sumome-image-sharer")||n.closest(".sumome-image-sharer").length>0||c.hideSharer()}},hideSharer:function e(){var i=t.timer("hideImageSharer");i&&i.kill(),c.currentImage=null,c.buttonEl.stop(!0,!0).fadeOut(500)},scroll:function t(){c.isOverFixedHeader()&&c.hideSharer()},isOverFixedHeader:function e(){if(!c.buttonEl)return!1;var i="1"===c.buttonEl.css("opacity"),n="fixed"===t("header").css("position");if(i&&n){var s=8,a={x:parseInt(c.buttonEl.css("left").replace("px",""))-t(window).scrollLeft()-8,y:parseInt(c.buttonEl.css("top").replace("px",""))-t(window).scrollTop()-8,width:c.buttonEl.width()+16,height:c.buttonEl.height()+16},r={x:t("header").position().left,y:t("header").position().top,width:t("header").width(),height:t("header").height()};return!!l(a,r)}return!1},checkAndAddUTMParams:function t(i,n){if(c.hasImageSharer&&i&&"utm"in c&&c.utm){var s=e(i);"utm_source"in c&&c.utm_source&&(s.removeQuery("utm_source"),s.addQuery("utm_source",c.utm_source.replace("{service}",n))),"utm_medium"in c&&c.utm_medium&&(s.removeQuery("utm_medium"),s.addQuery("utm_medium",c.utm_medium.replace("{service}",n))),"utm_name"in c&&c.utm_name&&(s.removeQuery("utm_campaign"),s.addQuery("utm_campaign",c.utm_name.replace("{service}",n))),"utm_custom_key"in c&&c.utm_custom_key&&"utm_custom_val"in c&&c.utm_custom_val&&(s.removeQuery(c.utm_custom_key),s.addQuery(c.utm_custom_key,c.utm_custom_val.replace("{service}",n))),i=s.toString()}return i}};return c}),sumo.define("plugins/text!share/templates/share.html",[],function(){return""}),sumo.define("jquery.print-preview",["jquery"],function(t){t.fn.printPreview=function(){return t.printPreview.loadPrintPreview(),this};var e,i,n,s,a=function(){for(var t,e=3,i=document.createElement("div"),n=i.getElementsByTagName("i");i.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return e>4?e:t}();t.printPreview={loadPrintPreview:function(){n=t('<div id="sumome-share-print-modal"></div>'),s=t('<div id="sumome-share-print-modal-controls"><a href="#" class="sumome-share-print-modal-controls-print" title="Print page">Print page</a><a href="#" class="sumome-share-print-modal-controls-close" title="Close print preview">Close</a>').hide();var e=t('<iframe id="sumome-share-print-modal-content" scrolling="no" border="0" frameborder="0" name="print-frame" />');n.hide().append(s).append(e).appendTo("body");var i=e[0].contentWindow.document;i.open(),i.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><title>'+document.title+"</title></head><body></body></html>"),i.close();var a=t("head link[media*=print], head link[media=all]").clone(),r=t("body > *:not(#sumome-share-print-modal):not(script)").clone();a.each(function(){t(this).attr("media","all")}),t("head",i).append(a),t("body",i).append(r),t("a",i).bind("click.printPreview",function(t){t.preventDefault()}),t("head").append('<style type="text/css">@media print {/* -- Print Preview --*/#sumome-share-print-modal-mask,#sumome-share-print-modal {display: none !important;}}</style>'),t.printPreview.loadMask(),t("body").css({overflowY:"hidden",height:"100%"}),t("img",i).load(function(){e.height(t("body",e.contents())[0].scrollHeight)}),starting_position=t(window).height()+t(window).scrollTop();var o={top:starting_position,height:"100%",overflowY:"auto",zIndex:1e4,display:"block"};n.css(o).animate({top:t(window).scrollTop()},400,"linear",function(){s.fadeIn("slow").focus()}),e.height(t("body",e.contents())[0].scrollHeight),t("a",s).bind("click",function(e){e.preventDefault(),t(this).hasClass("sumome-share-print-modal-controls-print")?window.print():t.printPreview.distroyPrintPreview()})},distroyPrintPreview:function(){s.fadeOut(100),n.animate({top:t(window).scrollTop()-t(window).height(),opacity:1},400,"linear",function(){n.remove(),t("body").css({overflowY:"auto",height:"auto"})}),e.fadeOut("slow",function(){e.remove()}),t(document).unbind("keydown.printPreview.mask"),e.unbind("click.printPreview.mask"),t(window).unbind("resize.printPreview.mask")},loadMask:function(){i=t.printPreview.sizeUpMask(),e=t('<div id="sumome-share-print-modal-mask" />').appendTo(t("body")),e.css({position:"absolute",top:0,left:0,width:i[0],height:i[1],display:"none",opacity:0,zIndex:9999,backgroundColor:"#000"}),e.css({display:"block"}).fadeTo("400",.75),t(window).bind("resize..printPreview.mask",function(){t.printPreview.updateMaskSize()}),e.bind("click.printPreview.mask",function(e){t.printPreview.distroyPrintPreview()}),t(document).bind("keydown.printPreview.mask",function(e){27==e.keyCode&&t.printPreview.distroyPrintPreview()})},sizeUpMask:function(){if(a){var e=t(document).height(),i=t(window).height()
;return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,e-i<20?i:e]}return[t(document).width(),t(document).height()]},updateMaskSize:function(){var i=t.printPreview.sizeUpMask();e.css({width:i[0],height:i[1]})}}}),sumo.define("jquery.share",["jquery","jquery.print-preview"],function(t){t.shareServices={amazonuniversalregistry:{name:"Amazon Universal Registry",url:"https://www.amazon.com/registry/add?t={TEXT}&u={URL}",width:1e3,height:640,background:"#F7AD29",color:"#fff"},amazonuswishlist:{name:"Amazon Wishlist",url:"https://www.amazon.com/wishlist/add?t={TEXT}&u={URL}",width:1e3,height:640,background:"#FC9A18",color:"#fff"},aollifestream:{name:"AOL Lifestream",url:"http://lifestream.aol.com/share/?url={URL}&title={TEXT}&description={DESC}",width:580,height:440,background:"#8DB822",color:"#fff"},aolmail:{name:"AOL Mail",url:"https://mail.aol.com/webmail-std/en-us/composemessage?to=&subject={TEXT}&body={URL}",width:600,height:500,background:"#262626",color:"#fff"},arto:{name:"Arto",url:"http://www.arto.com/section/linkshare/default.aspx?lu={URL}&ln={TEXT}",width:1e3,height:770,background:"#8DB822",color:"#fff"},bitly:{name:"Bitly",url:"https://bitly.com/a/bitmarklet?u={URL}",width:1160,height:500,background:"#EE6023",color:"#fff"},bloggerpost:{name:"Blogger",url:"https://www.blogger.com/blog-this.g?t&u={URL}&n={TEXT}",width:750,height:700,background:"#F79638",color:"#fff"},boxnet:{name:"Box",url:"https://www.box.com/api/1.0/import?import_as=link&url={URL}&name={TEXT}",width:500,height:500,background:"#2F88B1",color:"#fff"},buffer:{name:"Buffer",url:"http://bufferapp.com/add?text={TEXT}&url={URL}",width:890,height:532,background:"#242424",color:"#fff",fetch:"https://api.bufferapp.com/1/links/shares.json?url={URL}",parse:function(t){return parseInt(t.shares)},priority:89},delicious:{name:"Delicious",url:"http://del.icio.us/post?url={URL}&title={TEXT}&notes={DESC}",width:550,height:588,background:"#3399ff",color:"#fff",priority:85},digg:{name:"Digg",url:"http://digg.com/submit?url={URL}&title={TEXT}",width:1080,height:670,background:"#0093CC",color:"#fff",priority:86},diigo:{name:"Diigo",url:"https://www.diigo.com/post?url={URL}&title={TEXT}&description={DESC}",width:625,height:660,background:"#4DA2E4",color:"#fff"},diigolet:{name:"Diigolet",width:600,height:500,background:"#4DA2E4",color:"#fff",javascript:function(){s=document.createElement("script"),s.type="text/javascript",s.src="https://www.diigo.com/javascripts/webtoolbar/diigolet_b_h_b.js",document.body.appendChild(s)}},email:{name:"Email",url:"mailto:?subject={TEXT}&body={DESC}%20{URL}{PROMO}",width:600,height:500,background:"#aaa",color:"#fff",priority:99},evernote:{name:"Evernote",url:"http://www.evernote.com/clip.action?url={URL}&title={TEXT}",width:960,height:533,background:"#6fb536",color:"#fff",priority:85},facebook:{name:"Facebook",url:"http://www.facebook.com/sharer.php?u={URL}",width:600,height:600,background:"#3b5998",color:"#fff",fetch:"//graph.facebook.com/?id={URL}",parse:function(t){return parseInt(t.share.share_count)},priority:100},facebooklike:{name:"Facebook Like",url:"https://sumo.com/apps/share/facebook-like?href={URL}",width:600,height:300,background:"#5a739d",color:"#fff",fetch:"//api.facebook.com/method/links.getStats?urls={URL}&format=json",parse:function(t){return parseInt(t[0].like_count)},priority:95},facebooksend:{name:"Facebook Send",url:"https://www.facebook.com/dialog/send?app_id=859406404089021&link={URL}&redirect_uri=https%3a%2f%2fsumo.com%2fapps%2fshare%2fthanks&display=popup",width:600,height:500,background:"#3b5998",color:"#fff"},fancy:{name:"Fancy",width:600,height:500,background:"#494E57",color:"#fff",javascript:function(){thefancy_username="";var t="thefancy_tagger_bookmarklet_helper_js",e=document.getElementById(t),i=!0;if(e){var n=window;try{n.thefancy_bookmarklet?(n.thefancy_bookmarklet.tagger.cleanListeners(),e.parentNode.removeChild(e)):i=!1}catch(t){i=!1}}i&&(_my_script=document.createElement("SCRIPT"),_my_script.type="text/javascript",_my_script.id=t,_my_script.src=location.protocol+"//fancy.com/bookmarklet/fancy_tagger.js?x="+Math.random(),document.getElementsByTagName("head")[0].appendChild(_my_script))}},flipboard:{name:"Flipboard",url:"https://share.flipboard.com/bookmarklet/popout?v=2&title={TEXT}&url={URL}",width:600,height:500,background:"#CC0713",color:"#fff"},friendfeed:{name:"FriendFeed",url:"http://www.friendfeed.com/share?url={URL}&title={TEXT}",width:800,height:550,background:"#87a9d9",color:"#fff"},googlebookmarks:{name:"Google Bookmarks",url:"https://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk={URL}&title={TEXT}&annotation={DESC}",width:600,height:500,background:"#4A8CF6",color:"#fff"},googlemail:{name:"Gmail",url:"https://mail.google.com/mail/u/0/?view=cm&fs=1&to&su={TEXT}&body={URL}&ui=2&tf=1",width:600,height:500,background:"#E04C40",color:"#fff"},googleplus:{name:"Google+",url:"https://plus.google.com/share?url={URL}",width:512,height:432,background:"#dd4b39",color:"#fff",method:"googleplus",fetch:"https://clients6.google.com/rpc?key=AIzaSyCKSbrvQasunBoV16zDH9R33D88CeLr9gQ",parse:function(t){return parseInt(t.result.metadata.globalCounts.count)},priority:96},hootsuite:{name:"Hootsuite",url:"https://hootsuite.com/hootlet/load?address={URL}&title={TEXT}",width:750,height:650,background:"#000",color:"#fff"},houzz:{name:"Houzz",width:600,height:500,background:"#7AC143",color:"#fff",javascript:function(){function t(t,e,i){var n=t.indexOf("?"),s=t.indexOf("#");return n==t.length-1&&(t=t.substring(0,n),n=-1),(s>0?t.substring(0,s):t)+(n>0?"&"+e+"="+i:"?"+e+"="+i)+(s>0?t.substring(s):"")}var e=document.createElement("link");e.rel="stylesheet",e.href=t("//www.houzz.com/res/2125/css/style?f=clipper","cb",Math.floor(1e6*Math.random())),document.getElementsByTagName("head")[0].appendChild(e);var i=document.createElement("script");i.type="text/javascript",i.src=t("//www.houzz.com/js/script?f=clipper&v=2125&s=101&l=en-US&d=1&m=1","cb",Math.floor(1e6*Math.random())),document.body.appendChild(i)}},instapaper:{name:"Instapaper",url:"http://www.instapaper.com/hello2?url={URL}&title={TEXT}&description={DESC}",width:475,height:200,background:"#464646",color:"#000"},kaboodle:{name:"Kaboodle",width:600,height:500,background:"#B9212A",color:"#fff",javascript:function(){var t="0.3",e=document,i;try{i=e.standardCreateElement("script")}catch(t){}"object"!=typeof i&&(i=e.createElement("script"));try{i.type="text/javascript",i.src="http://www.kaboodle.com/zg/g.js",i.id="c_grab_js",e.getElementsByTagName("head")[0].appendChild(i)}catch(t){window.location="http://www.kaboodle.com/za/selectpage?p_pop=false&pa=url&u="+window.location}}},kik:{name:"Kik",url:"http://share-api.kik.com/share.do?url={URL}&title={TEXT}",width:600,height:550,background:"#8CC04F",color:"#fff"},lineapp:{name:"Line",url:"http://line.me/R/msg/text/?{TEXT}%20-%20{URL}",width:600,height:500,background:"#01C312",color:"#fff"},linkedin:{name:"LinkedIn",url:"http://www.linkedin.com/shareArticle?mini=true&url={URL}&title={TEXT}&summary={DESC}",width:615,height:495,background:"#007bb6",color:"#fff",method:"linkedin",fetch:"https://www.linkedin.com/countserv/count/share?format=jsonp&url={URL}",parse:function(t){return parseInt(t.count)},priority:91},meneame:{name:"Menéame",url:"https://www.meneame.net/submit.php?url={URL}",width:600,height:500,background:"#FC6320",color:"#fff"},microsoftonenote:{name:"Microsoft OneNote",url:"https://www.onenote.com/clipper/save?sourceUrl={URL}&title={TEXT}&notes={DESC}",width:800,height:660,background:"#80397B",color:"#fff"},misterwong:{name:"Mister Wong",url:"http://www.mister-wong.com/index.php?action=addurl&bm_url={URL}&bm_description={TEXT}",width:1e3,height:560,background:"#AB0414",color:"#fff"},misterwongcn:{name:"Mister Wong CN",url:"http://www.mister-wong.cn/index.php?action=addurl&bm_url={URL}&bm_description={TEXT}",width:1e3,height:560,background:"#AB0414",color:"#fff"},misterwonges:{name:"Mister Wong ES",url:"http://www.mister-wong.es/index.php?action=addurl&bm_url={URL}&bm_description={TEXT}",width:1e3,height:560,background:"#AB0414",color:"#fff"},misterwongfr:{name:"Mister Wong FR",url:"http://www.mister-wong.fr/index.php?action=addurl&bm_url={URL}&bm_description={TEXT}",width:1e3,height:560,background:"#AB0414",color:"#fff"},misterwongru:{name:"Mister Wong RU",url:"http://www.mister-wong.RU/index.php?action=addurl&bm_url={URL}&bm_description={TEXT}",width:1e3,height:560,background:"#AB0414",color:"#fff"},newsvine:{name:"Newsvine",url:"http://www.newsvine.com/_tools/seed&save?u={URL}&h={TEXT}",width:500,height:700,background:"#11660C",color:"#fff"},odnoklassniki:{name:"Odnoklassniki",url:"http://connect.ok.ru/dk?st.cmd=WidgetSharePreview&st.shareUrl={URL}",width:540,height:395,background:"#F38230",color:"#fff"},outlook:{name:"Outlook",url:"https://mail.live.com/secure/start?action=compose&to=&subject={TEXT}&body={URL}",width:600,height:500,background:"#1172C6",color:"#fff"},pinboardin:{name:"Pinboard",url:"https://pinboard.in/add?next=same&url={URL}&description={DESC}&title={TEXT}",width:600,height:500,background:"#214CF4",color:"#fff"},pinterest:{name:"Pinterest",url:"http://pinterest.com/pin/create/button/?url={URL}&description={TEXT}&media={IMAGE}",width:765,height:320,background:"#cb2027",color:"#fff",fetch:"//widgets.pinterest.com/v1/urls/count.json?callback=?&source=6&url={URL}",parse:function(t){return parseInt(t.count)},javascript:function(t,e,i,n,s,a,r){!function(i,n,s,a,r,l,c){var h="",u={k:"PIN_"+(new Date).getTime(),me:/\/\/assets\.pinterest\.com\/js\/pinmarklet\.js/,grid:t+"/apps/share/pinterest-grid",maxWait:5e3,quality:30,xv:"data-pinterest-extension-installed",log:"https://log.pinterest.com/",hazPinningNow:"data-pinterest-pinmarklet-rendered",pattern:{instagram:{page:/^https?:\/\/(.*?\.|)instagram\.com\//,url:/^https?:\/\/(.*?\.|)instagram\.com\/p\//},amazon:{media:/^https?:\/\/(.*?\.|)images-amazon\.com\/images\//,page:/^https?:\/\/(.*?\.|)amazon\.com\//},pinterest:{page:/^https?:\/\/(.*?\.|)pinterest\.com\//},facebook:{page:/^https?:\/\/([a-zA-Z0-9]*\.|)facebook\.com\//},craigslist:{page:/^https?:\/\/(.*?\.|)craigslist\.org\//},itunes:{page:/^https?:\/\/itunes\.apple\.com\//},youtube:{iframe:/^https?:\/\/www\.youtube\.com\/embed/,media:/^https?:\/\/(.*?\.|)ytimg\.com\/(vi|li)\//,page:/^https?:\/\/(.*?\.|)youtube\.com\//},flickr:{media:/^https?:\/\/(.*?)\.staticflickr\.com\//,page:/^https?:\/\/www\.flickr\.com\//},"500px":{media:/^https?:\/\/(.*?)\.500px\.org\//},vimeo:{iframe:/^https?:\/\/player\.vimeo\.com\/video\//,media:/^https?:\/\/i\.vimeocdn\.com\/video\//,page:/^https?:\/\/vimeo\.com\//},google:{page:/^https?:\/\/www\.google\.com\/search(.*&tbm=isch.*)/},twitter:{page:/^https?:\/\/twitter\.com\//},wikipedia:{page:/^https?:\/\/(.*?\.|)wikipedia\.org\//}},validConfigParam:["debug","noCancel","noHeader","pinMethod","render","share","quiet","quality","pinbox","via","xuid","edu","guid"],validImageFileType:{gif:1,jpg:1,jpeg:1,png:1,webp:1},invalidImageFileType:{svg:1},imgLimitMin:119,imgLimitFloor:79,imgLimitHorz:3,thumbCellSize:236,thumbCellMargin:14,tag:{link:["rel","href"],meta:["name","content","property","http-equiv","content-language"],a:["data-pin-href","data-pin-id"],iframe:["src"],img:["src","title","alt","naturalHeight","naturalWidth","nopin","data-pin-nopin","data-pin-id","data-pin-media","data-pin-url","data-pin-description","usemap"]},cdn:{"https:":"https://s-passets.pinimg.com","http:":"http://passets.pinterest.com"},msg:e,hashList:[/efa3a2deb839/,/20c46b653b00/,/9e2089d8b8f2/,/820a6e7baa0f/,/293aa4f9b3d0/,/1529ad2b2cc8/,/8de5d416e5d2/,/8c2d5961f7af/,/540b2374abf1/,/415215dcadbf/,/dbafdf055617/,/871de03c9980/,/85ae87da6618/,/1d1d5ffa1d50/,/1847807c0ea1/,/08fb2eb6424d/,/a32353817e45/,/71c1f4783e6d/,/79f57d83d54a/,/eefa602a72ed/,/32aa39d04eb4/,/25f7c9982cea/]},d=window[u.k]={w:window,d:document,a:u,s:{},f:function(){return{callback:[],sha:function(t){function e(t){for(var e=Array(t.length>>2),i=0;i<e.length;i++)e[i]=0;for(i=0;i<8*t.length;i+=8)e[i>>5]|=(255&t.charCodeAt(i/8))<<24-i%32;return e}function i(t){for(var e="",i=0;i<32*t.length;i+=8)e+=String.fromCharCode(t[i>>5]>>>24-i%32&255);return e}function n(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function s(t,e){return t<<e|t>>>32-e}function a(t,e){t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e;for(var i=Array(80),a=1732584193,l=-271733879,c=-1732584194,h=271733878,u=-1009589776,d=0;d<t.length;d+=16){for(var p=a,m=l,f=c,g=h,v=u,b=0;b<80;b++){i[b]=b<16?t[d+b]:s(i[b-3]^i[b-8]^i[b-14]^i[b-16],1);var _=n(n(s(a,5),r(b,l,c,h)),n(n(u,i[b]),o(b)));u=h,h=c,c=s(l,30),l=a,a=_}a=n(a,p),l=n(l,m),c=n(c,f),h=n(h,g),u=n(u,v)}return Array(a,l,c,h,u)}function r(t,e,i,n){return t<20?e&i|~e&n:t<40?e^i^n:t<60?e&i|e&n|i&n:e^i^n}function o(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function l(t){return i(a(e(t),8*t.length))}function c(t){for(var e,i="0123456789abcdef",n="",s=0;s<t.length;s++)e=t.charCodeAt(s),n=n+i.charAt(e>>>4&15)+i.charAt(15&e);return n}return c(l(t))},get:function(t,e){var i=null;return i=void 0!==t[e]?t[e]:t.getAttribute(e)},set:function(t,e,i){"string"==typeof t[e]?t[e]=i:t.setAttribute(e,i)},getEl:function(t){var e=null;return e=t.target?3===t.target.nodeType?t.target.parentNode:t.target:t.srcElement},parse:function(t,e){var i,n,s,a,r,o;if(o={},i=t.split("#")[0].split("?"),i[1])for(n=i[1].split("&"),a=0,r=n.length;a<r;a+=1)s=n[a].split("="),2===s.length&&e[s[0]]&&(o[s[0]]=s[1]);return o},make:function(t){var e,i,n,s=!1;for(e in t)if(t[e].hasOwnProperty){s=d.d.createElement(e);for(i in t[e])if(t[e][i]&&t[e][i].hasOwnProperty)if("string"==typeof t[e][i])d.f.set(s,i,t[e][i]);else if("style"===i)for(n in t[e][i])s.style.setProperty?s.style.setProperty(n,t[e][i][n],"important"):s.style[n]=t[e][i][n];break}return s},kill:function(t){"string"==typeof t&&(t=d.d.getElementById(t)),t&&t.parentNode&&t.parentNode.removeChild(t)},call:function(t,e){var i,n,s="?";d.v.nextCallback||(d.v.nextCallback=0),i=d.v.nextCallback,d.v.nextCallback=d.v.nextCallback+1,n=d.a.k+".f.callback["+i+"]",d.f.callback[i]=function(t){e(t,i),d.f.kill(n),d.v.callbackLoadingCount=d.v.callbackLoadingCount-1},t.match(/\?/)&&(s="&"),d.d.b.appendChild(d.f.make({SCRIPT:{id:n,type:"text/javascript",charset:"utf-8",src:t+s+"callback="+n}})),d.v.callbackLoadingCount=d.v.callbackLoadingCount+1},listen:function(t,e,i,n){void 0!==d.w.sumomeSharePinterestEvent&&(void 0!==t.removeEventListener&&t.removeEventListener(e,d.w.sumomeSharePinterestEvent,!1),void 0!==t.detachEvent&&t.detachEvent("on"+e,d.w.sumomeSharePinterestEvent)),n?void 0!==t.removeEventListener?t.removeEventListener(e,i,!1):void 0!==t.detachEvent&&t.detachEvent("on"+e,i):void 0!==d.w.addEventListener?t.addEventListener(e,i,!1):void 0!==d.w.attachEvent&&t.attachEvent("on"+e,i),d.w.sumomeSharePinterestEvent=i},debug:function(t){},getConfig:function(){var t=d.d.getElementsByTagName("SCRIPT"),e=t.length,i=0,n=0,s=d.a.validConfigParam.length,a=null,r="",o=function(t){d.w.setTimeout(function(){d.f.kill(t)},10)};for(i=0;i<e;i+=1)if(t[i].src.match(d.a.me)){for(n=0;n<s;n+=1)r=d.a.validConfigParam[n],(a=t[i].getAttribute(r))&&(d.v.config[r]=a);o(t[i]);break}},getSelection:function(){return(""+(d.w.getSelection?d.w.getSelection():d.d.getSelection?d.d.getSelection():d.d.selection.createRange().text)).replace(/(^\s+|\s+$)/g,"")},getDim:function(t){var e,i;return e=0,i=0,"number"==typeof t.naturalHeight?e=t.naturalHeight:"number"==typeof t.height&&(e=t.height),"number"==typeof t.naturalWidth?i=t.naturalWidth:"number"==typeof t.width&&(i=t.width),{h:e,w:i}},check:{fileType:function(t){var e,i;return e=!0,t.src&&(i=t.src.split("#")[0].split("?")[0].split(".").pop(),d.a.invalidImageFileType[i]&&(e=!1)),e},visibility:function(t){var e,i,n;for(i=t.parentNode,e=!0;i&&"HTML"!==i.tagName;){if(i.currentStyle?("none"===i.currentStyle.display||"hidden"===i.currentStyle.visibility)&&(e=!1):d.w.getComputedStyle&&("none"===d.w.getComputedStyle(t).getPropertyValue("display")||"hidden"===d.w.getComputedStyle(t).getPropertyValue("visibility"))&&(e=!1),!1===e){n=t.src+": is invisible";break}i=i.parentNode}return e},noPin:function(t){var e,i;return e=!0,d.f.get(t,"data-pin-nopin")&&(e=!1,i=t.src+": data-pin-nopin=true"),d.f.get(t,"nopin")&&(e=!1,i=t.src+": nopin=nopin"),e},size:function(t){var e,i,n;return e=!1,n=d.f.getDim(t),n.h>d.a.imgLimitFloor&&n.w>d.a.imgLimitFloor?n.h>d.a.imgLimitMin||n.w>d.a.imgLimitMin?n.w<n.h*d.a.imgLimitHorz?e=!0:i=t.src+" too wide":i=t.src+" one dimension <= "+d.a.imgLimitMin:i=t.src+" one dimension <= "+d.a.imgLimitFloor,e},dupe:function(t){var e=t;"object"==typeof t&&(e=t.src);var i=!0;return d.v.src[e]?i=!1:d.v.src[e]=!0,i},source:function(t,e){var i,n,s;return i=!1,s="string"==typeof t?t:t.src||t.href,s&&s.match(/^http/)&&(s.match(/File:/)||(e?(n=s.split("#")[0].split("?")[0].split(".").pop(),d.a.validImageFileType[n]&&(i=!0)):i=!0)),i},domain:function(t){var e,i,n,s,a;if(a=t,"object"==typeof t&&(a=t.src),s=a.split("/")[2],n=!0,void 0===d.v.srcDomain[s]){for(var i=d.f.sha(s),e=0,r=d.a.hashList.length;e<r;e+=1)if(i.match(d.a.hashList[e])){n=!1;break}d.v.srcDomain[s]={bad:n}}else n=d.v.srcDomain[s].bad;return n}},tag:{img:function(t){var e,i;e=!0;for(i in d.f.check)if(!d.f.check[i](t)){e=!1;break}return e},iframe:function(t){var e,i;if(t.src.match(d.a.pattern.instagram.url)&&(i=t.src.split("embed"),i[1]&&(e="https://api.instagram.com/oembed?url="+encodeURIComponent(i[0]),d.f.call(e,d.f.handlers.instagram))),t.src.match(d.a.pattern.youtube.iframe)){var i=t.src.split("#")[0].split("?")[0].split("/")[4];i&&(e={media:"http://i.ytimg.com/vi/"+i+"/hqdefault.jpg",set:{description:d.d.title,url:"http://www.youtube.com/watch?v="+i,isVideo:!0,attrib:"youtube"}},d.f.loadImg(e))}t.src.match(d.a.pattern.vimeo.iframe)&&(i=function(t){t.thumbnail_url&&(e={media:t.thumbnail_url.split("_")[0]+".jpg",set:{url:"https://vimeo.com/"+t.video_id,description:t.title,isVideo:!0,attrib:"vimeo"}},d.f.loadImg(e))},e="https://vimeo.com/api/oembed.json?url="+encodeURIComponent(t.src),d.f.call(e,i))},a:function(t){var e,i,n,s;(i=d.f.get(t,"data-pin-href"))&&(n=d.f.parse(i,{url:!0,media:!0,description:!0}),n.media&&(e={media:decodeURIComponent(n.media),set:{pinItButton:!0,url:decodeURIComponent(n.url)||void 0,description:decodeURIComponent(n.description)||void 0}},s=d.f.get(t,"data-pin-id"),s&&(e.set.dataPinId=s),d.f.loadImg(e),d.v.hazLoggedPinItButton||(d.v.hazLoggedPinItButton=!0)))},link:function(t){var e,i;e=t.rel,i=t.href,e&&i&&(e=e.toLowerCase(),"canonical"===e&&(d.v.canonicalUrl||(d.v.canonicalUrl=i)),("icon"===e||"shortcut-icon"===e||"apple-touch-icon"===e)&&(d.v.config.favicon=i))},meta:function(t){var e,i,n,s,a,r;e=d.f.get(t,"content"),i=d.f.get(t,"description"),n=d.f.get(t,"property"),a=d.f.get(t,"http-equiv"),r=d.f.get(t,"content-language"),s=d.f.get(t,"name"),a&&r&&d.f.setLang(r),e&&(s&&"pinterest"===s&&("nopin"===e.toLowerCase()&&(d.v.data.close=i||d.v.msg.noPinMeta),"nohover"===e.toLowerCase()&&(d.v.noHoverMeta=!0),"pinterest-rich-pin"===s&&e.toLowerCase()),n&&("og:image"===n&&(d.v.meta.og.media=e),"og:url"===n&&(d.v.meta.og.url=e),"og:description"===n&&(d.v.meta.og.description=e),"og:title"===n&&(d.v.meta.og.title=e),"pin:media"===n&&(d.v.meta.pinterest.media=e),"pin:url"===n&&(d.v.meta.pinterest.url=e),"pin:description"===n&&(d.v.meta.pinterest.description=e),"pin:id"===n&&(d.v.meta.pinterest.id=e)))}},loadImg:function(t){var e,i;d.v.imgLoadingCount=d.v.imgLoadingCount+1,e=d.d.createElement("IMG"),e.onerror=function(){d.w.clearTimeout(i),d.v.imgLoadingCount=d.v.imgLoadingCount-1},e.onload=function(){var e,n,s,a,r,o;if(d.w.clearTimeout(i),s={},d.v.imgLoadingCount=d.v.imgLoadingCount-1,s.loaded=!0,o=d.f.getDim(this),s.height=o.h,s.width=o.w,s.media=this.src,t.set)if("string"==typeof t.set)s[t.set]=!0,d.v.hazSet[t.set]=!0;else for(e in t.set)s[e]=t.set[e],d.v.hazSet[e]=!0;for(t.url&&d.v.canonicalUrl&&(t.url!==d.v.canonicalUrl?(a=d.v.canonicalUrl.split("/")[2],r=t.url.split("/")[2],a===r?(s.url=t.url,s.linkOffPage=!0):(s.url=t.url,s.via=d.v.canonicalUrl,s.linkOffDomain=!0)):s.isVideo&&(s.isCanonical=!0),d.f.kill(this)),t.description&&(s.description=t.description),d.v.found.unshift(s),e=1,n=d.v.found.length;e<n;e+=1)if(d.v.found[e].media===this.src){s.metaOg?(s.description&&(d.v.found[e].description=s.description),s.url&&(d.v.found[e].url=s.url),d.v.found[e].isCanonical=!0,d.v.found.shift()):d.v.found.splice(e,1);break}},i=d.w.setTimeout(function(){e=null,d.v.imgLoadingCount=d.v.imgLoadingCount-1},d.a.maxWait),e.src=t.media},handlers:{instagram:function(t){t&&t.thumbnail_url&&t.title&&t.html&&(o={media:t.thumbnail_url,set:{url:t.html.split('<a href="')[1].split('"')[0],description:t.title}},d.f.loadImg(o))}},srcSet:function(t){var e=d.f.get(t,"srcset"),i,n,s,a,r="",o=0;if(e&&(i=e.split(","),i.length)){for(n=0;n<i.length;n+=1)a=i[n].replace(/^\s+|\s+$/g,"").replace(/\s\s+/g," ").split(" "),a[1]&&(a[1]=a[1].replace(/[^0-9.]/g,"")-0,o<a[1]&&(o=a[1],r=a[0]));r&&(s=r.split("#")[0].split("?")[0].split(".").pop(),d.a.validImageFileType[s]&&!t.getAttribute("data-pin-media")&&t.setAttribute("data-pin-media",r))}},modifiers:{page:[function(){var t,e,i,s=n||d.d.URL;s.match(d.a.pattern.vimeo.page)&&(e=d.d.getElementsByTagName("VIDEO")[0])&&(i=e.parentNode.parentNode.getAttribute("data-thumb"))&&(t={media:i,set:{sourceBump:!0,url:s,description:d.d.title}},d.f.loadImg(t))},function(){var t,e,i,s,a=n||d.d.URL;if(a.match(d.a.pattern.instagram.page))if(a.match(d.a.pattern.instagram.url))s="https://api.instagram.com/oembed?url="+encodeURIComponent(a),d.f.call(s,d.f.handlers.instagram);else for(t=d.d.getElementsByTagName("A"),e=0,i=t.length;e<i;e+=1)t[e].href&&t[e].href.match(d.a.pattern.instagram.url)&&(s="https://api.instagram.com/oembed?url="+encodeURIComponent(t[e].href.split("#")[0].split("?")[0]),d.f.call(s,d.f.handlers.instagram))},function(){var t,e,i,s,a,r,o;if((n||d.d.URL).match(d.a.pattern.amazon.page)){var e=d.d.getElementsByTagName("A");for(i=0,s=e.length;i<s;i+=1)if(e[i].href&&e[i].href.match("pinterest.com%2Fpin%2Fcreate%2Fbutton%3F")){if(t=e[i].href.split("&token=")[0].split("pinterest.com%2Fpin%2Fcreate%2Fbutton%3F"),t[1])try{(a=decodeURIComponent(t[1]))&&(o=d.f.parse("?"+a,{url:!0,media:!0,description:!0}),o.media&&o.url&&o.description&&(o.url=o.url.split("ref%3D")[0],o.description=o.description.split("http")[0],r={media:decodeURIComponent(o.media),set:{sourceBump:!0,url:decodeURIComponent(o.url),description:decodeURIComponent(o.description)}},d.f.loadImg(r)))}catch(t){}break}}},function(){var t,e,i,s,a,r,o,l,c,h=n||d.d.URL;if(c=function(t){var e={};e.media="https://i.ytimg.com/vi/"+t.id+"/hqdefault.jpg",e.url="http://www.youtube.com/watch?v="+t.id,e.set={isVideo:!0,attrib:"youtube",url:e.url,description:d.d.title},t.sourceBump&&(e.set.sourceBump=!0),t.sourceOrder&&(e.set.sourceOrder=t.sourceOrder),d.f.loadImg(e)},h.match(d.a.pattern.youtube.page))for(e=h.split("#")[0].split("?v="),e[1]&&c({id:e[1].split("&")[0],sourceBump:!0}),e=d.d.getElementsByClassName("_mfw"),i=0,s=e.length;i<s;i+=1)if((a=e[i].currentStyle||d.w.getComputedStyle(e[i],!1))&&a.backgroundImage&&"none"!==a.backgroundImage&&(t=a.backgroundImage.split("&")[0].split("="),t[1])){for(r=t[1].split(","),o=r.length-1,l=-1;o>l;o-=1)c({id:r[o],sourceOrder:o});break}},function(){var t,e,i,s,a,r,o,l,c,h;if((n||d.d.URL).match(d.a.pattern.google.page)&&(d.v.doNotSort=!0,t=d.d.getElementById("ires")))for(e=t.getElementsByTagName("A"),i=0,s=e.length;i<s;i+=1)if(o="",media="",e[i].href&&(r=e[i].href.split("imgrefurl="),r[1]&&(o=r[1].split("&")[0]),r=e[i].href.split("imgurl="),r[1]&&(media=r[1].split("&")[0])),o&&media&&(a=e[i].getElementsByTagName("IMG"),a[0]&&(d.f.set(a[0],"data-pin-url",decodeURIComponent(o)),d.f.set(a[0],"data-pin-media",decodeURIComponent(media)))),l=e[i].parentNode.getElementsByTagName("DIV"),l[2]&&(c=l[2].textContent))try{"object"==typeof(h=JSON.parse(c))&&(h.s||h.pt)&&d.f.set(a[0],"data-pin-description",h.s||h.pt)}catch(t){}},function(){(n||d.d.URL).match(d.a.pattern.pinterest.page)&&!0===window.isMainPinterestSite&&(d.v.data.close=d.v.msg.noPinningFromPinterest)},function(){(n||d.d.URL).match(d.a.pattern.facebook.page)&&(d.v.data.close=d.v.msg.noPinDomain.replace(/%noPinDomain%/,"Facebook"))},function(){(n||d.d.URL).match(d.a.pattern.craigslist.page)&&(d.v.data.close=d.v.msg.noPinDomain.replace(/%noPinDomain%/,"Craigslist"))}],img:[function(t,e){if((n||d.d.URL).match(d.a.pattern.itunes.page)){t.description=d.d.title.split(" on the App Store")[0];var i=d.d.getElementById("title");if(i){var s=i.getElementsByTagName("H1"),a=i.getElementsByTagName("H2");if(s[0]&&a[0]){var r=s[0].innerHTML,o=a[0].innerHTML;r&&o&&(o=o.charAt(0).toLowerCase()+o.substr(1),t.description=r+" "+o)}}}},function(t,e){var i,s;(n||d.d.URL).match(d.a.pattern.twitter.page)&&(i=e.parentNode.parentNode)&&"A"===i.tagName&&d.f.get(i,"data-resolved-url-large")&&(t.media=d.f.get(i,"data-resolved-url-large"),t.url=i.href,(s=i.parentNode.parentNode.parentNode.getElementsByClassName("tweet-text")[0])&&"P"===s.tagName&&(t.description=s.innerText))},function(t,e){var i;return i=!1,t.media.match(d.a.pattern.flickr.media)&&(t.getsAttribution=!0,t.attrib="flickr",t.url=d.v.canonicalUrl,i=!0),i},function(t,e){var i,n,s;return i=!1,t.media.match(d.a.pattern["500px"].media)&&(t.getsAttribution=!0,n=t.media.split("#")[0].split("?")[0].split("/"),s=n.pop(),s.match(/.jpg/)&&(t.media=n.join("/")+"/2048.jpg",t.set={getsAttribution:!0,attrib:"fivehundredpx",url:d.v.canonicalUrl},d.f.loadImg(t),i=!0)),i},function(t,e){var i,n;return i=!1,t.media.match(d.a.pattern.youtube.media)&&(n=t.media.split("/")[4],t.media="https://i.ytimg.com/vi/"+n+"/hqdefault.jpg",t.url=d.v.canonicalUrl,t.url.match(d.a.pattern.youtube.page)&&(t.url="https://www.youtube.com/watch?v="+n),t.set={isVideo:!0,attrib:"youtube",url:t.url},d.f.loadImg(t),i=!0),i},function(t,e){var i,n;return i=!1,t.url||(t.url=d.v.canonicalUrl),n=t["data-pin-url"],n&&(delete t["data-pin-url"],t.dataPinUrl=n,t.url=n),n=t["data-pin-id"],n&&(delete t["data-pin-id"],t.dataPinId=n),n=t["data-pin-description"],n&&(delete t["data-pin-description"],t.dataPinDescription=n),n=t["data-pin-media"],n&&(delete t["data-pin-media"],d.f.check.source(n)&&(t.media=n,t.set={dataPinMedia:!0,url:t.url},t.dataPinUrl&&(t.set.dataPinUrl=t.dataPinUrl),t.dataPinDescription&&(t.set.dataPinDescription=t.dataPinDescription),t.dataPinId&&(t.set.dataPinId=t.dataPinId),d.f.loadImg(t),i=!0)),i},function(t,e){var i,s,a=n||d.d.URL;return i=!1,s=e.parentNode,"A"===s.tagName&&s.href&&d.f.check.source(s,!0)&&!a.match(d.a.pattern.wikipedia.page)&&(t.url||(t.url=d.v.canonicalUrl),t.media=s.href,t.set={linkedImg:!0,url:t.url},d.f.loadImg(t),i=!0),i}],meta:[function(){var t,e;return t=!1,d.v.meta.pinterest&&d.v.meta.pinterest.media&&d.f.check.source(d.v.meta.pinterest.media)&&(e={media:d.v.meta.pinterest.media,set:{metaPinterest:!0,url:d.v.meta.pinterest.url||d.v.canonicalUrl,description:d.v.meta.pinterest.description||d.d.title||void 0}},d.v.meta.pinterest.id&&(e.set.dataPinId=d.v.meta.pinterest.id),d.f.loadImg(e),t=!0),t},function(){var t,e;return d.v.meta.og&&d.v.meta.og.media&&d.f.check.source(d.v.meta.og.media)&&(e={media:d.v.meta.og.media,set:{metaOg:!0,url:d.v.meta.og.url||d.v.canonicalUrl,description:d.v.meta.og.description||d.v.meta.og.title||d.d.title||void 0}},d.f.loadImg(e),t=!0),t=!1}]},runMods:function(t,e,i){if(d.f.modifiers[t])for(var n=0;n<d.f.modifiers[t].length&&!d.f.modifiers[t][n](e,i);n+=1);},getTags:function(){var t,e,i,n,s,a,r,o,l,c;for(t in d.a.tag)if(e=d.d.getElementsByTagName(t),i=e.length)for(n=d.a.tag[t],s=0;s<i;s+=1){for("img"===t&&d.f.srcSet(e[s]),a=null,r=0;r<n.length;r+=1)(o=d.f.get(e[s],n[r]))&&(a||(a={}),a[n[r]]=o);a&&"function"==typeof d.f.tag[t]&&d.f.tag[t](e[s])&&"img"===t&&(a.sourceOrder=d.v.sourceOrder,d.v.sourceOrder=d.v.sourceOrder+1,a.src&&(a.media=a.src,delete a.src),d.f.runMods(t,a,e[s]),a.description||(l=a.media.split("/").pop(),c=l.split(".")[0],(a.title===l||a.title===c)&&(a.title=null),(a.alt===l||a.alt===c)&&(a.alt=null),a.description=a.title||a.alt||d.v.meta.pinterest.description||d.v.meta.og.description||d.v.meta.og.title||d.v.title||void 0),d.v.found.push(a))}},arrange:function(){var t,e,i,n,s,a;for(t=0,e=d.v.found.length;t<e;t+=1)a=0,i=d.v.found[t],i.dataPinDescription&&(i.description=i.dataPinDescription),!i.description&&(i.description=h),i.description=i.description.substring(0,497),497===i.description.length&&(i.description=i.description+"..."),"number"==typeof i.naturalHeight&&i.naturalHeight&&(i.height=i.naturalHeight,delete i.naturalHeight),"number"==typeof i.naturalWidth&&i.naturalWidth&&(i.width=i.naturalWidth,delete i.naturalWidth),n=parseInt(i.height),s=parseInt(i.width),s>n&&(s=n),n>3*s&&(n=3*s),a=n*s,i.isCanonical&&(a*=3),(i.dataPinId||i.pinItButton||i.dataPinMedia||i.dataPinUrl||i.metaPinterest)&&(a*=3),i.isVideo&&(a*=3),i.sourceBump&&(a*=3),s<d.a.thumbCellSize&&(a/=2,d.v.hazSet.sourceBump&&(a/=10)),i.metaOg&&e>1&&s<d.a.thumbCellSize&&(a/=100),i.sourceOrder&&(a-=100*i.sourceOrder),i.order=a;if(d.v.found.length&&!d.v.doNotSort){var r=function(t,e){return e.order-t.order};for(d.v.found.sort(r),a=d.v.found[0].order,t=1,e=d.v.found.length;t<e;t+=1)if(d.v.found[t].order<a/d.v.config.quality){d.v.found[t].halt=!0;break}}},log:function(t){},done:function(){var t,e;if(d.v.data.close)d.v.config.quiet||d.w.alert(d.v.data.close);else{for(d.f.arrange(),d.v.data.thumb=d.v.found,t=0,e=d.v.data.thumb.length;t<e;t+=1)d.v.data.thumb[t].src=d.v.data.thumb[t].media,d.v.data.thumb[t].isVideo&&(d.v.data.thumb[t].multimedia=!0);if(d.v.config.share)return d.d.b.setAttribute(d.v.config.share,JSON.stringify(d.v.data)),void(d.v.data.thumb.length||d.v.config.quiet||d.w.alert(d.v.msg.noPinnablesFound));if(d.w[d.v.config.render]&&"function"==typeof d.w[d.v.config.render])return void d.w[d.v.config.render](d.v.data);d.v.defaultBodyOverflow="","function"==typeof d.w.getComputedStyle&&"function"===d.w.getComputedStyle(d.d.b).getPropertyValue&&(d.v.defaultBodyOverflow=d.w.getComputedStyle(d.d.b).getPropertyValue("overflow")),"visible"===d.v.defaultBodyOverflow&&(d.v.defaultBodyOverflow=""),d.d.b.style.overflow="hidden",d.v.data.config=d.v.config,d.v.data.hazExtension=!0;var n=JSON.stringify(d.v.data);d.s.dark=d.f.make({IFRAME:{id:d.a.k+"_grid",src:d.a.grid,frameBorder:"0",style:{display:"block",position:"fixed",height:"100%",width:"100%",top:"0",left:"0",bottom:"0",right:"0",margin:"0",clip:"auto","z-index":"9223372036854775807"}}});var s=function(){d.d.b.style.overflow=d.v.defaultBodyOverflow,d.d.b.removeAttribute(d.a.hazPinningNow),d.f.kill(d.s.dark)},a=(new Date).getTime();d.s.dark.onload=function(){var t=(new Date).getTime()-a;d.v.receiver=d.s.dark.contentWindow,d.v.receiver.postMessage(n,d.s.dark.src),d.f.listen(d.w,"message",function(t){d.w.clearTimeout(d.v.renderFailed),"x"===t.data&&s();try{var e=JSON.parse(t.data);if("object"==typeof e&&void 0!==e.type&&void 0!==e.url&&void 0!==e.name&&void 0!==e.specs&&"sumomeShareCallback"==e.type){var n=d.w.open(e.url,e.name,e.specs);if(i)var a=0,r="object"!=typeof n||null===n,o=setInterval(function(){(r||n.closed||a++>120)&&(r&&alert("Please disable your popup blocker"),clearInterval(o),i())},500)}}catch(t){}}),this.focus()},d.f.set(d.d.b,d.a.hazPinningNow,"true"),d.d.b.appendChild(d.s.dark),d.v.renderFailed=d.w.setTimeout(function(){d.w.alert(d.v.msg.noPinnablesFound),s()},d.a.maxWait)}},setLang:function(t){t&&("object"==typeof d.a.msg[t]?(d.v.msg=d.a.msg[t],d.v.data.msg=d.v.msg):(t=t.split("-")[0],"object"==typeof d.a.msg[t]?(d.v.msg=d.a.msg[t],d.v.data.msg=d.v.msg):(d.v.msg=d.a.msg.en,d.v.data.msg=d.v.msg)))},getLang:function(){var t;(t=d.d.getElementsByTagName("HTML")[0].getAttribute("lang")||"en")&&(t=t.toLowerCase(),d.f.setLang(t))},init:function(){for(var t,e=n||d.d.URL,i=d.d.getElementsByTagName("TITLE"),s=0;s<i.length;s++)h||(h=i[s].textContent);d.d.b=d.d.getElementsByTagName("BODY")[0],
d.d.b&&(d.w.getComputedStyle||(d.w.getComputedStyle=function(){return!1}),d.f.get(d.d.b,d.a.hazPinningNow)||(d.d.d=d.d.documentElement,d.d.h=d.d.getElementsByTagName("HEAD")[0],d.v={sourceOrder:0,canonicalUrl:e,src:{},config:{pinMethod:"bookmarklet",quality:d.a.quality,favicon:d.w.location.protocol+"//"+e.split("/")[2]+"/favicon.ico",xv:d.d.b.getAttribute(d.a.xv)},hazSet:{},meta:{og:{},pinterest:{}},imgLoadingCount:0,callbackLoadingCount:0,srcDomain:{},extensionVer:d.f.get(d.d.b,"data-pinterest-extension-installed")||void 0,msg:d.a.msg.en,css:"",data:{blacklistedSource:{},thumb:[]},found:[]},d.f.getLang(),d.f.getConfig(),d.v.data.url=e,d.v.config.pinbox&&(d.v.data.pinbox=d.v.config.pinbox),d.f.check.domain(e)?(d.f.runMods("page"),d.f.getTags(),d.f.runMods("meta"),d.v.safety=d.w.setTimeout(function(){d.v.check&&d.w.clearTimeout(d.v.check),d.f.done()},d.a.maxWait),(t=function(){d.v.imgLoadingCount>0||d.v.callbackLoadingCount>0?d.v.check=d.w.setTimeout(t,100):(d.v.safety&&d.w.clearTimeout(d.v.safety),d.f.done())})()):(d.v.data.close=d.v.msg.noPinDomain,d.f.done())))}}}()};d.f.init()}(r,i,null,null,!0)},priority:97},plurk:{name:"Plurk",url:"http://www.plurk.com/m?content={URL}&qualifier=shares",width:600,height:500,background:"#CF682E",color:"#fff"},pocket:{name:"Pocket",url:"https://getpocket.com/save?url={URL}&title={TEXT}",width:520,height:315,background:"#EE4056",color:"#fff"},printfriendly:{name:"PrintFriendly.com",background:"#9ec36e",foreground:"#fff",javascript:function(){if(window.priFri)window.print();else{var t="";pfstyle="nbk",pfBkVersion="1",t=window.location.href.match(/https/)?"https://pf-cdn.printfriendly.com/ssl/main.js":"http://cdn.printfriendly.com/printfriendly.js",_pnicer_script=document.createElement("SCRIPT"),_pnicer_script.type="text/javascript",_pnicer_script.src=t+"?x="+Math.random(),document.getElementsByTagName("head")[0].appendChild(_pnicer_script)}}},printerfriendly:{name:"Printer Friendly",background:"#999",foreground:"#fff",javascript:function(){t(document).printPreview()}},reddit:{name:"Reddit",url:"http://reddit.com/submit?url={URL}&title={TEXT}",width:860,height:500,background:"#ff5700",color:"#fff",method:"json",fetch:"//buttons.reddit.com/button_info.json?url={URL}",parse:function(t){return"data"in t&&"children"in t.data&&t.data.children.length>0?parseInt(t.data.children[0].data.score):0},priority:92},slashdot:{name:"Slashdot",width:600,height:500,background:"#1A5C59",color:"#fff",javascript:function(){var t=document.body;t&&!document.xmlVersion&&(z=document.createElement("script"),z.src="https://images.slashdot.org/slashdot-submission.ssl.js",t.appendChild(z))}},sms:{name:"SMS",url:"sms:?body={TEXT}%0A%0D{URL}",width:600,height:500,background:"#0076ff",color:"#fff",priority:93},soupio:{name:"Soup",url:"",width:450,height:400,background:"#C80813",color:"#fff",javascript:function(){var t=["body","frameset","head"],e=document.location.protocol+"//www.soup.io/",i="soup_bookmarklet_"+Math.floor(1e5*Math.random());window.open(e+"bookmarklet-loading.html",i,"toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=400");try{var n=document.createElement("script");n.setAttribute("src",e+"bookmarklet/js/"+i+"/5");for(var s=0;0<t.length;0){var a=document.getElementsByTagName(t[0])[0];if(a){a.appendChild(n);break}}}catch(a){}}},stumbleupon:{name:"StumbleUpon",url:"http://www.stumbleupon.com/submit?url={URL}&title={TEXT}",width:480,height:412,background:"#eb4823",color:"#fff",priority:90},sumome:{name:"SumoMe",url:"",width:600,height:500,background:"#0f52ba",color:"#fff"},tapiture:{name:"Tapiture",url:"http://tapiture.com/widget/tap?url={IMAGE}&title={TEXT}&page_url={URL}&type=image&description=&alt={DESC}&img_title=&img_width=&img_height=",width:600,height:500,background:"#325892",color:"#fff"},techmeme:{name:"Techmeme",filterText:function(t){return function(t,e){var i,n;if(i=t.split(""),i.length>e){for(n=i.length-1;n>-1;--n)if(n>e)i.length=n;else if(" "===i[n]){i.length=n;break}i.push("...")}return i.join("")}(t,117)},url:"https://twitter.com/intent/tweet?url={URL}&text=tip+@techmeme:+{TEXT}",width:600,height:445,background:"#1E4B62",color:"#fff"},tinyurl:{name:"TinyURL",url:"http://tinyurl.com/create.php?url={URL}",width:800,height:660,background:"#009",color:"#fff"},tumblr:{name:"Tumblr",url:"http://www.tumblr.com/share?v=3&u={URL}&t={TEXT}",width:450,height:450,background:"#2c4762",color:"#fff",priority:88},twitter:{name:"Twitter",filterText:function(t){return function(t,e){var i,n;if(i=t.split(""),i.length>e){for(n=i.length-1;n>-1;--n)if(n>e)i.length=n;else if(" "===i[n]){i.length=n;break}i.push("…")}return i.join("")}(t,117)},url:"https://twitter.com/intent/tweet?url={URL}&text={TEXT}&via={VIA}&related={RELATED}",width:600,height:445,background:"#00aced",color:"#fff",params:{via:{label:"Twitter @username",desc:"Twitter screen name to append to tweets with the via attribute. Do not include @ symbol."},related:{label:"Suggested accounts",desc:"Comma separated list of Twitter accounts to suggest following. Do not include @ symbol or spaces."}},priority:98},typepadpost:{name:"Typepad",url:"http://www.typepad.com/services/quickpost/post?v=2&qp_show=ac&qp_title={TEXT}&qp_href={URL}&qp_text={DESC}",width:585,height:735,background:"#7A9B5D",color:"#fff"},viadeo:{name:"Viadeo",url:"http://www.viadeo.com/shareit/share/?url={URL}",width:600,height:600,background:"#E46123",color:"#fff"},vk:{name:"VKontakte",url:"http://vk.com/share.php?url={URL}&title={TEXT}",width:660,height:500,background:"#4D76A1",color:"#fff"},wanelo:{name:"Wanelo",width:600,height:500,background:"#518653",color:"#fff",javascript:function(){function t(){window.waneloBookmarklet()}if(window.waneloBookmarklet)t();else{var e=encodeURIComponent(location.href),i=Math.floor(1e3*Math.random()),n=document.createElement("script");n.setAttribute("src","//wanelo.com/bookmarklet/3/setup?*="+i+"&url="+e),n.onload=t,n.setAttribute("type","text/javascript"),document.getElementsByTagName("head")[0].appendChild(n)}}},weheartit:{name:"We Heart It",url:"http://weheartit.com/heart-it/new_entry?encoding=utf-8&popup=1&hearting_method=heart_it_button&image_url={IMAGE}&source_url={URL}",width:700,height:500,background:"#FD6B9C",color:"#fff"},whatsapp:{name:"WhatsApp",url:"whatsapp://send?text={TEXT}%20{URL}",width:600,height:500,background:"#1d9e11",color:"#fff",priority:94},wordpressblog:{name:"Wordpress Blog",url:"https://sumo.com/apps/share/wordpress?u={URL}&t={TEXT}&s={DESC}&i={IMAGE}",width:600,height:350,background:"#000",color:"#fff"},wykop:{name:"Wykop",url:"http://www.wykop.pl/dodaj/link/?url={URL}&title={TEXT}&desc={DESC}",width:600,height:500,background:"#4684AD",color:"#fff"},xing:{name:"XING",url:"https://www.xing.com/spi/shares/new?url={URL}",width:600,height:600,background:"#006567",color:"#fff"},yahoomail:{name:"Yahoo! Mail",url:"http://compose.mail.yahoo.com/?subject={TEXT}&body={URL}",width:1160,height:690,background:"#2E147B",color:"#fff"},yammer:{name:"Yammer",url:"https://www.yammer.com/messages/new?login=true&trk_event=yammer_share&status={TEXT} {URL}",width:600,height:350,background:"#1074C3",color:"#fff"},ychackernews:{name:"YC Hacker News",url:"https://news.ycombinator.com/submitlink?u={URL}&t={TEXT}",width:600,height:335,background:"#FC6620",color:"#fff"},yummly:{name:"Yummly",url:"http://www.yummly.com/urb/verify?url={URL}&title={TEXT}&image={IMAGE}",width:600,height:500,background:"#e0601f",color:"#fff",fetch:"//www.yummly.com/services/yum-count?url={URL}",parse:function(t){if("count"in t)return parseInt(t.count);if("error"in t)throw new Error(t.error);return 0},priority:87}},t.shareSortedKeys=Object.keys(t.shareServices);var e=function(e,i){var n="priority"in t.shareServices[e]?t.shareServices[e].priority:0,s="priority"in t.shareServices[i]?t.shareServices[i].priority:0,a=s-n;return 0==a?e<i?-1:1:a};t.shareSortedKeys.sort(e),t.shareShortUrls={},t.share=function(e,i,n){var s=i.url||window.location.href.split("#")[0],a=i.text||t('meta[property="og:title"]').eq(0).attr("content")||t("title").eq(0).text()||document.title,n=n||null,r=t('meta[property="og:image"]').eq(0).attr("content")||t('link[rel="image_src"]').eq(0).attr("href")||"",o=i.noSumoBranding;if("twitter"===e&&t('meta[name="twitter:image"]').length&&(r=t('meta[name="twitter:image"]').eq(0).attr("content")),""==r){var l=0,c=null;t("img").each(function(){var e=t(this).width(),i=t(this).height(),n=1;if(e&&i){n=e>=i?i/e:e/i;var s=e*i*n;s>l&&(l=s,c=t(this))}}),null!=c&&(r=c.get(0).src||"")}var e=e.toLowerCase();if(e in t.shareServices)if("javascript"in t.shareServices[e])if("shortenUrl"in i&&"shortener"in i&&i.shortenUrl&&"pinterest"!=e){var h=i.shortener+":"+s;h in t.shareShortUrls?(s=t.shareShortUrls[h],t.shareServices[e].javascript(s,a,null,r,function(){n&&n(e,s)})):t.ajax({type:"POST",dataType:"json",url:i.sumoUrl+"/apps/share/shorten",data:{site_id:i.siteId,href:s},xhrFields:{withCredentials:!1},crossDomain:!0}).done(function(o){"success"in o&&o.success&&(t.shareShortUrls[h]=o.url,s=o.url,t.extend(i,o)),t.shareServices[e].javascript(s,a,null,r,function(){n&&n(e,s)})})}else if("pinterest"===e){var u=(document.getElementsByTagName("HTML")[0].getAttribute("lang")||"en").toLowerCase(),d={};t.ajax({type:"POST",dataType:"json",url:i.sumoUrl+"/apps/share/pinterest/messages",data:{site_id:i.siteId,language:u},xhrFields:{withCredentials:!1},crossDomain:!0}).done(function(o){void 0!==o.success&&o.success&&void 0!==o.messages?d[u]=o.messages:d[u]={noPinDomain:"Sorry, pinning is not allowed from this domain. Please contact the site operator if you have any questions.",noPinMeta:"Sorry, pinning is not allowed from this page. Please contact the site operator if you have any questions.",noPinnablesFound:"Sorry, couldn't find any pinnable things on this page.",noPinningFromPinterest:"Oops! That button doesn't work on Pinterest. Try using the red Pin It button at the top of any Pin.",choosePin:"Choose a Pin to save"},t.shareServices[e].javascript(i.sumoUrl,d,s,a,null,r,function(){n&&n(e,s)})})}else t.shareServices[e].javascript(s,a,null,r,function(){n&&n(e,s)});else{var p=t.shareServices[e].url,m=t.shareServices[e].width,f=t.shareServices[e].height,g="sumomeShare-"+4294967296*Math.random();if(p){var v=["pinterest","reddit","stumbleupon","yummly"];if("shortenUrl"in i&&"shortener"in i&&i.shortenUrl&&v.indexOf(e)<0){var h=i.shortener+":"+s;h in t.shareShortUrls?(s=t.shareShortUrls[h],t.shareWindow(e,i,p,a,s,r,o,g,n)):("http"==p.toLowerCase().substring(0,4)&&window.open("facebook"==e?"":i.sumoUrl+"/apps/share/loading",g,"height="+f+",width="+m+",location=0,menubar=0,status=0,titlebar=0,toolbar=0"),t.ajax({type:"POST",dataType:"json",url:i.sumoUrl+"/apps/share/shorten",data:{site_id:i.siteId,href:s},xhrFields:{withCredentials:!1},crossDomain:!0}).done(function(l){"success"in l&&l.success&&(t.shareShortUrls[h]=l.url,s=l.url,t.extend(i,l)),t.shareWindow(e,i,p,a,s,r,o,g,n)}))}else t.shareWindow(e,i,p,a,s,r,o,g,n)}}},t.shareWindow=function(e,i,n,s,a,r,o,l,c){if("filterText"in t.shareServices[e]&&(s=t.shareServices[e].filterText(s)),n=n.replace(/{URL}/g,encodeURIComponent(a)),n=n.replace("{TEXT}",encodeURIComponent(s)),n=n.replace("{DESC}",""),n=n.replace("{IMAGE}",encodeURIComponent(r)),n=n.replace("{PROMO}",o?"":"%0A%0A%0AShared%20by%20Sumo%20%28%20http%3A%2F%2Fsumo.com%2F%20%29"),"params"in t.shareServices[e])for(var h in t.shareServices[e].params)if(h in i&&i[h])n=n.replace("{"+h.toUpperCase()+"}",encodeURIComponent(i[h]));else if("twitter"!==e||"via"!==h&&"related"!==h||!t('meta[name="twitter:site"]').length&&!t('meta[name="twitter:creator"]').length)n=n.replace("&"+h+"={"+h.toUpperCase()+"}","");else{var u=t('meta[name="twitter:site"]').eq(0).attr("content")||"",d=t('meta[name="twitter:creator"]').eq(0).attr("content")||"",p=u&&d&&u!==d,m;"@"===u.substr(0,1)&&(u=u.substr(1)),"@"===d.substr(0,1)&&(d=d.substr(1)),m="via"===h?p?u+" @"+d:u||d:p?u+","+d:d||u,n=n.replace("{"+h.toUpperCase()+"}",encodeURIComponent(m))}if("sms:?"==n.toLowerCase().substring(0,5)&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&(n=n.replace(/sms:(\+?([0-9]*))?\?/,"sms:$1&")),"http"!=n.toLowerCase().substring(0,4)){var f=document.createElement("a");if(f.href=n,document.body.appendChild(f),"FastClick"in window&&window.FastClick)window.location.href=n;else if(f.click)f.click();else if(document.createEvent){var g=document.createEvent("MouseEvents");g.initMouseEvent("click",!0,!0,window),f.dispatchEvent(g)}document.body.removeChild(f),c&&c(e,a)}else{var v=t.shareServices[e].width,b=t.shareServices[e].height,_=window.open(n,l,"height="+b+",width="+v+",location=0,menubar=0,status=0,titlebar=0,toolbar=0");if(c)var y=0,w=setInterval(function(){(_.closed||y++>120)&&(clearInterval(w),c(e,a))},500)}},t.shareFetch=function(e,i,n){var n=n||null,i=i||window.location.href.split("#")[0];"function"==typeof i&&(n=i,i=window.location.href.split("#")[0]);var e=e.toLowerCase();if(e in t.shareServices&&"fetch"in t.shareServices[e]&&"parse"in t.shareServices[e])try{var s="jsonp";if("method"in t.shareServices[e]&&(s=t.shareServices[e].method),"json"==s)t.ajax({type:"GET",url:t.shareServices[e].fetch.replace("{URL}",encodeURIComponent(i)),jsonp:"jsonp",dataType:"jsonp",cache:!1,success:function(s){try{var a=t.shareServices[e].parse(s);null!==n&&n(null,i,a)}catch(t){null!==n&&n(t)}},error:function(t){null!==n&&n(t)}});else{if("jsonproxy"==s)return n(null,i,0);if("jsonp"==s)t.ajax({type:"GET",url:t.shareServices[e].fetch.replace("{URL}",encodeURIComponent(i)),contentType:"application/json",dataType:"jsonp",cache:!1,success:function(s){try{var a=t.shareServices[e].parse(s);null!==n&&n(null,i,a)}catch(t){null!==n&&n(t)}},error:function(t){null!==n&&n(t)}});else if("googleplus"==s)t.ajax({type:"POST",url:t.shareServices[e].fetch.replace("{URL}",encodeURIComponent(i)),contentType:"application/json",cache:!1,data:JSON.stringify({method:"pos.plusones.get",id:"p",params:{nolog:!0,id:i,source:"widget",userId:"@viewer",groupId:"@self"},jsonrpc:"2.0",key:"p",apiVersion:"v1"}),success:function(s){try{var a=t.shareServices[e].parse(s);null!==n&&n(null,i,a)}catch(t){null!==n&&n(t)}},error:function(t){null!==n&&n(t)}});else if("linkedin"==s){for(var a="linkedinjsonpcallback",r=0;r<6;r++)a+=String.fromCharCode(Math.floor(26*Math.random())+97);t.ajax({type:"GET",url:t.shareServices[e].fetch.replace("{URL}",encodeURIComponent(i)),contentType:"application/json",dataType:"jsonp",jsonpCallback:a,cache:!1,success:function(s){try{var a=t.shareServices[e].parse(s);null!==n&&n(null,i,a)}catch(t){null!==n&&n(t)}},error:function(t){null!==n&&n(t)}})}}}catch(t){null!==n&&n(t)}else null!==n&&n(new Error("Invalid service"))}}),sumo.define("insQ",[],function(){return function(){"use strict";function t(t,e){var n,s="insQ_"+r++,a=function(t){t.animationName!==s&&t[l]!==s||i(t.target)||e(t.target)};n=document.createElement("style"),n.innerHTML="@"+c+"keyframes "+s+" {  from {  outline: 1px solid transparent  } to {  outline: 0px solid transparent }  }\n"+t+" { animation-duration: 0.001s; animation-name: "+s+"; "+c+"animation-duration: 0.001s; "+c+"animation-name: "+s+";  } ",document.head.appendChild(n);var o=setTimeout(function(){document.addEventListener("animationstart",a,!1),document.addEventListener("MSAnimationStart",a,!1),document.addEventListener("webkitAnimationStart",a,!1)},p.timeout);return{destroy:function(){clearTimeout(o),n&&(document.head.removeChild(n),n=null),document.removeEventListener("animationstart",a),document.removeEventListener("MSAnimationStart",a),document.removeEventListener("webkitAnimationStart",a)}}}function e(t){t.QinsQ=!0}function i(t){return p.strictlyNew&&!0===t.QinsQ}function n(t){var e=t.parentNode;return e?i(e)?t:n(e):t}function s(t){for(e(t),t=t.firstChild;t;t=t.nextSibling)void 0!==t&&1===t.nodeType&&s(t)}function a(a,r){var o=[],l=function(){var t;return function(){clearTimeout(t),t=setTimeout(function(){o.forEach(s),r(o),o=[]},10)}}();return t(a,function(t){if(!i(t)){e(t);var s=n(t);o.indexOf(s)<0&&o.push(s),l()}})}var r=100,o=!1,l="animationName",c="",h="Webkit Moz O ms Khtml".split(" "),u="",d=document.createElement("div"),p={strictlyNew:!0,timeout:20};if(d.style.animationName&&(o=!0),!1===o)for(var m=0;m<h.length;m++)if(void 0!==d.style[h[m]+"AnimationName"]){u=h[m],l=u+"AnimationName",c="-"+u.toLowerCase()+"-",o=!0;break}var f=function(e){return!(!o||!e.match(/[^{}]/))&&(p.strictlyNew&&s(document.body),{every:function(i){return t(e,i)},summary:function(t){return a(e,t)}})};return f.config=function(t){for(var e in t)t.hasOwnProperty(e)&&(p[e]=t[e])},f}()}),sumo.define("debounce",["jquery"],function(t){"$:nomunge";var e;t.throttle=e=function(e,i,n,s){function a(){function t(){o=+new Date,n.apply(l,h)}function a(){r=void 0}var l=this,c=+new Date-o,h=arguments;s&&!r&&t(),r&&clearTimeout(r),void 0===s&&c>e?t():!0!==i&&(r=setTimeout(s?a:t,void 0===s?e-c:e))}var r,o=0;return"boolean"!=typeof i&&(s=n,n=i,i=void 0),t.guid&&(a.guid=n.guid=n.guid||t.guid++),a},t.debounce=function(t,i,n){return void 0===n?e(t,i,!1):e(t,n,!1!==i)}}),sumo.define("jquery.styleBuffer",["jquery","insQ","jquery.style","debounce"],function(t,e){t.expr[":"].notonpage=t.expr.createPseudo(function(e){return function(e){if("hidden"==t(e).css("visibility")||0==t(e).css("opacity")||"none"==t(e).css("display")||t(e).offset().top>=t(window).height()||t(e).offset().right<=0||t(e).offset().left>=t(window).width()||t(e).offset().left<=-t(e).width()||t(e).offset().bottom<=0)return!0;var i=t(e).parent();return!!i&&i.is(":notonpage")}}),t.fn.removeStyleBuffer=function(e,i){var n=this;return n.each(function(){var n=t(this).data(e+"-buffer-"+i),s=t(this).data(e+"-buffer-"+i+"-priority");t(this).style(e+"-"+i,void 0==n?"":n,void 0==s?"":s)}),t.each(t.fn.styleBuffer._groups,function(t,e){e.elements=e.elements.not(n)}),this},t.fn.styleBufferPage=function(e){var e=e||t("*"),i=t("[data-sumome-stylebuffer-page]"),n=i.length*t(window).height();return i.length>0?($fixed=e.not(i).not("body, html").filter(function(){if(t(this).is("[data-sumome-stylebuffer-page-fixed], #sumome-modal-mask, .sumome-control, .sumome-dialog-popup, .sumome-dialog-popup-overlay, .sumome-blockui, .sumome-block-overlay, .sumome-sp-container"))return!1;var e=t(this).css("position");if("fixed"===e)return!0;if("absolute"!==e)return!1;var i=t(this).parents().filter(function(e,i){return!t(i).is("body,html")&&["relative","fixed","absolute"].indexOf(t(i).css("position"))>=0});if(!i||!i.length)return!0;if(t(this).parents("[data-sumome-stylebuffer-page]").length>0)return!1;if(!t(this).parent().is("body,html"))return!1;var s=t(this).position().top;return s<=n&&s>-2e3}),$fixed.each(function(){t(this).attr("data-sumome-stylebuffer-page-fixed",!0);for(var e=["","-webkit","-ms","-moz","-o"],i=0;i<e.length;i++){var n=e[i];t(this).data("sumome-stylebuffer-original"+n+"-transform",t(this).style(n+(n?"-":"")+"transform")),t(this).data("sumome-stylebuffer-original"+n+"-transform-priority",t(this).style().getPropertyPriority(n+(n?"-":"")+"transform")),t(this).data("sumome-stylebuffer-original"+n+"-transition-duration",t(this).style(n+(n?"-":"")+"transition-duration")),t(this).data("sumome-stylebuffer-original"+n+"-transition-duration-priority",t(this).style().getPropertyPriority(n+(n?"-":"")+"transition-duration")),t(this).data("sumome-stylebuffer-original"+n+"-animation-fill-mode",t(this).style(n+(n?"-":"")+"animation-fill-mode")),t(this).data("sumome-stylebuffer-original"+n+"-animation-fill-mode-priority",t(this).style().getPropertyPriority(n+(n?"-":"")+"animation-fill-mode")),t(this).data("sumome-stylebuffer-original"+n+"-animation-duration",t(this).style(n+(n?"-":"")+"animation-duration")),t(this).data("sumome-stylebuffer-original"+n+"-animation-duration-priority",t(this).style().getPropertyPriority(n+(n?"-":"")+"animation-duration"))}for(var i=0;i<e.length;i++){var n=e[i];t(this).style(n+(n?"-":"")+"transition-duration","0s","important"),t(this).style(n+(n?"-":"")+"transform","scale(0,0)","important"),t(this).style(n+(n?"-":"")+"animation-fill-mode","none","important"),t(this).style(n+(n?"-":"")+"animation-duration","0s","important")}t(this).is("iframe")&&(t(this).data("sumome-stylebuffer-original-display",t(this).style("display")),t(this).data("sumome-stylebuffer-original-display-priority",t(this).style().getPropertyPriority("display")),t(this).style("display","none","important"))})):t("[data-sumome-stylebuffer-page-fixed]").each(function(){for(var e=["","-webkit","-ms","-moz","-o"],i=0;i<e.length;i++){var n=e[i];t(this).style(n+(n?"-":"")+"transform",t(this).data("sumome-stylebuffer-original"+n+"-transform"),t(this).data("sumome-stylebuffer-original"+n+"-transform-priority")),t(this).style(n+(n?"-":"")+"animation-fill-mode",t(this).data("sumome-stylebuffer-original"+n+"-animation-fill-mode"),t(this).data("sumome-stylebuffer-original"+n+"-animation-fill-mode-priority")),t(this).style(n+(n?"-":"")+"animation-duration",t(this).data("sumome-stylebuffer-original"+n+"-animation-duration"),t(this).data("sumome-stylebuffer-original"+n+"-animation-duration-priority")),setTimeout(t.proxy(function(){t(this).style(n+(n?"-":"")+"transition-duration",t(this).data("sumome-stylebuffer-original"+n+"-transition-duration"),t(this).data("sumome-stylebuffer-original"+n+"-transition-duration-priority"))},this),0)}t(this).is("iframe")&&t(this).style("display",t(this).data("sumome-stylebuffer-original-display"),t(this).data("sumome-stylebuffer-original-display-priority")),t(this).removeAttr("data-sumome-stylebuffer-page-fixed")}),i},t.fn.styleBufferTop=function(e){e?t.fn.styleBufferTop._debounceInit(e):t.fn.styleBufferTop._init(e)},t.fn.styleBufferTop._init=function(e){function i(){var e=document.getElementById("sumome-smartbar-popup");if(e){var i=e.getBoundingClientRect(),n=i.height;i.bottom>0&&(n=i.height-i.bottom),t.fn.styleBufferTop.stackedElements.each(function(e,i){t(i).css("marginTop",t(i).data("sumome-stylebuffertop-original-margin")-n)}),t.fn.styleBufferTop.oldTopElements.each(function(e,i){t(i).css("position",t(i).data("sumome-stylebuffertop-original-position")),t(i).css("top",t(i).data("sumome-stylebuffertop-original-top")-n)})}}var n=t.fn.styleBufferPage(),s=n.length*t(window).height();if(e)var a=t("[data-sumome-stylebuffer-top]");else var a=t("[data-sumome-stylebuffer-top],[data-sumome-stylebuffer-top-stash]");var r=0;a.sort(function(e,i){return e=t(e).data("sumome-stylebuffer-top"),i=t(i).data("sumome-stylebuffer-top"),e<i?-1:e>i?1:0}),t.fn.styleBufferTop._groups=[];var o=t("body"),l=t("#sumome-smartbar-popup[data-sumome-stylebuffer-top]"),c=0,h=!1;if(t.fn.styleBufferTop.stackedElements=t(a).not("#sumome-smartbar-popup"),l&&l.data("sumome-smartbar-config")&&(c=l.outerHeight(),h=l.data("sumome-smartbar-config").show_type),t(a).each(function(e,i){t.fn.styleBuffer._apply(t(i),"margin","top",r,!0),t.fn.styleBufferTop._groups.push({elements:t(i),prop:"margin",side:"top",px:r,force:!0}),void 0===t(i).data("sumome-stylebuffertop-original-margin")&&t(i).data("sumome-stylebuffertop-original-margin",r),r+=t(i).height()}),void 0===o.data("sumome-stylebuffertop-original-margintop")?(void 0===o.data("sumome-welcomemat-original-padding-top")?o.data("sumome-stylebuffertop-original-paddingtop",parseInt(o.css("paddingTop"))):o.data("sumome-stylebuffertop-original-paddingtop",parseInt(o.data("sumome-welcomemat-original-padding-top"))),o.data("sumome-stylebuffertop-original-margintop",parseInt(o.css("marginTop")))):(o.css("marginTop",o.data("sumome-stylebuffertop-original-margintop")),o.css("paddingTop",o.data("sumome-stylebuffertop-original-paddingtop")+"px !important")),t.fn.styleBufferTop.oldTopElements&&t.fn.styleBufferTop.oldTopElements.length&&t.fn.styleBufferTop.oldTopElements.each(function(e,i){if(t(i).data("sumome-stylebuffertop-original-offset")){var n=t(i).data("sumome-stylebuffertop-has-inline").top,s=t(i).data("sumome-stylebuffertop-has-inline").bottom,a=t(i).data("sumome-stylebuffertop-has-inline").left,r=t(i).data("sumome-stylebuffertop-has-inline").right,o=t(i).data("sumome-stylebuffertop-has-inline").position,l=t(i).style("right"),c=t(i).position().right,h=t(i).data("sumome-stylebuffertop-original-offset").right,u=t(i).style("left"),d=t(i).position().left,p=t(i).data("sumome-stylebuffertop-original-offset").left;t(i).style("top",t(i).data("sumome-stylebuffertop-original-offset").top),t(i).style("bottom",t(i).data("sumome-stylebuffertop-original-offset").bottom),l!==h&&c>0&&t(i).style("right",h),parseInt(p)>-2e3&&u!==p&&d<t(window).width()&&t(i).style("left",p),n||(t(i)[0].style.top=""),r||(t(i)[0].style.right=""),a||(t(i)[0].style.left=""),s||(t(i)[0].style.bottom=""),o||(t(i)[0].style.position="")}else t(i).style("top","0px")}),!e){!1===t.fn.styleBufferTop.classFixedElements&&(t.fn.styleBufferTop.classFixedElements=t(".fixed").not(a).length);var u=[".sumome-control",".sumome-dialog-popup",".sumome-dialog-popup-overlay",".sumome-image-sharer",".sumome-contactform-left-page-hidden",".sumome-contactform-right-page-hidden"];t.fn.styleBufferTop.oldTopElements=t("*").not(a).not(n).filter(function(e,i){var n=["absolute","fixed"].indexOf(t(i).css("position"))>=0&&t(i).position().top<r&&t(i).position().top>-2e3&&t(i).height()+t(i).position().top>0&&"sumome-modal-mask"!=t(i).attr("id")&&!t(i).is(u.join(","))&&!t(i).parent().is("#parallax-images");if(n&&void 0===t(i).data("sumome-stylebuffertop-original-position")){t(i).data("sumome-stylebuffertop-original-position",t(i).css("position"));var s={top:""!==t(i)[0].style.top,left:""!==t(i)[0].style.left,right:""!==t(i)[0].style.right,bottom:""!==t(i)[0].style.bottom,position:""!==t(i)[0].style.position},a={top:t(i).css("top"),left:t(i).css("left"),bottom:t(i).css("bottom"),right:t(i).css("right")};"auto"!=a.bottom&&parseFloat(a.bottom)>0&&(a.bottom=parseFloat(a.bottom)-r+"px"),t(i).data("sumome-stylebuffertop-original-offset",a),t(i).data("sumome-stylebuffertop-has-inline",s)}return n}),t.fn.styleBufferTop.oldTopElements=t.fn.styleBufferTop.oldTopElements.filter(function(e,i){if("fixed"==t(i).css("position"))return!0;var n=t(i).parents().filter(function(e,i){return!t(i).is("body,html")&&["relative","fixed","absolute"].indexOf(t(i).css("position"))>=0});return!(n&&n.length)}),t.fn.styleBufferTop.bumpDownElements=t.fn.styleBufferTop.oldTopElements.filter(function(e,i){var n=!1;return"fixed"==t(i).css("position")||(t(i).parents().each(function(e,i){if(!t(i).is("body,html")&&["relative","absolute"].indexOf(t(i).css("position"))>=0)return n=!0,!1}),!n)}),t.fn.styleBufferTop.changePositionElements=t.fn.styleBufferTop.bumpDownElements.filter(function(e,i){var n=!1;return"fixed"==t(i).css("position")&&(t(i).parents().each(function(e,i){if(!t(i).is("body,html")&&["relative","absolute","fixed"].indexOf(t(i).css("position"))>=0)return n=!0,!1}),n&&t(i).data("sumome-stylebuffertop-offset",{top:t(i).offset().top-t(window).scrollTop(),left:t(i).offset().left-t(window).scrollLeft()}),n)})}"smart"==h&&(t.fn.styleBufferTop.oldTopElements.addClass("sumome-smartbar-fixedTopSmart"),t(a).not("#sumome-smartbar-popup").style("transition","margin-top .2s ease-in-out"),o.style("transition","margin-top .2s ease-in-out")),"static"==h?(t.fn.styleBufferTop.bumpDownElements&&t.fn.styleBufferTop.bumpDownElements.length&&(t.fn.styleBufferTop.bumpDownElements.each(function(e,i){var n=!1;if(t.inArray(i,t.fn.styleBufferTop.changePositionElements)>=0){n=!0;var s=t(i).offset()}t(i).style("position","absolute"),n?(t(i).data("sumome-smartbar-new-offset",{top:c+s.top-t(i).offset().top,left:s.left-t(i).offset().left}),t(i).style("top",t(i).data("sumome-smartbar-new-offset").top+"px"),t(i).data("sumome-smartbar-new-offset").left!==parseInt(t(i).data("sumome-stylebuffertop-original-offset").left)&&parseInt(t(i).data("sumome-stylebuffertop-original-offset").left)>t(window).width()&&t(i).style("left",t(i).data("sumome-smartbar-new-offset").left+"px")):t(i).style("top",r+"px"),t(i).data("sumome-stylebuffertop-original-top",r)}),t.fn.styleBufferTop.oldTopElements.each(function(e,i){t(i).css("position",t(i).data("sumome-stylebuffertop-original-position"))})),t(window).scroll(i),i()):(t.fn.styleBufferTop.oldTopElements&&t.fn.styleBufferTop.oldTopElements.length&&t.fn.styleBufferTop.oldTopElements.each(function(e,i){t(i).data("sumome-stylebuffertop-original-offset")&&("auto"==t(i).data("sumome-stylebuffertop-original-offset").top||t(i).style("top",r+parseFloat(t(i).data("sumome-stylebuffertop-original-offset").top)+"px"))}),"fixed"==h&&t(window).scroll(function(){var e=60,i=t(window).scrollTop();t.fn.styleBufferTop.classFixedElements!==t.fn.styleBufferTop.classFixedElementsScroll&&(i>=60&&!1===t.fn.styleBufferTop.classFixedElementsScroll?t.fn.styleBufferTop.classFixedElementsScroll=t(".fixed").not(a).length:i>=60&&!t.fn.styleBufferTop.checkScrollDown?(t.fn.styleBufferTop.checkScrollDown=!0,t.fn.styleBufferTop.checkScrollUp=!1,t("body").styleBufferTop()):i<60&&!t.fn.styleBufferTop.checkScrollUp&&(t.fn.styleBufferTop.checkScrollDown=!1,t.fn.styleBufferTop.checkScrollUp=!0,t("body").styleBufferTop()))}));var l=t("#sumome-smartbar-popup");if(l&&l.data("sumome-smartbar-config")&&"smart"==l.data("sumome-smartbar-config").show_type&&(r=0,t("[data-sumome-stylebuffer-top],[data-sumome-stylebuffer-top-stash]").each(function(){r+=t(this).outerHeight()})),t.fn.styleBufferTop.totalOffset=r,r+=o.data("sumome-stylebuffertop-original-paddingtop")+o.data("sumome-stylebuffertop-original-margintop"),r+s!==0?(t.fn.styleBuffer._apply(o,"padding","top",r+s,!0,"important"),t.fn.styleBuffer._apply(o,"margin","top",0,!0,"important"),t.fn.styleBufferTop._groups.push({elements:o,prop:"padding",side:"top",px:r+s,force:!0,priority:"important"}),t.fn.styleBufferTop._groups.push({elements:o,prop:"margin",side:"top",px:0,force:!0,priority:"important"})):(o.removeStyleBuffer("padding","top"),o.removeStyleBuffer("margin","top")),"bugfix"!=o.css("-webkit-animation-name")&&"androidbugfix"!=o.css("-webkit-animation-name")||(t("[data-sumome-stylebuffertop-bugfix]").length&&t("[data-sumome-stylebuffertop-bugfix]").remove(),o.append("<style data-sumome-stylebuffertop-bugfix>@-webkit-keyframes sumome-bugfix { from { fill: 0; } to { fill: 0; } }</style>"),o.css("-webkit-animation","sumome-bugfix infinite 1s")),void 0===o.data("sumome-stylebuffertop-original-bgposition")&&(o.data("sumome-stylebuffertop-original-bgposition",o.css("backgroundPosition")),o.data("sumome-stylebuffertop-original-bgpositiony",o.css("backgroundPositionY")),o.data("sumome-stylebuffertop-original-bgrepeat",o.css("backgroundRepeat"))),("50% 0%"==o.data("sumome-stylebuffertop-original-bgposition")&&"no-repeat"==o.data("sumome-stylebuffertop-original-bgrepeat")||"0% 0%"==o.data("sumome-stylebuffertop-original-bgposition")&&"repeat-x"==o.data("sumome-stylebuffertop-original-bgrepeat"))&&o.css("backgroundPositionY",r),/^50% [0-9]+px, 0% [0-9]+px$/.test(o.data("sumome-stylebuffertop-original-bgposition"))&&/^no-repeat/.test(o.data("sumome-stylebuffertop-original-bgrepeat"))){var d=o.data("sumome-stylebuffertop-original-bgpositiony").split(", ");o.css("backgroundPositionY",parseInt(d[0])+r+"px, "+(parseInt(d[1])+r)+"px")}return this},t.fn.styleBufferTop._debounceInit=t.debounce(150,!0,function(e){t.fn.styleBufferTop._init(e)}),t.fn.styleBufferBottom=function(e){e?t.fn.styleBufferBottom._debounceInit(e):t.fn.styleBufferBottom._init(e)},t.fn.styleBufferBottom._init=function(e){var i=t("[data-sumome-stylebuffer-page]");if(e)var n=t("[data-sumome-stylebuffer-bottom]");else var n=t("[data-sumome-stylebuffer-bottom],[data-sumome-stylebuffer-bottom-stash]");var s=0;n.sort(function(e,i){return e=t(e).data("sumome-stylebuffer-bottom"),i=t(i).data("sumome-stylebuffer-bottom"),e<i?-1:e>i?1:0}),t.fn.styleBufferBottom._groups=[];var a=t("body"),r=t("#sumome-smartbar-popup[data-sumome-stylebuffer-bottom]"),o=0,l=!1;if(t.fn.styleBufferBottom.stackedElements=t(n).not("#sumome-smartbar-popup"),r&&r.data("sumome-smartbar-config")&&(o=r.outerHeight(),l=r.data("sumome-smartbar-config").show_type),
t(n).each(function(e,i){t(i).data("sumome-stylebufferbottom-offsety")&&(s+=t(i).data("sumome-stylebufferbottom-offsety")),t.fn.styleBuffer._apply(t(i),"top","top","auto",!0),t.fn.styleBuffer._apply(t(i),"bottom","bottom",s,!0),t.fn.styleBufferBottom._groups.push({elements:t(i),prop:"top",side:"top",px:"auto",force:!0}),t.fn.styleBufferBottom._groups.push({elements:t(i),prop:"bottom",side:"bottom",px:s,force:!0}),void 0===t(i).data("sumome-stylebufferbottom-original-bottom")&&t(i).data("sumome-stylebufferbottom-original-bottom",s),s+=t(i).height()}),void 0===a.data("sumome-stylebufferbottom-original-marginbottom")?(a.data("sumome-stylebufferbottom-original-marginbottom",parseInt(a.css("marginBottom"))),a.data("sumome-stylebufferbottom-original-paddingbottom",parseInt(a.css("paddingBottom")))):(a.css("marginBottom",a.data("sumome-stylebufferbottom-original-marginbottom")),a.css("paddingBottom",a.data("sumome-stylebufferbottom-original-paddingbottom"))),t.fn.styleBufferBottom.oldBottomElements&&t.fn.styleBufferBottom.oldBottomElements.length&&t.fn.styleBufferBottom.oldBottomElements.each(function(e,i){if(t(i).data("sumome-stylebufferbottom-original-offset")){var n=t(i).data("sumome-stylebufferbottom-has-inline").top,s=t(i).data("sumome-stylebufferbottom-has-inline").bottom,a=t(i).data("sumome-stylebufferbottom-has-inline").left,r=t(i).data("sumome-stylebufferbottom-has-inline").right,o=t(i).data("sumome-stylebufferbottom-has-inline").position;t(i).style("position",t(i).data("sumome-stylebufferbottom-original-position")),t(i).style("top",t(i).data("sumome-stylebufferbottom-original-offset").top),t(i).style("bottom",t(i).data("sumome-stylebufferbottom-original-offset").bottom),t(i).style("left",t(i).data("sumome-stylebufferbottom-original-offset").left),t(i).style("right",t(i).data("sumome-stylebufferbottom-original-offset").right),n||(t(i)[0].style.top=""),r||(t(i)[0].style.right=""),a||(t(i)[0].style.left=""),s||(t(i)[0].style.bottom=""),o||(t(i)[0].style.position="")}else t(i).style("bottom","0px")}),!e){var c=["#sumome-modal-mask",".sumome-control",".sumome-dialog-popup",".sumome-dialog-popup-overlay"],h=["sumome-react-form-tab-bottom-left","sumome-react-form-tab-bottom-center","sumome-react-form-tab-bottom-right"];t.fn.styleBufferBottom.oldBottomElements=t("*").not(n).not(i).filter(function(e,i){var n=["absolute","fixed"].indexOf(t(i).css("position"))>=0&&parseInt(t(i).css("bottom"))<s&&!t(i).is(c.join(","));return t(i).is(h.join(","))&&(n=!0),n&&void 0===t(i).data("sumome-stylebufferbottom-original-position")&&(t(i).data("sumome-stylebufferbottom-original-position",t(i).css("position")),t(i).data("sumome-stylebufferbottom-original-offset",{top:t(i).css("top"),left:t(i).css("left"),bottom:t(i).css("bottom"),right:t(i).css("right")}),t(i).data("sumome-stylebufferbottom-has-inline",{top:""!==t(i)[0].style.top,left:""!==t(i)[0].style.left,right:""!==t(i)[0].style.right,bottom:""!==t(i)[0].style.bottom,position:""!==t(i)[0].style.position})),n});var u=t(window).height();t.fn.styleBufferBottom.oldBottomElements=t.fn.styleBufferBottom.oldBottomElements.filter(function(e,i){if(t(i).is(h.join(",")))return!0;if(t(i).height()>=u)return!1;if("fixed"===t(i).css("position"))return!t(i).is(":notonpage");if("absolute"===t(i).css("position")&&t(i).is(":notonpage"))return!1;var n=t(i).parents().filter(function(e,i){return!t(i).is("body,html")&&["relative","fixed","absolute"].indexOf(t(i).css("position"))>=0});return!(n&&n.length)})}return"smart"==l&&t(n).not("#sumome-smartbar-popup").style("transition","bottom .2s ease-in-out"),t.fn.styleBufferBottom.oldBottomElements&&t.fn.styleBufferBottom.oldBottomElements.length&&t.fn.styleBufferBottom.oldBottomElements.each(function(e,i){t(i).style("bottom",s+parseFloat(t(i).data("sumome-stylebufferbottom-original-offset").bottom)+"px"),s+=0===s||"fixed"===t(i).style("position")?0:t(i).height()}),t.fn.styleBufferBottom.totalOffset=s,s+=a.data("sumome-stylebufferbottom-original-paddingbottom")+a.data("sumome-stylebufferbottom-original-marginbottom"),t(".sumome-stylebufferbottom-shim").length||t('<div class="sumome-stylebufferbottom-shim" />').appendTo(a),t(".sumome-stylebufferbottom-shim").height(s),this},t.fn.styleBufferBottom._debounceInit=t.debounce(150,!0,function(e){t.fn.styleBufferBottom._init(e)}),t.fn.styleBuffer=function(e,i,n){return this.length<1?this:(t.fn.styleBuffer._groups.push({elements:this,prop:e,side:i,px:n,force:!1}),t.fn.styleBuffer._apply(this,e,i,n,!1),this)},t.fn.styleBuffer._apply=function(e,i,s,a,r,o){return t(e).each(function(){var e=t(this);if(i==s)e.style(i,a+("auto"!=a?"px":""),void 0==o?"":o);else{var l=e.data(i+"-buffer-"+s),c=e.data(i+"-buffer-"+s+"-priority");if(void 0==l?(l=e.style(i+"-"+s),c=e.style().getPropertyPriority(i+"-"+s),e.data(i+"-buffer-"+s,void 0==l?"":l),e.data(i+"-buffer-"+s+"-priority",void 0==c?"":c)):t(this).style(i+"-"+s,l,void 0==c?"":c),r)e.style(i+"-"+s,a+"px",void 0==o?"":o);else{var h=n(e.css(i+"-"+s));e.style(i+"-"+s,Math.max(h,a)+"px",void 0==o?"":o)}}}),this},t.fn.styleBuffer.smartHide=function(e,i){if(!t.fn.styleBuffer.firedSmartHide){if(t.fn.styleBuffer.firedSmartHide=!0,t.fn.styleBuffer.firedSmartShow=!1,i)var n=t.fn.styleBufferTop,s=n.oldTopElements,a="sumome-stylebuffertop-original-margin",r="sumome-stylebuffertop-original-offset",o="sumome-stylebuffertop-original-position",l="top",c="marginTop";else{var n=t.fn.styleBufferBottom,s=n.oldBottomElements,a="sumome-stylebufferbottom-original-bottom",r="sumome-stylebufferbottom-original-offset",o="sumome-stylebufferbottom-original-position",l="bottom",c="bottom";t(".sumome-stylebufferbottom-shim").length&&t(".sumome-stylebufferbottom-shim").height("-="+e)}s&&s.length&&s.each(function(i,s){if(t(s).data(r)){if("fixed"==t(s).data(o))var a=n.totalOffset-e;else var a=e+parseFloat(t(s).data(r).top);t(s).style(l,a+"px")}else t(s).style(l,"0px")}),n.stackedElements&&n.stackedElements.length&&n.stackedElements.each(function(i,n){t(n).css(c,t(n).data(a)-e)})}},t.fn.styleBuffer.smartShow=function(e,i){if(!t.fn.styleBuffer.firedSmartShow){if(t.fn.styleBuffer.firedSmartHide=!1,t.fn.styleBuffer.firedSmartShow=!0,i)var n=t.fn.styleBufferTop,s=n.oldTopElements,a="sumome-stylebuffertop-original-margin",r="sumome-stylebuffertop-original-offset",o="top",l="marginTop";else{var n=t.fn.styleBufferBottom,s=n.oldBottomElements,a="sumome-stylebufferbottom-original-bottom",r="sumome-stylebufferbottom-original-offset",o="bottom",l="bottom";t(".sumome-stylebufferbottom-shim").length&&t(".sumome-stylebufferbottom-shim").height("+="+e)}s&&s.length&&s.each(function(i,s){t(s).data(r)?t(s).style(o,n.totalOffset+"px"):t(s).style(o,e+"px")}),n.stackedElements&&n.stackedElements.length&&n.stackedElements.each(function(e,i){t(i).css(l,t(i).data(a))})}},t.fn.styleBuffer._groups=[],t.fn.styleBuffer._throttle=80,t.fn.styleBuffer.firedSmartHide=!1,t.fn.styleBuffer.firedSmartShow=!1,t.fn.styleBufferTop._groups=[],t.fn.styleBufferTop.stackedElements=null,t.fn.styleBufferTop.oldTopElements=null,t.fn.styleBufferTop.bumpDownElements=null,t.fn.styleBufferTop.changePositionElements=null,t.fn.styleBufferTop.totalOffset=0,t.fn.styleBufferTop.checkedScrollDown=!1,t.fn.styleBufferTop.classFixedElements=!1,t.fn.styleBufferTop.classFixedElementsScroll=!1,t.fn.styleBufferTop.checkScrollDown=!1,t.fn.styleBufferTop.checkScrollUp=!0,t.fn.styleBufferBottom._groups=[],t.fn.styleBufferBottom.stackedElements=null,t.fn.styleBufferBottom.oldBottomElements=null,t.fn.styleBufferBottom.totalOffset=0;var i=-1;t.fn.styleBuffer._update=t.debounce(150,!0,function(e){if(e&&"resize"===e.type){var n=t(window).width();if(n===i)return;i=n}t.each(t.fn.styleBuffer._groups,function(){t.fn.styleBuffer._apply(this.elements,this.prop,this.side,this.px,this.force,this.priority)}),t.fn.styleBufferTop._groups.length&&(t("body").styleBufferTop(!0),t.each(t.fn.styleBufferTop._groups,function(){t.fn.styleBuffer._apply(this.elements,this.prop,this.side,this.px,this.force,this.priority)})),t.fn.styleBufferBottom._groups.length&&(t("body").styleBufferBottom(!0),t.each(t.fn.styleBufferBottom._groups,function(){t.fn.styleBuffer._apply(this.elements,this.prop,this.side,this.px,this.force,this.priority)})),t(window).trigger("resize.sumome-welcomemat")}),t(window).bind("load resize orientationchange",function(e){e&&"resize"==e.type&&e.target!=window||t.fn.styleBuffer._update(e)}),e.config({strictlyNew:!1}),e("#menufication-top").every(t.proxy(function(e){t("body").styleBufferTop()},this));var n=function(t){return parseFloat(t)||0}}),sumo.define("es6!services/share/index",["jquery","URI","color","underscore","vex","plugins/text!share/templates/share.html","jquery.article","jquery.share","jquery.style","jquery.styleBuffer","jquery.displayrules"],function(t,e,i,n,s,a){function r(t,e){var e=e||1;e=Math.pow(10,e);for(var i=["k","m","b","t"],n=i.length-1;n>=0;n--){var s=Math.pow(10,3*(n+1));if(s<=t){t=Math.round(t*e/s)/e,1e3==t&&n<i.length-1&&(t=1,n++),t+=i[n];break}}return t}var o=function i(){var n=t('meta[property="og:url"]').eq(0).attr("content")||t('link[rel="canonical"]').eq(0).attr("href")||window.location.href.split("#")[0]||null;if(n){var s=e(n);return s.is("absolute")?s.toString():s.absoluteTo(window.location.href.split("#")[0]).toString()}return n};t.fn.unstatic=function(){return t(this).addClass("sumome-article"),"static"==t(this).css("position")&&t(this).css("position","relative"),"content-box"==t(this).css("box-sizing")&&t(this).css("box-sizing","border-box"),this};var l={settings:{},positionSettings:{},customPositions:{},lastScrollTop:0,lastScrollUp:0,initialize:function e(){this.api.on("9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/service/reload",t.proxy(function(){this.load()},this)),this.load()},load:function e(){this.settings={articles:t.articles()},this.settings.articles.length>1&&(this.settings.articles=t([]));var i=[];this.settings.articles.each(function(){this._url&&i.push(this._url)}),t.ajax({type:"POST",dataType:"json",url:this.api.properties.sumoUrl+"/apps/share/load",data:{site_id:this.api.properties.siteId,href:o(),urls:i,geoLocation:this.api.properties.geoLocation,pageViews:this.api.properties.views,userAgent:navigator.userAgent},xhrFields:{withCredentials:!1},crossDomain:!0}).done(t.proxy(function(e){if(e&&"success"in e&&e.success){t.extend(this.settings,e);var i=Math.min(window.screen.availWidth||t(window).width(),t(window).width());if(this.settings.use_mobile_services&&i<=this.settings.mobile_width)var n=this.settings.mobile_services;else var n=this.settings.services;var s={button_padding:this.settings.button_padding,button_style:this.settings.button_style,color:this.settings.color,services:n,services_displayed:this.settings.services_displayed,shares_background:this.settings.shares_background,shares_displayed:this.settings.shares_displayed,size:this.settings.size,offset_x:0,offset_y:0,total_shares_displayed:this.settings.total_shares_displayed};"positions"in this.settings&&this.settings.positions.length&&this.settings.positions.forEach(t.proxy(function(e){switch(e in this.settings.position_settings?this.positionSettings[e]=t.extend({},s,this.settings.position_settings[e]):this.positionSettings[e]=t.extend({},s),this.positionSettings[e].size){case"small":this.positionSettings[e].sizePx=30;break;case"large":this.positionSettings[e].sizePx=70;break;default:this.positionSettings[e].sizePx=50}!this.settings.noSumoBranding&&this.positionSettings[e].services.indexOf("sumome")<0&&this.positionSettings[e].services.push("sumome")},this)),"custom_position_settings"in this.settings&&t(this.settings.custom_position_settings).length&&this.settings.custom_position_settings.forEach(t.proxy(function(e){switch(e.use_settings||t.extend(e,s),e.size){case"small":e.sizePx=30;break;case"large":e.sizePx=70;break;default:e.sizePx=50}this.customPositions[e.position_id]=e},this)),this.settings.ctry=!(!this.api.properties.geoLocation||!this.api.properties.geoLocation.ctry)&&this.api.properties.geoLocation.ctry,this.settings.views=this.api.properties.views?this.api.properties.views:1,this.settings.reflink="https://sumo.com/?src=sm-sh-"+this.api.properties.siteId+"&utm_source=sumo-powered-by&utm_medium=share&utm_campaign="+this.api.properties.siteId,t.isCurrentUrlAllowed(this.settings.display_rules,null,this.settings.ctry,this.settings.views)||(this.settings.positions=[]),this.install(),this.fetch()}},l))},position:function e(){var i=this;t(".sumome-share-client-wrapper-left-page, .sumome-share-client-wrapper-right-page").each(function(){var e=t(window).height(),n=t(this).outerHeight(),s=Math.max(Math.floor(e-n)/2,0),a=t(this).hasClass("sumome-share-client-wrapper-left-page")?"lp":"rp";a in i.settings.position_settings&&("offset_x"in i.settings.position_settings[a]&&0!=i.settings.position_settings[a].offset_x&&("lp"==a?t(this).css("left",i.settings.position_settings[a].offset_x+"px"):t(this).css("right",0-i.settings.position_settings[a].offset_x+"px")),"offset_y"in i.settings.position_settings[a]&&0!=i.settings.position_settings[a].offset_y&&(s+=i.settings.position_settings[a].offset_y)),t(this).css("top",s+"px")}),t(".sumome-share-client-desktop-bottom-bar, .sumome-share-client-mobile-top-bar, .sumome-share-client-mobile-bottom-bar").each(function(){var e=t(this).data("sumome-share-pos"),n=i.positionSettings[e].sizePx,s=t(this).children();s.show();for(var a=document.documentElement.clientWidth||document.body.clientWidth||t(window).width(),r=Math.max(n,a/s.length),o=Math.floor(a/r),l=s.length-o,c=0,h=0;c<l&&h<s.length;){"sumome"!=s.eq(s.length-1-h).data("sumome-share")&&(s.eq(s.length-1-h).hide(),c++),h++}var u=s.length-c,d=!1,p=0,e=t(this).data("sumome-share-pos");e in i.settings.position_settings&&"button_padding"in i.settings.position_settings[e]?("button_style"in i.settings.position_settings[e]&&"circle"==i.settings.position_settings[e].button_style&&(d=!0),p=i.settings.position_settings[e].button_padding):"button_padding"in i.settings&&("button_style"in i.settings&&"circle"==i.settings.button_style&&(d=!0),p=i.settings.button_padding),d?(r=n,s.css({marginRight:(a-r*u)/(u-1)+"px"})):(p&&(a-=(u-1)*p),r=a/u),s.css({width:r+"px"}),s.eq(u-1).css("marginRight",0)}),t.each(t(".sumome-share-client-custom"),t.proxy(function e(i,n){var s=t(n),a=null,r=!1,o=0,l=this.positionSettings[t(n).data("sumome-share-pos")];if(s.hasClass("sumome-share-client-horizontal")&&l.button_padding>0){var c=s.children();if(t.each(c,t.proxy(function e(i,n){a!==t(n).offset().top&&(o=i,r||(r=!0)),a=t(n).offset().top},this)),r){t(c).css("verticalAlign","top");for(var h=0;h<o;h++)t(c[h]).css("marginBottom",l.button_padding)}}},this))},updateTotals:function e(i){this.settings.share+=i;var n=this.settings.share,s=t(".sumome-share-client-share[data-sumome-share=share]");n>=this.settings.shares_minimum?s.html("<span><strong>"+r(n)+"</strong><br>"+this.settings.shares_label+"</span>"):s.html("<span>"+this.settings.shares_label+"</span>");var a=t(".sumome-share-client-open-mobile");a.find("span").remove(),n>=this.settings.shares_minimum&&a.append("<span>"+r(n)+"</span>"),n>=this.settings.shares_minimum?t("[data-sumome-share-count=share]").text(r(n)):t("[data-sumome-share-count=share]").text(""),this.alignShareLabels()},fetch:function e(i){var i=i||null,n=null!==i;if(null===i){i=[];for(var s in t.shareServices)"background"in t.shareServices[s]&&"name"in t.shareServices[s]&&"fetch"in t.shareServices[s]&&i.push(s)}i.forEach(t.proxy(function(e){if(e in t.shareServices){var i="stumbleupon"===e,s="yummly"===e;if((n||!(e in this.settings)&&(!i||i&&this.settings.fetch_stumbleupon)&&(!s||s&&this.settings.fetch_yummly)||this.settings.fetch.indexOf(e)>=0)&&"fetch"in t.shareServices[e]&&"parse"in t.shareServices[e])if(["facebook","facebooklike"].indexOf(e)>-1&&this.settings.has_facebook_token)try{t.ajax({type:"POST",dataType:"json",xhrFields:{withCredentials:!1},crossDomain:!0,url:this.api.properties.sumoUrl+"/apps/share/facebook/queue",data:{site_id:this.api.properties.siteId,url:o()},success:t.proxy(function(t){var i=this.updateCount(e,this.settings[e]+1);this.updateTotals(i)},this)})}catch(t){}else t.shareFetch(e,o(),t.proxy(function(i,n,s){if(!i){var a=this.updateCount(e,s);this.updateTotals(a);try{t.ajax({type:"POST",dataType:"json",xhrFields:{withCredentials:!1},crossDomain:!0,url:this.api.properties.sumoUrl+"/api/jsonpcallback",data:{site_id:this.api.properties.siteId,href:n,service:e,count:s},success:function t(e){}})}catch(t){}}},this))}},this))},updateCount:function e(i,n){var s=(n||0)-(this.settings[i]||0);return this.settings[i]=n,t(".sumome-share-client-share[data-sumome-share="+i+"]").each(t.proxy(function(e,i){this.positionSettings[t(i).parent().data("sumome-share-pos")].shares_displayed&&n>=0&&n>=this.settings.shares_minimum?(t(i).addClass("sumome-share-client-count"),t(i).find("span").remove(),t(i).append("<span>"+r(n)+"</span>")):(t(i).find("span").remove(),t(i).removeClass("sumome-share-client-count"))},this)),n>=0&&n>=this.settings.shares_minimum?t("[data-sumome-share-count="+i+"]").text(r(n)):t("[data-sumome-share-count="+i+"]").text(""),s},install:function e(){t(window).on("resize.sumome-share",n.debounce(function(t){l.render()},300)),this.render(),setInterval(t.proxy(function(){this.bindCustomShares()},this),500)},remove:function e(){t(".sumome-share-client-wrapper, .sumome-share-client-open-mobile").remove()},popupMobile:function e(i,n){t(".sumome-share-client-close-mobile").trigger("click");var s=t('<div class="sumome-share-mobile-popup" />').appendTo(document.body),a=t('<div class="sumome-share-mobile-close-popup"><img src="'+this.api.properties.baseUrl+'images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/close-white-60.png" alt="Close Share"></div>'),r=t("<ul />").appendTo(s);r.data("sumome-share-target-url",i),r.data("sumome-share-target-text",n),a.appendTo(s),a.click(function(){t(document.body).removeClass("sumome-share-mobile-popup-open"),s.remove()}),t(document.body).addClass("sumome-share-mobile-popup-open"),this.renderPopupServices(r,!1)},popup:function e(i,n){this.$modal=s.open({content:"<h5>Share</h5><ul />",className:"sumome-sharer-popup sumome-sharer-popup-small",overlayClassName:"sumome-sharer-popup-overlay",contentClassName:"sumome-sharer-popup-content",closeClassName:"sumome-sharer-popup-close",overlayClosesOnClick:!0}),this.$modal.find("ul").data("sumome-share-target-url",i),this.$modal.find("ul").data("sumome-share-target-text",n),this.$modal.on("vexResize",t.proxy(function(e,i){var n=Math.max((t(window).height()-i.$vexContent.outerHeight())/2,0);i.$vex.css({"padding-top":n+"px"})},this)),this.$modal.on("vexOpen",t.proxy(function(e,i){this.renderPopupServices(this.$modal.find("ul"),!0),this.$modal.resize(),this.settings.noSumoBranding||t(".sumome-sharer-popup-overlay").append('<a class="sumome-sharer-popup-link" href="'+this.settings.reflink+'" target="_blank">Powered by Sumo</a>')},this))},renderPopupServices:function n(s,a){var r=t('<input type="text" />').attr("placeholder","Find a service");r.insertBefore(s),this.settings.noSumoBranding||s.after('<a class="sumome-sharer-popup-link" href="'+this.settings.reflink+'" target="_blank">Powered by Sumo</a>'),t.shareSortedKeys.map(t.proxy(function(e){var n=t.shareServices[e];if("background"in n&&"name"in n&&"sumome"!=e){var a=t('<li data-service="'+e+'"><img src="'+this.api.properties.baseUrl+"images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/"+e+"-"+(this.settings.color?i.whiteOrBlack(this.settings.color):"white")+'-60.png" alt="'+n.name+'">'+n.name+"</li>").data("sumome-share",e);s.append(a),a.find("img").css("background",this.settings.color?this.settings.color:"background"in n?n.background:"#ccc")}},this)),s.on("click","li",t.proxy(function(i){var n=t(i.currentTarget).data("service"),s=t(i.delegateTarget).data("sumome-share-target-url")||o(),a=t(i.delegateTarget).data("sumome-share-target-text");if("share"!=n){this.api.emit("event",{appId:"9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1",event:n+"-click",href:s}),"twitter"===n&&(t('meta[name="twitter:title"]').length&&void 0===t(i.currentTarget).data("sumome-share-text")&&(a=t('meta[name="twitter:title"]').eq(0).attr("content")),t('meta[name="twitter:url"]').length&&void 0===t(i.currentTarget).data("sumome-share-url")&&(s=t('meta[name="twitter:url"]').eq(0).attr("content")));var r={url:s,text:a,siteId:this.api.properties.siteId,sumoUrl:this.api.properties.sumoUrl,shortenUrl:this.settings.use_shortener,shortener:this.settings.shortener+this.settings.short_domain,noSumoBranding:this.settings.noSumoBranding};if("services_settings"in this.settings&&this.settings.services_settings&&n in this.settings.services_settings&&t.extend(r,this.settings.services_settings[n]),this.settings.noSumoBranding&&"url"in r&&r.url&&"utm"in this.settings&&this.settings.utm){var l=e(r.url);"utm_source"in this.settings&&this.settings.utm_source&&(l.removeQuery("utm_source"),l.addQuery("utm_source",this.settings.utm_source.replace("{service}",n))),"utm_medium"in this.settings&&this.settings.utm_medium&&(l.removeQuery("utm_medium"),l.addQuery("utm_medium",this.settings.utm_medium.replace("{service}",n))),"utm_name"in this.settings&&this.settings.utm_name&&(l.removeQuery("utm_campaign"),l.addQuery("utm_campaign",this.settings.utm_name.replace("{service}",n))),"utm_custom_key"in this.settings&&this.settings.utm_custom_key&&"utm_custom_val"in this.settings&&this.settings.utm_custom_val&&(l.removeQuery(this.settings.utm_custom_key),l.addQuery(this.settings.utm_custom_key.replace("{service}",n),this.settings.utm_custom_val.replace("{service}",n))),r.url=l.toString()}t.share(n,r,t.proxy(function(t){this.fetch([t])},this))}["fancy","kaboodle","printerfriendly","slashdot"].indexOf(n)>-1&&t(".sumome-vex-close",this.$modal).trigger("click")},this)),r.on("keyup",function(){var e=(t(this).val()+"").trim().toLowerCase(),i=t(this).next("ul");for(var n in t.shareServices){var s=t.shareServices[n];if("background"in s&&"name"in s){var a=s.name.toLowerCase(),r=""==e||a.indexOf(e)>=0;i.find('li[data-service="'+n+'"]').toggle(r)}}}),a&&r.focus()},render:function e(){var s=this.settings.articles,a=Math.min(window.screen.availWidth||t(window).width(),t(window).width()),o=a<=this.settings.mobile_width?"mobile":"desktop";if("current_mode"in this.settings&&o==this.settings.current_mode)return void this.position();if(this.remove(),0!=this.positionSettings.length){this.settings.current_mode=o;var c=50;if("large"==this.settings.size?c=70:"small"==this.settings.size&&(c=30),"mobile"==o){if("positions"in this.settings&&this.settings.positions.indexOf("mbt")>=0&&(t("body").append('<div data-sumome-stylebuffer-top="90" data-sumome-stylebuffertop-offsety="'+this.positionSettings.mbt.offset_y+'" class="sumome-share-client-wrapper sumome-share-client-wrapper-mobile-top-bar'+(this.positionSettings.mbt.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbt.size+'"><div data-sumome-share-pos="mbt" class="sumome-share-client sumome-share-client-mobile-top-bar'+(this.positionSettings.mbt.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbt.size+'"></div></div>'),t("body").styleBufferTop()),"positions"in this.settings&&this.settings.positions.indexOf("mbb")>=0&&(t("body").append('<div data-sumome-stylebuffer-bottom="90" data-sumome-stylebufferbottom-offsety="'+(0-this.positionSettings.mbb.offset_y)+'" class="sumome-share-client-wrapper sumome-share-client-wrapper-mobile-bottom-bar'+(this.positionSettings.mbb.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbb.size+'"><div data-sumome-share-pos="mbb" class="sumome-share-client sumome-share-client-mobile-bottom-bar'+(this.positionSettings.mbb.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbb.size+'"></div></div>'),t("body").styleBufferBottom(),this.settings.scroll_view&&(this.$mobileBottomBar=t(".sumome-share-client-wrapper-mobile-bottom-bar"),this.$mobileBottomBar.css("bottom",-1*this.$mobileBottomBar.height()),this.$mobileBottomBar.addClass("sumome-share-client-wrapper-mobile-bottom-bar-scroll"),this.$mobileBottomBar.addClass("sumome-share-client-wrapper-mobile-bottom-bar-hidden"),this.lastScrollTop=t(window).scrollTop(),t(window).on("scroll",n.debounce(function(){l.scroll()},1)))),"positions"in this.settings&&this.settings.positions.indexOf("mbl")>=0){var h=t('<div class="sumome-share-client-open-mobile sumome-share-client-open-mobile-left'+(this.positionSettings.mbl.total_shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbl.size+'"><img src="'+this.api.properties.baseUrl+'images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/share-black-60.png" alt="Open Share"></div>'),u=t('<div class="sumome-share-client-close-mobile sumome-share-client-close-mobile-left'+(this.positionSettings.mbl.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbl.size+'"><img src="'+this.api.properties.baseUrl+'images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/close-white-60.png" alt="Close Share"></div>'),d=t('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-mobile sumome-share-client-wrapper-mobile-left'+(this.positionSettings.mbl.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbl.size+'"></div>'),p=t('<div class="sumome-share-client-mobile sumome-share-client-mobile-left'+(this.settings.list_view?" sumome-share-client-mobile-list":"")+(this.positionSettings.mbl.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbl.size+'"></div>');if(t("body").append(h),d.append(p),p.append(u),t("body").append(d),this.positionSettings.mbl.total_shares_displayed&&"share"in this.settings&&parseInt(this.settings.share)>=this.settings.shares_minimum&&h.append("<span>"+("share"in this.settings?r(this.settings.share):"0")+"</span>"),this.positionSettings.mbl.total_shares_displayed&&(this.settings.shares_label||this.settings.shares_minimum<=0||!("share"in this.settings)||parseInt(this.settings.share)>=this.settings.shares_minimum)){var m=t('<div class="sumome-share-client-animated sumome-share-client-share sumome-share-client-share-share sumome-share-client-count" data-sumome-share="share"></div>');this.positionSettings.mbl.total_shares_displayed&&"share"in this.settings&&parseInt(this.settings.share)>=this.settings.shares_minimum?m.append("<span><strong>"+("share"in this.settings?r(this.settings.share):"0")+"</strong><br>"+this.settings.shares_label+"</span>"):m.append("<span>"+this.settings.shares_label+"</span>"),m.css("background","transparent"),m.css("color","#fff");var f=t('<div class="sumome-row"></div>'),g=t('<div class="sumome-12 sumome-columns sumome-text-center"></div>');g.append(m),f.append(g),p.append(f)}var v=t('<div class="sumome-row sumome-share-services"></div>');p.append(v);var b=0;this.positionSettings.mbl.services.forEach(t.proxy(function(e){if(b<this.positionSettings.mbl.services_displayed||"sumome"===e){var n=t('<div class="sumome-share-client-animated sumome-share-client-share"'+(this.settings.list_view?"":' data-sumome-share="'+e+'"')+'"><img src="'+this.api.properties.baseUrl+"images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/"+(this.settings.noSumoBranding&&"sumome"===e?"sumomepro":e)+"-"+(this.positionSettings.mbl.color?i.whiteOrBlack(this.positionSettings.mbl.color):"white")+'-60.png" alt="'+("sumome"===e?"More":t.shareServices[e].name)+'"></div>');this.positionSettings.mbl.shares_displayed&&e in this.settings&&parseInt(this.settings[e])>=this.settings.shares_minimum&&(n.addClass("sumome-share-client-count"),n.append("<span>"+(e in this.settings?r(this.settings[e]):"0")+"</span>")),n.css("background",this.positionSettings.mbl.color?this.positionSettings.mbl.color:"background"in t.shareServices[e]?t.shareServices[e].background:"#ccc"),n.css("color",this.positionSettings.mbl.color?i.whiteOrBlack(this.positionSettings.mbl.color):"color"in t.shareServices[e]?t.shareServices[e].color:"#fff");var s=t('<div class="sumome-4 sumome-columns'+(this.settings.list_view?'" data-sumome-share="'+e+'"':' sumome-text-center"')+"></div>");if(s.append(n),this.settings.list_view){var a="name"in t.shareServices[e]?t.shareServices[e].name:e;"SumoMe"==a&&(a="More"),s.append(a)}v.append(s),"sumome"!=e&&b++}},this)),v.find(".sumome-columns").last().addClass("sumome-end"),t(".sumome-share-client-open-mobile-left").on("click",t.proxy(function(e){t(".sumome-share-client-open-mobile-left").hide(),t(".sumome-share-client-wrapper-mobile-left").show(),t(document.body).addClass("sumome-share-mobile-popup-open")},this)),t(".sumome-share-client-close-mobile-left").on("click",t.proxy(function(e){t(".sumome-share-client-wrapper-mobile-left").hide(),t(".sumome-share-client-open-mobile-left").show(),t(document.body).removeClass("sumome-share-mobile-popup-open")},this))}if("positions"in this.settings&&this.settings.positions.indexOf("mbr")>=0){var h=t('<div class="sumome-share-client-open-mobile sumome-share-client-open-mobile-right'+(this.positionSettings.mbr.total_shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbr.size+'"><img src="'+this.api.properties.baseUrl+'images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/share-black-60.png" alt="Open Share"></div>'),u=t('<div class="sumome-share-client-close-mobile sumome-share-client-close-mobile-right'+(this.positionSettings.mbr.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbr.size+'"><img src="'+this.api.properties.baseUrl+'images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/close-white-60.png" alt="Close Share"></div>'),d=t('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-mobile sumome-share-client-wrapper-mobile-right'+(this.positionSettings.mbr.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbr.size+'"></div>'),p=t('<div class="sumome-share-client-mobile sumome-share-client-mobile-right'+(this.positionSettings.mbr.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbr.size+'"></div>');if(t("body").append(h),d.append(p),p.append(u),t("body").append(d),this.positionSettings.mbr.total_shares_displayed&&"share"in this.settings&&parseInt(this.settings.share)>=this.settings.shares_minimum&&h.append("<span>"+("share"in this.settings?r(this.settings.share):"0")+"</span>"),this.positionSettings.mbr.total_shares_displayed&&(this.settings.shares_label||this.settings.shares_minimum<=0||!("share"in this.settings)||parseInt(this.settings.share)>=this.settings.shares_minimum)){var m=t('<div class="sumome-share-client-animated sumome-share-client-share sumome-share-client-share-share sumome-share-client-count" data-sumome-share="share"></div>');this.positionSettings.mbr.total_shares_displayed&&"share"in this.settings&&parseInt(this.settings.share)>=this.settings.shares_minimum?m.append("<span><strong>"+("share"in this.settings?r(this.settings.share):"0")+"</strong><br>"+this.settings.shares_label+"</span>"):m.append("<span>"+this.settings.shares_label+"</span>"),m.css("background","transparent"),m.css("color","#fff");var f=t('<div class="sumome-row"></div>'),g=t('<div class="sumome-12 sumome-columns sumome-text-center"></div>');g.append(m),f.append(g),p.append(f)}var v=t('<div class="sumome-row"></div>')
;p.append(v);var b=0;this.positionSettings.mbr.services.forEach(t.proxy(function(e){if(b<this.positionSettings.mbr.services_displayed||"sumome"===e){var n=t('<div class="sumome-share-client-animated sumome-share-client-share" data-sumome-share="'+e+'"><img src="'+this.api.properties.baseUrl+"images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/"+(this.settings.noSumoBranding&&"sumome"===e?"sumomepro":e)+"-"+(this.positionSettings.mbr.color?i.whiteOrBlack(this.positionSettings.mbr.color):"white")+'-60.png" alt="'+(this.settings.noSumoBranding&&"sumome"===e?"More":t.shareServices[e].name)+'"></div>');this.positionSettings.mbr.shares_displayed&&e in this.settings&&parseInt(this.settings[e])>=this.settings.shares_minimum&&(n.addClass("sumome-share-client-count"),n.append("<span>"+(e in this.settings?r(this.settings[e]):"0")+"</span>")),n.css("background",this.positionSettings.mbr.color?this.positionSettings.mbr.color:"background"in t.shareServices[e]?t.shareServices[e].background:"#ccc"),n.css("color",this.positionSettings.mbr.color?i.whiteOrBlack(this.positionSettings.mbr.color):"color"in t.shareServices[e]?t.shareServices[e].color:"#fff");var s=t('<div class="sumome-4 sumome-columns sumome-text-center"></div>');s.append(n),v.append(s),"sumome"!=e&&b++}},this)),v.find(".sumome-columns").last().addClass("sumome-end"),t(".sumome-share-client-open-mobile-right").on("click",t.proxy(function(e){t(".sumome-share-client-open-mobile-right").hide(),t(".sumome-share-client-wrapper-mobile-right").show(),t(document.body).addClass("sumome-share-mobile-popup-open")},this)),t(".sumome-share-client-close-mobile-right").on("click",t.proxy(function(e){t(".sumome-share-client-wrapper-mobile-right").hide(),t(".sumome-share-client-open-mobile-right").show(),t(document.body).removeClass("sumome-share-mobile-popup-open")},this))}}else{if(t.fn.styleBuffer._update(),"positions"in this.settings&&this.settings.positions.indexOf("la"),"positions"in this.settings&&this.settings.positions.indexOf("ra"),"positions"in this.settings&&this.settings.positions.indexOf("ra")>=0){s.unstatic(),s.styleBuffer("padding","right",20+this.positionSettings.ra.sizePx);var _=this;s.each(function(){var e=parseInt(t(this).css("padding-right").replace("px",""))-(c+10),i=t('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-right-sidebar'+(_.positionSettings.ra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+_.settings.theme+" sumome-share-client-"+_.positionSettings.ra.size+'"></div>'),n=t('<div data-sumome-share-pos="ra" class="sumome-share-client sumome-share-client-right-sidebar-article'+(_.positionSettings.ra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+_.settings.theme+" sumome-share-client-"+_.positionSettings.ra.size+'"></div>');if(i.append(n),this._header){var s=this._header.position().top,a=this._header.outerHeight();i.css("top",s+a+"px")}i.css("right",e+"px"),t(this).prepend(i)})}if("positions"in this.settings&&this.settings.positions.indexOf("la")>=0){s.unstatic(),s.styleBuffer("padding","left",2+this.positionSettings.la.sizePx);var _=this;s.each(function(){var e=parseInt(t(this).css("padding-left").replace("px",""))-(10+c),i=t('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-left-sidebar'+(_.positionSettings.la.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+_.settings.theme+" sumome-share-client-"+_.positionSettings.la.size+'"></div>'),n=t('<div data-sumome-share-pos="la" class="sumome-share-client sumome-share-client-left-sidebar-article'+(_.positionSettings.la.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+_.settings.theme+" sumome-share-client-"+_.positionSettings.la.size+'"></div>');if(i.append(n),this._header){var s=this._header.position().top,a=this._header.outerHeight();i.css("top",s+a+"px")}i.css("left",e+"px"),t(this).prepend(i)})}if("positions"in this.settings&&this.settings.positions.indexOf("hra")>=0){s.unstatic();var _=this;s.each(function(){var e=t('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-right'+(_.positionSettings.hra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+_.settings.theme+" sumome-share-client-"+_.positionSettings.hra.size+'"></div>'),i=t('<div data-sumome-share-pos="hra" class="sumome-share-client sumome-share-client-header-right-article'+(_.positionSettings.hra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+_.settings.theme+" sumome-share-client-"+_.positionSettings.hra.size+'"></div>');e.append(i),this._header?this._header.after(e):t(this).prepend(e)})}if("positions"in this.settings&&this.settings.positions.indexOf("hca")>=0){s.unstatic();var _=this;s.each(function(){var e=t('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-center'+(_.positionSettings.hca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+_.settings.theme+" sumome-share-client-"+_.positionSettings.hca.size+'"></div>'),i=t('<div data-sumome-share-pos="hca" class="sumome-share-client sumome-share-client-header-center-article'+(_.positionSettings.hca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+_.settings.theme+" sumome-share-client-"+_.positionSettings.hca.size+'"></div>');e.append(i),this._header?this._header.after(e):t(this).prepend(e)})}if("positions"in this.settings&&this.settings.positions.indexOf("hla")>=0){s.unstatic();var _=this;s.each(function(){var e=t('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-left'+(_.positionSettings.hla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+_.settings.theme+" sumome-share-client-"+_.positionSettings.hla.size+'"></div>'),i=t('<div data-sumome-share-pos="hla" class="sumome-share-client sumome-share-client-header-left-article'+(_.positionSettings.hla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+_.settings.theme+" sumome-share-client-"+_.positionSettings.hla.size+'"></div>');e.append(i),this._header?this._header.after(e):t(this).prepend(e)})}if("positions"in this.settings&&this.settings.positions.indexOf("tra")>=0){s.unstatic();var _=this;s.each(function(){var e=t('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-right'+(_.positionSettings.tra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+_.settings.theme+" sumome-share-client-"+_.positionSettings.tra.size+'"></div>'),i=t('<div data-sumome-share-pos="tra" class="sumome-share-client sumome-share-client-top-right-article'+(_.positionSettings.tra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+_.settings.theme+" sumome-share-client-"+_.positionSettings.tra.size+'"></div>');e.append(i),t(this).prepend(e)})}if("positions"in this.settings&&this.settings.positions.indexOf("tca")>=0){s.unstatic();var _=this;s.each(function(){var e=t('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-center'+(_.positionSettings.tca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+_.settings.theme+" sumome-share-client-"+_.positionSettings.tca.size+'"></div>'),i=t('<div data-sumome-share-pos="tca" class="sumome-share-client sumome-share-client-top-center-article'+(_.positionSettings.tca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+_.settings.theme+" sumome-share-client-"+_.positionSettings.tca.size+'"></div>');e.append(i),t(this).prepend(e)})}if("positions"in this.settings&&this.settings.positions.indexOf("tla")>=0){s.unstatic();var _=this;s.each(function(){var e=t('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-left'+(_.positionSettings.tla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+_.settings.theme+" sumome-share-client-"+_.positionSettings.tla.size+'"></div>'),i=t('<div data-sumome-share-pos="tla" class="sumome-share-client sumome-share-client-top-left-article'+(_.positionSettings.tla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+_.settings.theme+" sumome-share-client-"+_.positionSettings.tla.size+'"></div>');e.append(i),t(this).prepend(e)})}if("positions"in this.settings&&this.settings.positions.indexOf("bra")>=0&&s.unstatic().append('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-right'+(this.positionSettings.bra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bra.size+'"><div data-sumome-share-pos="bra" class="sumome-share-client sumome-share-client-bottom-right-article'+(this.positionSettings.bra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bra.size+'"></div></div>'),"positions"in this.settings&&this.settings.positions.indexOf("bca")>=0&&s.unstatic().append('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-center'+(this.positionSettings.bca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bca.size+'"><div data-sumome-share-pos="bca" class="sumome-share-client sumome-share-client-bottom-center-article'+(this.positionSettings.bca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bca.size+'"></div></div>'),"positions"in this.settings&&this.settings.positions.indexOf("bla")>=0&&s.unstatic().append('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-left'+(this.positionSettings.bla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bla.size+'"><div data-sumome-share-pos="bla" class="sumome-share-client sumome-share-client-bottom-left-article'+(this.positionSettings.bla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bla.size+'"></div></div>'),"positions"in this.settings&&this.settings.positions.indexOf("lp")>=0&&t("body").append('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-left-page'+(this.positionSettings.lp.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.lp.size+'"><div data-sumome-share-pos="lp" class="sumome-share-client sumome-share-client-left-page'+(this.positionSettings.lp.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.lp.size+'"></div></div>'),"positions"in this.settings&&this.settings.positions.indexOf("rp")>=0&&t("body").append('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-right-page'+(this.positionSettings.rp.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.rp.size+'"><div data-sumome-share-pos="rp" class="sumome-share-client sumome-share-client-right-page'+(this.positionSettings.rp.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.rp.size+'"></div></div>'),"positions"in this.settings&&this.settings.positions.indexOf("dbb")>=0&&(t("body").append('<div data-sumome-stylebuffer-bottom="90" data-sumome-stylebufferbottom-offsety="'+(0-this.positionSettings.dbb.offset_y)+'" class="sumome-share-client-wrapper sumome-share-client-wrapper-desktop-bottom-bar'+(this.positionSettings.dbb.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.dbb.size+'"><div data-sumome-share-pos="dbb" class="sumome-share-client sumome-share-client-desktop-bottom-bar'+(this.positionSettings.dbb.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.dbb.size+'"></div></div>'),t("body").styleBufferBottom()),"positions"in this.settings&&(this.settings.positions.indexOf("lp")>=0||this.settings.positions.indexOf("rp")>=0)){var y=t('<div class="sumome-share-client-show"><span /></div>');t(".sumome-share-client-wrapper-left-page, .sumome-share-client-wrapper-right-page").prepend(y);var w=t('<div class="sumome-share-client-hide"><span /></div>');t(".sumome-share-client-wrapper-left-page, .sumome-share-client-wrapper-right-page").append(w),t(".sumome-share-client-wrapper-left-page, .sumome-share-client-wrapper-right-page").hover(function(){t(this).hasClass("sumome-share-client-hidden")||t(this).find(".sumome-share-client-hide").fadeIn("fast")},function(){t(this).find(".sumome-share-client-hide").fadeOut("fast")}),t(".sumome-share-client-hide").click(function(){var e=t(this).closest(".sumome-share-client-wrapper"),i=e.hasClass("sumome-share-client-wrapper-left-page");e.data("sumome-share-original-position",e.css(i?"left":"right")),e.animate(i?{left:"-"+c+"px"}:{right:"-"+c+"px"},"fast",function(){t(this).addClass("sumome-share-client-hidden"),t(this).find(".sumome-share-client-hide").hide(),t(this).animate(i?{left:"0px"}:{right:"0px"},"fast")})}),t(".sumome-share-client-show").click(function(){var e=t(this).closest(".sumome-share-client-wrapper"),i=e.hasClass("sumome-share-client-wrapper-left-page"),n=e.data("sumome-share-original-position");e.animate(i?{left:"-"+c+"px"}:{right:"-"+c+"px"},"fast",function(){t(this).removeClass("sumome-share-client-hidden"),t(this).find(".sumome-share-client-hide").show(),t(this).animate(i?{left:n}:{right:n},"fast")})})}}this.addButtons(t(".sumome-share-client"),o),this.applyPositionSettings(),this.position(),this.alignShareLabels(),this.updateCustomCounts(),t(".sumome-share-client-share",t(".sumome-share-client-mobile-right,.sumome-share-client-mobile-left")).on("click",t.proxy(function(t){this.click(t)},this)),this.api.emit("9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/service/rendered")}},addButtons:function e(n,s){n.each(t.proxy(function(e,n){var a=this.positionSettings[t(n).data("sumome-share-pos")],o="share"in this.settings?r(this.settings.share):"0";if(a.total_shares_displayed&&(this.settings.shares_label||this.settings.shares_minimum<=0||!("share"in this.settings)||parseInt(this.settings.share)>=this.settings.shares_minimum)){var l=t('<div class="sumome-share-client-animated sumome-share-client-share sumome-share-client-share-share sumome-share-client-count" data-sumome-share="share"></div>');a.total_shares_displayed&&"share"in this.settings&&parseInt(this.settings.share)>=this.settings.shares_minimum?l.append("<span><strong>"+o+"</strong><br>"+this.settings.shares_label+"</span>"):l.append("<span>"+this.settings.shares_label+"</span>"),"mobile"===s?(l.css("background",a.color?a.color:"transparent"),l.css("color",a.color?i.whiteOrBlack(a.color):"black")):(l.css("background","transparent"),l.css("color","#000")),t(n).append(l)}var c=0,h="";t(n).data("sumome-share-url")&&(h+=' data-sumome-share-url="'+t(n).data("sumome-share-url")+'"'),t(n).data("sumome-share-text")&&(h+=' data-sumome-share-text="'+t(n).data("sumome-share-text")+'"'),a.services.forEach(t.proxy(function(e){if((c<a.services_displayed||"sumome"===e)&&"share"!=e){var s=t("<a"+h+' title="'+(this.settings.noSumoBranding&&"sumome"==e?"More":t.shareServices[e].name)+'" class="sumome-share-client-animated sumome-share-client-share" data-sumome-share="'+e+'" href="javascript:void(0);"><img src="'+this.api.properties.baseUrl+"images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/"+(this.settings.noSumoBranding&&"sumome"==e?"sumomepro":e)+"-"+(a.color?i.whiteOrBlack(a.color):"white")+'-60.png" alt="'+(this.settings.noSumoBranding&&"sumome"===e?"More":t.shareServices[e].name)+'"></a>');a.shares_displayed&&e in this.settings&&parseInt(this.settings[e])>=this.settings.shares_minimum&&(s.addClass("sumome-share-client-count"),s.append("<span>"+(e in this.settings?r(this.settings[e]):"0")+"</span>")),s.css("background",a.color?a.color:"background"in t.shareServices[e]?t.shareServices[e].background:"#ccc"),s.css("color",a.color?i.whiteOrBlack(a.color):"color"in t.shareServices[e]?t.shareServices[e].color:"#fff"),t(n).append(s),"sumome"!=e&&c++}},this)),t(".sumome-share-client-share",t('[data-sumome-share-pos="'+t(n).data("sumome-share-pos")+'"]')).hover(t.proxy(function(){var e=t(this).data("sumome-share");if(e&&e in t.shareServices){var n=i.shadeColor(a.color?a.color:"background"in t.shareServices[e]?t.shareServices[e].background:"#ccc",-10);t(this).css("background",n)}}),t.proxy(function(){var e=t(this).data("sumome-share");e&&e in t.shareServices&&t(this).css("background",a.color?a.color:"background"in t.shareServices[e]?t.shareServices[e].background:"#ccc")})),t(".sumome-share-client-share",n).on("click",t.proxy(function(t){this.click(t)},this))},this))},bindCustomShares:function e(){var i=t("[data-sumome-share]:not(.sumome-share-client-share, [data-sumome-custom])");i.on("click",t.proxy(function(t){this.click(t)},this)).attr("data-sumome-custom",!0),i.length>0&&this.updateCustomCounts();var n=t("[data-sumome-share-id]:empty");if(n.length>0){var s=Math.min(window.screen.availWidth||t(window).width(),t(window).width()),a=s<=this.settings.mobile_width?"mobile":"desktop";t.each(n,t.proxy(function(e,i){var n=t(i).data("sumome-share-id");if(n in this.customPositions){var s=this.customPositions[n];if("mobile"!=a||s.show_mobile){var r=t(i),o="";r.data("sumome-share-url")&&(o+=' data-sumome-share-url="'+r.data("sumome-share-url")+'"'),r.data("sumome-share-text")&&(o+=' data-sumome-share-text="'+r.data("sumome-share-text")+'"'),r.html('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-custom'+(s.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+(s.float?" sumome-share-client-float-"+s.float:"")+" sumome-share-client-"+s.size+'"><div data-sumome-share-pos="'+s.position_id+'" class="sumome-share-client sumome-share-client-custom'+(s.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+s.size+" sumome-share-client-"+s.orientation+'"'+o+"></div></div>"),this.positionSettings[s.position_id]=s}}},this)),this.addButtons(t(".sumome-share-client",n),a),this.applyPositionSettings(),this.position(),this.alignShareLabels(),this.updateCustomCounts()}},updateCustomCounts:function e(){t("[data-sumome-share-count]").each(t.proxy(function(e,i){var n=t(i).data("sumome-share-count");n in this.settings&&parseInt(this.settings[n])>=this.settings.shares_minimum?t(i).text(n in this.settings?r(this.settings[n]):"0"):t(i).text("")},this))},click:function i(n){var s=t(n.currentTarget).data("sumome-share"),a=t(n.currentTarget).data("sumome-share-url")||t(n.currentTarget).closest(".sumome-share-client").data("sumome-share-target-url")||o(),r=t(n.currentTarget).data("sumome-share-text")||t(n.currentTarget).closest(".sumome-share-client").data("sumome-share-target-text");if("sumome"==s)this.api.emit("event",{appId:"9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1",event:s+"-click",href:a}),"mobile"===this.settings.current_mode?this.popupMobile(a,r):this.popup(a,r);else if("share"!=s){this.api.emit("event",{appId:"9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1",event:s+"-click",href:a}),"twitter"===s&&(t('meta[name="twitter:title"]').length&&void 0===t(n.currentTarget).data("sumome-share-text")&&(r=t('meta[name="twitter:title"]').eq(0).attr("content")),t('meta[name="twitter:url"]').length&&void 0===t(n.currentTarget).data("sumome-share-url")&&(a=t('meta[name="twitter:url"]').eq(0).attr("content")));var l={url:a,text:r,siteId:this.api.properties.siteId,sumoUrl:this.api.properties.sumoUrl,shortenUrl:this.settings.use_shortener,shortener:this.settings.shortener+this.settings.short_domain,noSumoBranding:this.settings.noSumoBranding};if("services_settings"in this.settings&&this.settings.services_settings&&s in this.settings.services_settings&&t.extend(l,this.settings.services_settings[s]),this.settings.noSumoBranding&&"url"in l&&l.url&&"utm"in this.settings&&this.settings.utm){var c=e(l.url);"utm_source"in this.settings&&this.settings.utm_source&&(c.removeQuery("utm_source"),c.addQuery("utm_source",this.settings.utm_source.replace("{service}",s))),"utm_medium"in this.settings&&this.settings.utm_medium&&(c.removeQuery("utm_medium"),c.addQuery("utm_medium",this.settings.utm_medium.replace("{service}",s))),"utm_name"in this.settings&&this.settings.utm_name&&(c.removeQuery("utm_campaign"),c.addQuery("utm_campaign",this.settings.utm_name.replace("{service}",s))),"utm_custom_key"in this.settings&&this.settings.utm_custom_key&&"utm_custom_val"in this.settings&&this.settings.utm_custom_val&&(c.removeQuery(this.settings.utm_custom_key),c.addQuery(this.settings.utm_custom_key,this.settings.utm_custom_val.replace("{service}",s))),l.url=c.toString()}t.share(s,l,t.proxy(function(t){this.fetch([t])},this))}},applyPositionSettings:function e(){var n=this.settings;if("object"==typeof n&&(Array.isArray(n.positions)&&0!==n.positions.length||"object"==typeof this.customPositions)&&"object"==typeof n.position_settings){var s={lp:{suffix:"left-page",layout:"vertical"},rp:{suffix:"right-page",layout:"vertical"},la:{suffix:"left-sidebar-article",layout:"vertical"},ra:{suffix:"right-sidebar-article",layout:"vertical"},hla:{suffix:"header-left-article",layout:"horizontal"},hca:{suffix:"header-center-article",layout:"horizontal"},hra:{suffix:"header-right-article",layout:"horizontal"},tla:{suffix:"top-left-article",layout:"horizontal"},tca:{suffix:"top-center-article",layout:"horizontal"},tra:{suffix:"top-right-article",layout:"horizontal"},bla:{suffix:"bottom-left-article",layout:"horizontal"},bca:{suffix:"bottom-center-article",layout:"horizontal"},bra:{suffix:"bottom-right-article",layout:"horizontal"},dbb:{suffix:"wrapper-desktop-bottom-bar",layout:"horizontal"},mbt:{suffix:"wrapper-mobile-top-bar",layout:"horizontal"},mbb:{suffix:"wrapper-mobile-bottom-bar",layout:"horizontal"},mbl:{suffix:"open-mobile-left",layout:"horizontal"},mbr:{suffix:"open-mobile-right",layout:"horizontal"}};t(this.customPositions).length&&t.each(this.customPositions,t.proxy(function t(e,i){n.positions.push(i.position_id),s[i.position_id]={suffix:!1,layout:i.orientation}},this)),n.positions.forEach(t.proxy(function e(n){if(s.hasOwnProperty(n)){var a=this.positionSettings[n],r=s[n],o;if(r.suffix)o=t(".sumome-share-client-"+r.suffix);else{if(void 0===a)return;o=t('[data-sumome-share-id="'+a.position_id+'"]')}if(o.removeClass("sumome-share-client-circle").removeClass("sumome-share-client-rounded"),a.button_style&&"square"!==a.button_style&&o.addClass("sumome-share-client-"+a.button_style),a.button_padding&&a.button_padding>0&&t(".sumome-share-client-share",o).css("margin"+("vertical"==r.layout?"Bottom":"Right"),a.button_padding+"px"),a.shares_background)if(["mbl","mbr"].indexOf(n)>-1){var l=i.whiteOrBlack(a.shares_background);o.css({backgroundColor:i.hexToRGBA(a.shares_background,.8)}).find("span").css({color:l}),"white"===l&&o.find("img").attr("src",this.api.properties.baseUrl+"images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/share-white-60.png")}else{if(a.shares_background)var c={backgroundColor:a.shares_background,color:i.whiteOrBlack(a.shares_background)};else var c={backgroundColor:"transparent",color:"#000"};t(".sumome-share-client-share-share",o).css(c)}if(["la","ra"].indexOf(n)>-1&&(o=o.closest(".sumome-share-client-wrapper")),!(["lp","rp"].indexOf(n)<0))if(["mbt","mbb","mbl","mbr"].indexOf(n)>-1){if(a.offset_x&&0!==a.offset_x){var h="left",u=a.offset_x;"mbr"==n&&(h="right",u=0-u),o.css(h,u+"px")}["mbt","mbb"].indexOf(n)<0&&a.offset_y&&0!==a.offset_y&&o.css("bottom",0-a.offset_y+"px")}else{var d="marginTop",h="marginLeft",u=0;a.position_id&&(o=t(".sumome-share-client-wrapper-custom",o)),a.offset_x&&0!==a.offset_x&&("la"===n?h="left":"ra"===n?h="right":["tra","hra","bra"].indexOf(n)>-1&&(h="marginRight"),u=["ra","tra","hra","bra"].indexOf(n)>-1?0-a.offset_x:a.offset_x,o.css(h,u+"px")),a.offset_y&&0!==a.offset_y&&(["la","ra"].indexOf(n)>-1&&(d="top"),o.css(d,a.offset_y+"px"))}}},this))}},alignShareLabels:function e(){t.each(t(".sumome-share-client-share-share"),function(){var e=t(this).outerHeight(),i=t(this).find("span").css("bottom","auto"),n=t(i).outerHeight();t(i).css("top",(e-n)/2+"px")})},scroll:function e(){if(null!=this.$mobileBottomBar){var i=t(window).scrollTop(),n="sumome-share-client-wrapper-mobile-bottom-bar-hidden",s=!this.$mobileBottomBar.hasClass(n),a=this.$mobileBottomBar.height()||16;i>this.lastScrollTop?(this.lastScrollUp=0,s||(this.$mobileBottomBar.css("bottom",""),this.$mobileBottomBar.removeClass(n))):i<this.lastScrollTop&&(this.lastScrollUp+=this.lastScrollTop-i,(s&&this.lastScrollUp>=a/2||0==i)&&(this.$mobileBottomBar.css("bottom",-1*a),this.$mobileBottomBar.addClass(n))),this.lastScrollTop=i}}};return l}),sumo.define("services/services",["jquery","es6!launcher/util/constants","es6!services/highlighter/index","es6!services/contact-form/index","es6!services/content-analytics/index","googleanalytics/trackingcode","es6!services/heatmaps/index","es6!services/image-sharer/index","es6!services/share/index"],function(t,e,i,n,s,a,r,o,l){return function(t){var c=t.properties.services||[];return{init:function h(u,d){if("admin"===t.properties.mode||"manage"===t.properties.mode)return d();if(-1!==c.indexOf(e.HIGHLIGHTER_APP_UUID)&&sumo.require(["plugins/css!../css/highlighter-popup.css"],function(){i.api=t,i.sumoProperties=t.properties,i.initialize()}),-1!==c.indexOf(e.CONTACT_FORM_APP_UUID)&&sumo.require(["plugins/css!../css/sme-contactform-popup.css"],function(){n.api=t,n.sumoProperties=t.properties,n.load()}),-1!==c.indexOf(e.CONTENT_ANALYTICS_APP_UUID)){new s(t).init({},function(){})}if(-1!==c.indexOf(e.GOOGLE_ANALYTICS_APP_ID)&&(a.api=t,a.sumoProperties=t.properties,a.initialize()),-1!==c.indexOf(e.HEAT_MAPS_APP_UUID)){new r(t).init({},function(){})}-1!==c.indexOf(e.IMAGE_SHARER_APP_UUID)&&sumo.require(["plugins/css!../css/sumome-image-sharer.css"],function(){o.api=t,o.sumoProperties=t.properties,o.init()}),-1!==c.indexOf(e.SHARE_APP_UUID)&&sumo.require(["plugins/css!../css/sumome-share-client.css"],function(){l.api=t,l.initialize()}),d()},destroy:function t(e){e()}}}}),sumo.define("services/services",function(){})}(void 0,void 0);